var Xk=Object.defineProperty;var yy=e=>{throw TypeError(e)};var Jk=(e,t,n)=>t in e?Xk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _e=(e,t,n)=>Jk(e,typeof t!="symbol"?t+"":t,n),pf=(e,t,n)=>t.has(e)||yy("Cannot "+n);var ne=(e,t,n)=>(pf(e,t,"read from private field"),n?n.call(e):t.get(e)),It=(e,t,n)=>t.has(e)?yy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ft=(e,t,n,r)=>(pf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Qn=(e,t,n)=>(pf(e,t,"access private method"),n);var md=(e,t,n,r)=>({set _(a){ft(e,t,a,n)},get _(){return ne(e,t,r)}});function Zk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Rb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mb={exports:{}},mm={},Ob={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=Symbol.for("react.element"),e_=Symbol.for("react.portal"),t_=Symbol.for("react.fragment"),n_=Symbol.for("react.strict_mode"),r_=Symbol.for("react.profiler"),s_=Symbol.for("react.provider"),a_=Symbol.for("react.context"),i_=Symbol.for("react.forward_ref"),o_=Symbol.for("react.suspense"),l_=Symbol.for("react.memo"),c_=Symbol.for("react.lazy"),vy=Symbol.iterator;function d_(e){return e===null||typeof e!="object"?null:(e=vy&&e[vy]||e["@@iterator"],typeof e=="function"?e:null)}var Ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ib=Object.assign,Fb={};function wl(e,t,n){this.props=e,this.context=t,this.refs=Fb,this.updater=n||Ab}wl.prototype.isReactComponent={};wl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lb(){}Lb.prototype=wl.prototype;function nx(e,t,n){this.props=e,this.context=t,this.refs=Fb,this.updater=n||Ab}var rx=nx.prototype=new Lb;rx.constructor=nx;Ib(rx,wl.prototype);rx.isPureReactComponent=!0;var by=Array.isArray,$b=Object.prototype.hasOwnProperty,sx={current:null},Bb={key:!0,ref:!0,__self:!0,__source:!0};function Wb(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$b.call(t,r)&&!Bb.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Vc,type:e,key:i,ref:o,props:a,_owner:sx.current}}function u_(e,t){return{$$typeof:Vc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ax(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vc}function m_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wy=/\/+/g;function xf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m_(""+e.key):t.toString(36)}function zd(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vc:case e_:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+xf(o,0):r,by(a)?(n="",e!=null&&(n=e.replace(wy,"$&/")+"/"),zd(a,t,n,"",function(d){return d})):a!=null&&(ax(a)&&(a=u_(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(wy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",by(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+xf(i,l);o+=zd(i,t,n,c,a)}else if(c=d_(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+xf(i,l++),o+=zd(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fd(e,t,n){if(e==null)return e;var r=[],a=0;return zd(e,r,"","",function(i){return t.call(n,i,a++)}),r}function f_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fr={current:null},Hd={transition:null},h_={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Hd,ReactCurrentOwner:sx};function Yb(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:fd,forEach:function(e,t,n){fd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fd(e,function(){t++}),t},toArray:function(e){return fd(e,function(t){return t})||[]},only:function(e){if(!ax(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=wl;jt.Fragment=t_;jt.Profiler=r_;jt.PureComponent=nx;jt.StrictMode=n_;jt.Suspense=o_;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h_;jt.act=Yb;jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ib({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=sx.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$b.call(t,c)&&!Bb.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Vc,type:e.type,key:a,ref:i,props:r,_owner:o}};jt.createContext=function(e){return e={$$typeof:a_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s_,_context:e},e.Consumer=e};jt.createElement=Wb;jt.createFactory=function(e){var t=Wb.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:i_,render:e}};jt.isValidElement=ax;jt.lazy=function(e){return{$$typeof:c_,_payload:{_status:-1,_result:e},_init:f_}};jt.memo=function(e,t){return{$$typeof:l_,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=Hd.transition;Hd.transition={};try{e()}finally{Hd.transition=t}};jt.unstable_act=Yb;jt.useCallback=function(e,t){return fr.current.useCallback(e,t)};jt.useContext=function(e){return fr.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return fr.current.useDeferredValue(e)};jt.useEffect=function(e,t){return fr.current.useEffect(e,t)};jt.useId=function(){return fr.current.useId()};jt.useImperativeHandle=function(e,t,n){return fr.current.useImperativeHandle(e,t,n)};jt.useInsertionEffect=function(e,t){return fr.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return fr.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return fr.current.useMemo(e,t)};jt.useReducer=function(e,t,n){return fr.current.useReducer(e,t,n)};jt.useRef=function(e){return fr.current.useRef(e)};jt.useState=function(e){return fr.current.useState(e)};jt.useSyncExternalStore=function(e,t,n){return fr.current.useSyncExternalStore(e,t,n)};jt.useTransition=function(){return fr.current.useTransition()};jt.version="18.3.1";Ob.exports=jt;var m=Ob.exports;const A=Rb(m),fm=Zk({__proto__:null,default:A},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_=m,x_=Symbol.for("react.element"),g_=Symbol.for("react.fragment"),y_=Object.prototype.hasOwnProperty,v_=p_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b_={key:!0,ref:!0,__self:!0,__source:!0};function Ub(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)y_.call(t,r)&&!b_.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:x_,type:e,key:i,ref:o,props:a,_owner:v_.current}}mm.Fragment=g_;mm.jsx=Ub;mm.jsxs=Ub;Mb.exports=mm;var s=Mb.exports,zb={exports:{}},Lr={},Hb={exports:{}},Vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,T){var L=_.length;_.push(T);e:for(;0<L;){var U=L-1>>>1,z=_[U];if(0<a(z,T))_[U]=T,_[L]=z,L=U;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var T=_[0],L=_.pop();if(L!==T){_[0]=L;e:for(var U=0,z=_.length,G=z>>>1;U<G;){var ye=2*(U+1)-1,Ce=_[ye],ge=ye+1,Q=_[ge];if(0>a(Ce,L))ge<z&&0>a(Q,Ce)?(_[U]=Q,_[ge]=L,U=ge):(_[U]=Ce,_[ye]=L,U=ye);else if(ge<z&&0>a(Q,L))_[U]=Q,_[ge]=L,U=ge;else break e}}return T}function a(_,T){var L=_.sortIndex-T.sortIndex;return L!==0?L:_.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,g=!1,v=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var T=n(d);T!==null;){if(T.callback===null)r(d);else if(T.startTime<=_)r(d),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(d)}}function j(_){if(p=!1,b(_),!v)if(n(c)!==null)v=!0,q(N);else{var T=n(d);T!==null&&D(j,T.startTime-_)}}function N(_,T){v=!1,p&&(p=!1,x(S),S=-1),g=!0;var L=h;try{for(b(T),f=n(c);f!==null&&(!(f.expirationTime>T)||_&&!F());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var z=U(f.expirationTime<=T);T=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(c)&&r(c),b(T)}else r(c);f=n(c)}if(f!==null)var G=!0;else{var ye=n(d);ye!==null&&D(j,ye.startTime-T),G=!1}return G}finally{f=null,h=L,g=!1}}var P=!1,C=null,S=-1,O=5,k=-1;function F(){return!(e.unstable_now()-k<O)}function B(){if(C!==null){var _=e.unstable_now();k=_;var T=!0;try{T=C(!0,_)}finally{T?ee():(P=!1,C=null)}}else P=!1}var ee;if(typeof y=="function")ee=function(){y(B)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,J=re.port2;re.port1.onmessage=B,ee=function(){J.postMessage(null)}}else ee=function(){w(B,0)};function q(_){C=_,P||(P=!0,ee())}function D(_,T){S=w(function(){_(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,q(N))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var L=h;h=T;try{return _()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,T){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var L=h;h=_;try{return T()}finally{h=L}},e.unstable_scheduleCallback=function(_,T,L){var U=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?U+L:U):L=U,_){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=L+z,_={id:u++,callback:T,priorityLevel:_,startTime:L,expirationTime:z,sortIndex:-1},L>U?(_.sortIndex=L,t(d,_),n(c)===null&&_===n(d)&&(p?(x(S),S=-1):p=!0,D(j,L-U))):(_.sortIndex=z,t(c,_),v||g||(v=!0,q(N))),_},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(_){var T=h;return function(){var L=h;h=T;try{return _.apply(this,arguments)}finally{h=L}}}})(Vb);Hb.exports=Vb;var w_=Hb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_=m,Ar=w_;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qb=new Set,gc={};function lo(e,t){rl(e,t),rl(e+"Capture",t)}function rl(e,t){for(gc[e]=t,e=0;e<t.length;e++)qb.add(t[e])}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=Object.prototype.hasOwnProperty,N_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jy={},Ny={};function S_(e){return Sh.call(Ny,e)?!0:Sh.call(jy,e)?!1:N_.test(e)?Ny[e]=!0:(jy[e]=!0,!1)}function C_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k_(e,t,n,r){if(t===null||typeof t>"u"||C_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hr(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hn[e]=new hr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Hn[t]=new hr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hn[e]=new hr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hn[e]=new hr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hn[e]=new hr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hn[e]=new hr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hn[e]=new hr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hn[e]=new hr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hn[e]=new hr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ix=/[\-:]([a-z])/g;function ox(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ix,ox);Hn[t]=new hr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ix,ox);Hn[t]=new hr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ix,ox);Hn[t]=new hr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hn[e]=new hr(e,1,!1,e.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hn[e]=new hr(e,1,!1,e.toLowerCase(),null,!0,!0)});function lx(e,t,n,r){var a=Hn.hasOwnProperty(t)?Hn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k_(t,n,a,r)&&(n=null),r||a===null?S_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ba=j_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hd=Symbol.for("react.element"),So=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),cx=Symbol.for("react.strict_mode"),Ch=Symbol.for("react.profiler"),Qb=Symbol.for("react.provider"),Kb=Symbol.for("react.context"),dx=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),_h=Symbol.for("react.suspense_list"),ux=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),Gb=Symbol.for("react.offscreen"),Sy=Symbol.iterator;function Rl(e){return e===null||typeof e!="object"?null:(e=Sy&&e[Sy]||e["@@iterator"],typeof e=="function"?e:null)}var mn=Object.assign,gf;function Gl(e){if(gf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gf=t&&t[1]||""}return`
`+gf+e}var yf=!1;function vf(e,t){if(!e||yf)return"";yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{yf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gl(e):""}function __(e){switch(e.tag){case 5:return Gl(e.type);case 16:return Gl("Lazy");case 13:return Gl("Suspense");case 19:return Gl("SuspenseList");case 0:case 2:case 15:return e=vf(e.type,!1),e;case 11:return e=vf(e.type.render,!1),e;case 1:return e=vf(e.type,!0),e;default:return""}}function Dh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Co:return"Fragment";case So:return"Portal";case Ch:return"Profiler";case cx:return"StrictMode";case kh:return"Suspense";case _h:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kb:return(e.displayName||"Context")+".Consumer";case Qb:return(e._context.displayName||"Context")+".Provider";case dx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ux:return t=e.displayName||null,t!==null?t:Dh(e.type)||"Memo";case Ma:t=e._payload,e=e._init;try{return Dh(e(t))}catch{}}return null}function D_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dh(t);case 8:return t===cx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function li(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E_(e){var t=Xb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pd(e){e._valueTracker||(e._valueTracker=E_(e))}function Jb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eh(e,t){var n=t.checked;return mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=li(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zb(e,t){t=t.checked,t!=null&&lx(e,"checked",t,!1)}function Ph(e,t){Zb(e,t);var n=li(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Th(e,t.type,n):t.hasOwnProperty("defaultValue")&&Th(e,t.type,li(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ky(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Th(e,t,n){(t!=="number"||gu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xl=Array.isArray;function Fo(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+li(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Rh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _y(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ce(92));if(Xl(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:li(n)}}function ew(e,t){var n=li(t.value),r=li(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Dy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xd,nw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xd=xd||document.createElement("div"),xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P_=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(e){P_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ac[t]=ac[e]})});function rw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ac.hasOwnProperty(e)&&ac[e]?(""+t).trim():t+"px"}function sw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=rw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var T_=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oh(e,t){if(t){if(T_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function Ah(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=null;function mx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fh=null,Lo=null,$o=null;function Ey(e){if(e=Kc(e)){if(typeof Fh!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=ym(t),Fh(e.stateNode,e.type,t))}}function aw(e){Lo?$o?$o.push(e):$o=[e]:Lo=e}function iw(){if(Lo){var e=Lo,t=$o;if($o=Lo=null,Ey(e),t)for(e=0;e<t.length;e++)Ey(t[e])}}function ow(e,t){return e(t)}function lw(){}var bf=!1;function cw(e,t,n){if(bf)return e(t,n);bf=!0;try{return ow(e,t,n)}finally{bf=!1,(Lo!==null||$o!==null)&&(lw(),iw())}}function vc(e,t){var n=e.stateNode;if(n===null)return null;var r=ym(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ce(231,t,typeof n));return n}var Lh=!1;if(ma)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){Lh=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{Lh=!1}function R_(e,t,n,r,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var ic=!1,yu=null,vu=!1,$h=null,M_={onError:function(e){ic=!0,yu=e}};function O_(e,t,n,r,a,i,o,l,c){ic=!1,yu=null,R_.apply(M_,arguments)}function A_(e,t,n,r,a,i,o,l,c){if(O_.apply(this,arguments),ic){if(ic){var d=yu;ic=!1,yu=null}else throw Error(ce(198));vu||(vu=!0,$h=d)}}function co(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Py(e){if(co(e)!==e)throw Error(ce(188))}function I_(e){var t=e.alternate;if(!t){if(t=co(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Py(a),e;if(i===r)return Py(a),t;i=i.sibling}throw Error(ce(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?e:t}function uw(e){return e=I_(e),e!==null?mw(e):null}function mw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mw(e);if(t!==null)return t;e=e.sibling}return null}var fw=Ar.unstable_scheduleCallback,Ty=Ar.unstable_cancelCallback,F_=Ar.unstable_shouldYield,L_=Ar.unstable_requestPaint,Nn=Ar.unstable_now,$_=Ar.unstable_getCurrentPriorityLevel,fx=Ar.unstable_ImmediatePriority,hw=Ar.unstable_UserBlockingPriority,bu=Ar.unstable_NormalPriority,B_=Ar.unstable_LowPriority,pw=Ar.unstable_IdlePriority,hm=null,$s=null;function W_(e){if($s&&typeof $s.onCommitFiberRoot=="function")try{$s.onCommitFiberRoot(hm,e,void 0,(e.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:z_,Y_=Math.log,U_=Math.LN2;function z_(e){return e>>>=0,e===0?32:31-(Y_(e)/U_|0)|0}var gd=64,yd=4194304;function Jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Jl(l):(i&=o,i!==0&&(r=Jl(i)))}else o=n&~a,o!==0?r=Jl(o):i!==0&&(r=Jl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fs(t),a=1<<n,r|=e[n],t&=~a;return r}function H_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-fs(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=H_(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Bh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xw(){var e=gd;return gd<<=1,!(gd&4194240)&&(gd=64),e}function wf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fs(t),e[t]=n}function q_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-fs(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function hx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fs(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Wt=0;function gw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yw,px,vw,bw,ww,Wh=!1,vd=[],qa=null,Qa=null,Ka=null,bc=new Map,wc=new Map,Aa=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ry(e,t){switch(e){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":bc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(t.pointerId)}}function Ol(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Kc(t),t!==null&&px(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function K_(e,t,n,r,a){switch(t){case"focusin":return qa=Ol(qa,e,t,n,r,a),!0;case"dragenter":return Qa=Ol(Qa,e,t,n,r,a),!0;case"mouseover":return Ka=Ol(Ka,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return bc.set(i,Ol(bc.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,wc.set(i,Ol(wc.get(i)||null,e,t,n,r,a)),!0}return!1}function jw(e){var t=Ti(e.target);if(t!==null){var n=co(t);if(n!==null){if(t=n.tag,t===13){if(t=dw(n),t!==null){e.blockedOn=t,ww(e.priority,function(){vw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ih=r,n.target.dispatchEvent(r),Ih=null}else return t=Kc(n),t!==null&&px(t),e.blockedOn=n,!1;t.shift()}return!0}function My(e,t,n){Vd(e)&&n.delete(t)}function G_(){Wh=!1,qa!==null&&Vd(qa)&&(qa=null),Qa!==null&&Vd(Qa)&&(Qa=null),Ka!==null&&Vd(Ka)&&(Ka=null),bc.forEach(My),wc.forEach(My)}function Al(e,t){e.blockedOn===t&&(e.blockedOn=null,Wh||(Wh=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,G_)))}function jc(e){function t(a){return Al(a,e)}if(0<vd.length){Al(vd[0],e);for(var n=1;n<vd.length;n++){var r=vd[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qa!==null&&Al(qa,e),Qa!==null&&Al(Qa,e),Ka!==null&&Al(Ka,e),bc.forEach(t),wc.forEach(t),n=0;n<Aa.length;n++)r=Aa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Aa.length&&(n=Aa[0],n.blockedOn===null);)jw(n),n.blockedOn===null&&Aa.shift()}var Bo=ba.ReactCurrentBatchConfig,ju=!0;function X_(e,t,n,r){var a=Wt,i=Bo.transition;Bo.transition=null;try{Wt=1,xx(e,t,n,r)}finally{Wt=a,Bo.transition=i}}function J_(e,t,n,r){var a=Wt,i=Bo.transition;Bo.transition=null;try{Wt=4,xx(e,t,n,r)}finally{Wt=a,Bo.transition=i}}function xx(e,t,n,r){if(ju){var a=Yh(e,t,n,r);if(a===null)Tf(e,t,r,Nu,n),Ry(e,r);else if(K_(a,e,t,n,r))r.stopPropagation();else if(Ry(e,r),t&4&&-1<Q_.indexOf(e)){for(;a!==null;){var i=Kc(a);if(i!==null&&yw(i),i=Yh(e,t,n,r),i===null&&Tf(e,t,r,Nu,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Tf(e,t,r,null,n)}}var Nu=null;function Yh(e,t,n,r){if(Nu=null,e=mx(r),e=Ti(e),e!==null)if(t=co(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nu=e,null}function Nw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($_()){case fx:return 1;case hw:return 4;case bu:case B_:return 16;case pw:return 536870912;default:return 16}default:return 16}}var Ya=null,gx=null,qd=null;function Sw(){if(qd)return qd;var e,t=gx,n=t.length,r,a="value"in Ya?Ya.value:Ya.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return qd=a.slice(e,1<r?1-r:void 0)}function Qd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bd(){return!0}function Oy(){return!1}function $r(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bd:Oy,this.isPropagationStopped=Oy,this}return mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),t}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yx=$r(jl),Qc=mn({},jl,{view:0,detail:0}),Z_=$r(Qc),jf,Nf,Il,pm=mn({},Qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Il&&(Il&&e.type==="mousemove"?(jf=e.screenX-Il.screenX,Nf=e.screenY-Il.screenY):Nf=jf=0,Il=e),jf)},movementY:function(e){return"movementY"in e?e.movementY:Nf}}),Ay=$r(pm),e2=mn({},pm,{dataTransfer:0}),t2=$r(e2),n2=mn({},Qc,{relatedTarget:0}),Sf=$r(n2),r2=mn({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),s2=$r(r2),a2=mn({},jl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),i2=$r(a2),o2=mn({},jl,{data:0}),Iy=$r(o2),l2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d2[e])?!!t[e]:!1}function vx(){return u2}var m2=mn({},Qc,{key:function(e){if(e.key){var t=l2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vx,charCode:function(e){return e.type==="keypress"?Qd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f2=$r(m2),h2=mn({},pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=$r(h2),p2=mn({},Qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vx}),x2=$r(p2),g2=mn({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),y2=$r(g2),v2=mn({},pm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),b2=$r(v2),w2=[9,13,27,32],bx=ma&&"CompositionEvent"in window,oc=null;ma&&"documentMode"in document&&(oc=document.documentMode);var j2=ma&&"TextEvent"in window&&!oc,Cw=ma&&(!bx||oc&&8<oc&&11>=oc),Ly=" ",$y=!1;function kw(e,t){switch(e){case"keyup":return w2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _w(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ko=!1;function N2(e,t){switch(e){case"compositionend":return _w(t);case"keypress":return t.which!==32?null:($y=!0,Ly);case"textInput":return e=t.data,e===Ly&&$y?null:e;default:return null}}function S2(e,t){if(ko)return e==="compositionend"||!bx&&kw(e,t)?(e=Sw(),qd=gx=Ya=null,ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cw&&t.locale!=="ko"?null:t.data;default:return null}}var C2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!C2[e.type]:t==="textarea"}function Dw(e,t,n,r){aw(r),t=Su(t,"onChange"),0<t.length&&(n=new yx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var lc=null,Nc=null;function k2(e){$w(e,0)}function xm(e){var t=Eo(e);if(Jb(t))return e}function _2(e,t){if(e==="change")return t}var Ew=!1;if(ma){var Cf;if(ma){var kf="oninput"in document;if(!kf){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),kf=typeof Wy.oninput=="function"}Cf=kf}else Cf=!1;Ew=Cf&&(!document.documentMode||9<document.documentMode)}function Yy(){lc&&(lc.detachEvent("onpropertychange",Pw),Nc=lc=null)}function Pw(e){if(e.propertyName==="value"&&xm(Nc)){var t=[];Dw(t,Nc,e,mx(e)),cw(k2,t)}}function D2(e,t,n){e==="focusin"?(Yy(),lc=t,Nc=n,lc.attachEvent("onpropertychange",Pw)):e==="focusout"&&Yy()}function E2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xm(Nc)}function P2(e,t){if(e==="click")return xm(t)}function T2(e,t){if(e==="input"||e==="change")return xm(t)}function R2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gs=typeof Object.is=="function"?Object.is:R2;function Sc(e,t){if(gs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Sh.call(t,a)||!gs(e[a],t[a]))return!1}return!0}function Uy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zy(e,t){var n=Uy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uy(n)}}function Tw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rw(){for(var e=window,t=gu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gu(e.document)}return t}function wx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function M2(e){var t=Rw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tw(n.ownerDocument.documentElement,n)){if(r!==null&&wx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=zy(n,i);var o=zy(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var O2=ma&&"documentMode"in document&&11>=document.documentMode,_o=null,Uh=null,cc=null,zh=!1;function Hy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zh||_o==null||_o!==gu(r)||(r=_o,"selectionStart"in r&&wx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cc&&Sc(cc,r)||(cc=r,r=Su(Uh,"onSelect"),0<r.length&&(t=new yx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_o)))}function wd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Do={animationend:wd("Animation","AnimationEnd"),animationiteration:wd("Animation","AnimationIteration"),animationstart:wd("Animation","AnimationStart"),transitionend:wd("Transition","TransitionEnd")},_f={},Mw={};ma&&(Mw=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function gm(e){if(_f[e])return _f[e];if(!Do[e])return e;var t=Do[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mw)return _f[e]=t[n];return e}var Ow=gm("animationend"),Aw=gm("animationiteration"),Iw=gm("animationstart"),Fw=gm("transitionend"),Lw=new Map,Vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,t){Lw.set(e,t),lo(t,[e])}for(var Df=0;Df<Vy.length;Df++){var Ef=Vy[Df],A2=Ef.toLowerCase(),I2=Ef[0].toUpperCase()+Ef.slice(1);gi(A2,"on"+I2)}gi(Ow,"onAnimationEnd");gi(Aw,"onAnimationIteration");gi(Iw,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(Fw,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function qy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,A_(r,t,void 0,e),e.currentTarget=null}function $w(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;qy(a,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;qy(a,l,d),i=c}}}if(vu)throw e=$h,vu=!1,$h=null,e}function nn(e,t){var n=t[Kh];n===void 0&&(n=t[Kh]=new Set);var r=e+"__bubble";n.has(r)||(Bw(t,e,2,!1),n.add(r))}function Pf(e,t,n){var r=0;t&&(r|=4),Bw(n,e,r,t)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[jd]){e[jd]=!0,qb.forEach(function(n){n!=="selectionchange"&&(F2.has(n)||Pf(n,!1,e),Pf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jd]||(t[jd]=!0,Pf("selectionchange",!1,t))}}function Bw(e,t,n,r){switch(Nw(t)){case 1:var a=X_;break;case 4:a=J_;break;default:a=xx}n=a.bind(null,t,n,e),a=void 0,!Lh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Tf(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ti(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}cw(function(){var d=i,u=mx(n),f=[];e:{var h=Lw.get(e);if(h!==void 0){var g=yx,v=e;switch(e){case"keypress":if(Qd(n)===0)break e;case"keydown":case"keyup":g=f2;break;case"focusin":v="focus",g=Sf;break;case"focusout":v="blur",g=Sf;break;case"beforeblur":case"afterblur":g=Sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=t2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=x2;break;case Ow:case Aw:case Iw:g=s2;break;case Fw:g=y2;break;case"scroll":g=Z_;break;case"wheel":g=b2;break;case"copy":case"cut":case"paste":g=i2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Fy}var p=(t&4)!==0,w=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var y=d,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=vc(y,x),j!=null&&p.push(kc(y,j,b)))),w)break;y=y.return}0<p.length&&(h=new g(h,v,null,n,u),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Ih&&(v=n.relatedTarget||n.fromElement)&&(Ti(v)||v[fa]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=d,v=v?Ti(v):null,v!==null&&(w=co(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=d),g!==v)){if(p=Ay,j="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=Fy,j="onPointerLeave",x="onPointerEnter",y="pointer"),w=g==null?h:Eo(g),b=v==null?h:Eo(v),h=new p(j,y+"leave",g,n,u),h.target=w,h.relatedTarget=b,j=null,Ti(u)===d&&(p=new p(x,y+"enter",v,n,u),p.target=b,p.relatedTarget=w,j=p),w=j,g&&v)t:{for(p=g,x=v,y=0,b=p;b;b=xo(b))y++;for(b=0,j=x;j;j=xo(j))b++;for(;0<y-b;)p=xo(p),y--;for(;0<b-y;)x=xo(x),b--;for(;y--;){if(p===x||x!==null&&p===x.alternate)break t;p=xo(p),x=xo(x)}p=null}else p=null;g!==null&&Qy(f,h,g,p,!1),v!==null&&w!==null&&Qy(f,w,v,p,!0)}}e:{if(h=d?Eo(d):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=_2;else if(By(h))if(Ew)N=T2;else{N=E2;var P=D2}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=P2);if(N&&(N=N(e,d))){Dw(f,N,n,u);break e}P&&P(e,h,d),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Th(h,"number",h.value)}switch(P=d?Eo(d):window,e){case"focusin":(By(P)||P.contentEditable==="true")&&(_o=P,Uh=d,cc=null);break;case"focusout":cc=Uh=_o=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Hy(f,n,u);break;case"selectionchange":if(O2)break;case"keydown":case"keyup":Hy(f,n,u)}var C;if(bx)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ko?kw(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Cw&&n.locale!=="ko"&&(ko||S!=="onCompositionStart"?S==="onCompositionEnd"&&ko&&(C=Sw()):(Ya=u,gx="value"in Ya?Ya.value:Ya.textContent,ko=!0)),P=Su(d,S),0<P.length&&(S=new Iy(S,e,null,n,u),f.push({event:S,listeners:P}),C?S.data=C:(C=_w(n),C!==null&&(S.data=C)))),(C=j2?N2(e,n):S2(e,n))&&(d=Su(d,"onBeforeInput"),0<d.length&&(u=new Iy("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=C))}$w(f,t)})}function kc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Su(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=vc(e,n),i!=null&&r.unshift(kc(e,i,a)),i=vc(e,t),i!=null&&r.push(kc(e,i,a))),e=e.return}return r}function xo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qy(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=vc(n,i),c!=null&&o.unshift(kc(n,c,l))):a||(c=vc(n,i),c!=null&&o.push(kc(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var L2=/\r\n?/g,$2=/\u0000|\uFFFD/g;function Ky(e){return(typeof e=="string"?e:""+e).replace(L2,`
`).replace($2,"")}function Nd(e,t,n){if(t=Ky(t),Ky(e)!==t&&n)throw Error(ce(425))}function Cu(){}var Hh=null,Vh=null;function qh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,B2=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,W2=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(Y2)}:Qh;function Y2(e){setTimeout(function(){throw e})}function Rf(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),jc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);jc(t)}function Ga(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),Rs="__reactFiber$"+Nl,_c="__reactProps$"+Nl,fa="__reactContainer$"+Nl,Kh="__reactEvents$"+Nl,U2="__reactListeners$"+Nl,z2="__reactHandles$"+Nl;function Ti(e){var t=e[Rs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[Rs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xy(e);e!==null;){if(n=e[Rs])return n;e=Xy(e)}return t}e=n,n=e.parentNode}return null}function Kc(e){return e=e[Rs]||e[fa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function ym(e){return e[_c]||null}var Gh=[],Po=-1;function yi(e){return{current:e}}function sn(e){0>Po||(e.current=Gh[Po],Gh[Po]=null,Po--)}function Zt(e,t){Po++,Gh[Po]=e.current,e.current=t}var ci={},sr=yi(ci),br=yi(!1),Hi=ci;function sl(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function wr(e){return e=e.childContextTypes,e!=null}function ku(){sn(br),sn(sr)}function Jy(e,t,n){if(sr.current!==ci)throw Error(ce(168));Zt(sr,t),Zt(br,n)}function Ww(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ce(108,D_(e)||"Unknown",a));return mn({},n,r)}function _u(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,Hi=sr.current,Zt(sr,e),Zt(br,br.current),!0}function Zy(e,t,n){var r=e.stateNode;if(!r)throw Error(ce(169));n?(e=Ww(e,t,Hi),r.__reactInternalMemoizedMergedChildContext=e,sn(br),sn(sr),Zt(sr,e)):sn(br),Zt(br,n)}var ta=null,vm=!1,Mf=!1;function Yw(e){ta===null?ta=[e]:ta.push(e)}function H2(e){vm=!0,Yw(e)}function vi(){if(!Mf&&ta!==null){Mf=!0;var e=0,t=Wt;try{var n=ta;for(Wt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ta=null,vm=!1}catch(a){throw ta!==null&&(ta=ta.slice(e+1)),fw(fx,vi),a}finally{Wt=t,Mf=!1}}return null}var To=[],Ro=0,Du=null,Eu=0,Vr=[],qr=0,Vi=null,na=1,ra="";function _i(e,t){To[Ro++]=Eu,To[Ro++]=Du,Du=e,Eu=t}function Uw(e,t,n){Vr[qr++]=na,Vr[qr++]=ra,Vr[qr++]=Vi,Vi=e;var r=na;e=ra;var a=32-fs(r)-1;r&=~(1<<a),n+=1;var i=32-fs(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,na=1<<32-fs(t)+a|n<<a|r,ra=i+e}else na=1<<i|n<<a|r,ra=e}function jx(e){e.return!==null&&(_i(e,1),Uw(e,1,0))}function Nx(e){for(;e===Du;)Du=To[--Ro],To[Ro]=null,Eu=To[--Ro],To[Ro]=null;for(;e===Vi;)Vi=Vr[--qr],Vr[qr]=null,ra=Vr[--qr],Vr[qr]=null,na=Vr[--qr],Vr[qr]=null}var Rr=null,Tr=null,an=!1,us=null;function zw(e,t){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ev(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rr=e,Tr=Ga(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rr=e,Tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vi!==null?{id:na,overflow:ra}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rr=e,Tr=null,!0):!1;default:return!1}}function Xh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jh(e){if(an){var t=Tr;if(t){var n=t;if(!ev(e,t)){if(Xh(e))throw Error(ce(418));t=Ga(n.nextSibling);var r=Rr;t&&ev(e,t)?zw(r,n):(e.flags=e.flags&-4097|2,an=!1,Rr=e)}}else{if(Xh(e))throw Error(ce(418));e.flags=e.flags&-4097|2,an=!1,Rr=e}}}function tv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rr=e}function Sd(e){if(e!==Rr)return!1;if(!an)return tv(e),an=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qh(e.type,e.memoizedProps)),t&&(t=Tr)){if(Xh(e))throw Hw(),Error(ce(418));for(;t;)zw(e,t),t=Ga(t.nextSibling)}if(tv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tr=Ga(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tr=null}}else Tr=Rr?Ga(e.stateNode.nextSibling):null;return!0}function Hw(){for(var e=Tr;e;)e=Ga(e.nextSibling)}function al(){Tr=Rr=null,an=!1}function Sx(e){us===null?us=[e]:us.push(e)}var V2=ba.ReactCurrentBatchConfig;function Fl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function Cd(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nv(e){var t=e._init;return t(e._payload)}function Vw(e){function t(x,y){if(e){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=ei(x,y),x.index=0,x.sibling=null,x}function i(x,y,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,b,j){return y===null||y.tag!==6?(y=Bf(b,x.mode,j),y.return=x,y):(y=a(y,b),y.return=x,y)}function c(x,y,b,j){var N=b.type;return N===Co?u(x,y,b.props.children,j,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ma&&nv(N)===y.type)?(j=a(y,b.props),j.ref=Fl(x,y,b),j.return=x,j):(j=tu(b.type,b.key,b.props,null,x.mode,j),j.ref=Fl(x,y,b),j.return=x,j)}function d(x,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Wf(b,x.mode,j),y.return=x,y):(y=a(y,b.children||[]),y.return=x,y)}function u(x,y,b,j,N){return y===null||y.tag!==7?(y=Wi(b,x.mode,j,N),y.return=x,y):(y=a(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Bf(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hd:return b=tu(y.type,y.key,y.props,null,x.mode,b),b.ref=Fl(x,null,y),b.return=x,b;case So:return y=Wf(y,x.mode,b),y.return=x,y;case Ma:var j=y._init;return f(x,j(y._payload),b)}if(Xl(y)||Rl(y))return y=Wi(y,x.mode,b,null),y.return=x,y;Cd(x,y)}return null}function h(x,y,b,j){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(x,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hd:return b.key===N?c(x,y,b,j):null;case So:return b.key===N?d(x,y,b,j):null;case Ma:return N=b._init,h(x,y,N(b._payload),j)}if(Xl(b)||Rl(b))return N!==null?null:u(x,y,b,j,null);Cd(x,b)}return null}function g(x,y,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,l(y,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case hd:return x=x.get(j.key===null?b:j.key)||null,c(y,x,j,N);case So:return x=x.get(j.key===null?b:j.key)||null,d(y,x,j,N);case Ma:var P=j._init;return g(x,y,b,P(j._payload),N)}if(Xl(j)||Rl(j))return x=x.get(b)||null,u(y,x,j,N,null);Cd(y,j)}return null}function v(x,y,b,j){for(var N=null,P=null,C=y,S=y=0,O=null;C!==null&&S<b.length;S++){C.index>S?(O=C,C=null):O=C.sibling;var k=h(x,C,b[S],j);if(k===null){C===null&&(C=O);break}e&&C&&k.alternate===null&&t(x,C),y=i(k,y,S),P===null?N=k:P.sibling=k,P=k,C=O}if(S===b.length)return n(x,C),an&&_i(x,S),N;if(C===null){for(;S<b.length;S++)C=f(x,b[S],j),C!==null&&(y=i(C,y,S),P===null?N=C:P.sibling=C,P=C);return an&&_i(x,S),N}for(C=r(x,C);S<b.length;S++)O=g(C,x,S,b[S],j),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?S:O.key),y=i(O,y,S),P===null?N=O:P.sibling=O,P=O);return e&&C.forEach(function(F){return t(x,F)}),an&&_i(x,S),N}function p(x,y,b,j){var N=Rl(b);if(typeof N!="function")throw Error(ce(150));if(b=N.call(b),b==null)throw Error(ce(151));for(var P=N=null,C=y,S=y=0,O=null,k=b.next();C!==null&&!k.done;S++,k=b.next()){C.index>S?(O=C,C=null):O=C.sibling;var F=h(x,C,k.value,j);if(F===null){C===null&&(C=O);break}e&&C&&F.alternate===null&&t(x,C),y=i(F,y,S),P===null?N=F:P.sibling=F,P=F,C=O}if(k.done)return n(x,C),an&&_i(x,S),N;if(C===null){for(;!k.done;S++,k=b.next())k=f(x,k.value,j),k!==null&&(y=i(k,y,S),P===null?N=k:P.sibling=k,P=k);return an&&_i(x,S),N}for(C=r(x,C);!k.done;S++,k=b.next())k=g(C,x,S,k.value,j),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?S:k.key),y=i(k,y,S),P===null?N=k:P.sibling=k,P=k);return e&&C.forEach(function(B){return t(x,B)}),an&&_i(x,S),N}function w(x,y,b,j){if(typeof b=="object"&&b!==null&&b.type===Co&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case hd:e:{for(var N=b.key,P=y;P!==null;){if(P.key===N){if(N=b.type,N===Co){if(P.tag===7){n(x,P.sibling),y=a(P,b.props.children),y.return=x,x=y;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ma&&nv(N)===P.type){n(x,P.sibling),y=a(P,b.props),y.ref=Fl(x,P,b),y.return=x,x=y;break e}n(x,P);break}else t(x,P);P=P.sibling}b.type===Co?(y=Wi(b.props.children,x.mode,j,b.key),y.return=x,x=y):(j=tu(b.type,b.key,b.props,null,x.mode,j),j.ref=Fl(x,y,b),j.return=x,x=j)}return o(x);case So:e:{for(P=b.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),y=a(y,b.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=Wf(b,x.mode,j),y.return=x,x=y}return o(x);case Ma:return P=b._init,w(x,y,P(b._payload),j)}if(Xl(b))return v(x,y,b,j);if(Rl(b))return p(x,y,b,j);Cd(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),y=a(y,b),y.return=x,x=y):(n(x,y),y=Bf(b,x.mode,j),y.return=x,x=y),o(x)):n(x,y)}return w}var il=Vw(!0),qw=Vw(!1),Pu=yi(null),Tu=null,Mo=null,Cx=null;function kx(){Cx=Mo=Tu=null}function _x(e){var t=Pu.current;sn(Pu),e._currentValue=t}function Zh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wo(e,t){Tu=e,Cx=Mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yr=!0),e.firstContext=null)}function Xr(e){var t=e._currentValue;if(Cx!==e)if(e={context:e,memoizedValue:t,next:null},Mo===null){if(Tu===null)throw Error(ce(308));Mo=e,Tu.dependencies={lanes:0,firstContext:e}}else Mo=Mo.next=e;return t}var Ri=null;function Dx(e){Ri===null?Ri=[e]:Ri.push(e)}function Qw(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Dx(t)):(n.next=a.next,a.next=n),t.interleaved=n,ha(e,r)}function ha(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Oa=!1;function Ex(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ha(e,n)}return a=r.interleaved,a===null?(t.next=t,Dx(r)):(t.next=a.next,a.next=t),r.interleaved=t,ha(e,n)}function Kd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hx(e,n)}}function rv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ru(e,t,n,r){var a=e.updateQueue;Oa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,g=l.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,g=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=mn({},f,h);break e;case 2:Oa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=f):u=u.next=g,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Qi|=o,e.lanes=o,e.memoizedState=f}}function sv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ce(191,a));a.call(r)}}}var Gc={},Bs=yi(Gc),Dc=yi(Gc),Ec=yi(Gc);function Mi(e){if(e===Gc)throw Error(ce(174));return e}function Px(e,t){switch(Zt(Ec,t),Zt(Dc,e),Zt(Bs,Gc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mh(t,e)}sn(Bs),Zt(Bs,t)}function ol(){sn(Bs),sn(Dc),sn(Ec)}function Gw(e){Mi(Ec.current);var t=Mi(Bs.current),n=Mh(t,e.type);t!==n&&(Zt(Dc,e),Zt(Bs,n))}function Tx(e){Dc.current===e&&(sn(Bs),sn(Dc))}var cn=yi(0);function Mu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Of=[];function Rx(){for(var e=0;e<Of.length;e++)Of[e]._workInProgressVersionPrimary=null;Of.length=0}var Gd=ba.ReactCurrentDispatcher,Af=ba.ReactCurrentBatchConfig,qi=0,un=null,On=null,Ln=null,Ou=!1,dc=!1,Pc=0,q2=0;function Kn(){throw Error(ce(321))}function Mx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gs(e[n],t[n]))return!1;return!0}function Ox(e,t,n,r,a,i){if(qi=i,un=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gd.current=e===null||e.memoizedState===null?X2:J2,e=n(r,a),dc){i=0;do{if(dc=!1,Pc=0,25<=i)throw Error(ce(301));i+=1,Ln=On=null,t.updateQueue=null,Gd.current=Z2,e=n(r,a)}while(dc)}if(Gd.current=Au,t=On!==null&&On.next!==null,qi=0,Ln=On=un=null,Ou=!1,t)throw Error(ce(300));return e}function Ax(){var e=Pc!==0;return Pc=0,e}function ks(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?un.memoizedState=Ln=e:Ln=Ln.next=e,Ln}function Jr(){if(On===null){var e=un.alternate;e=e!==null?e.memoizedState:null}else e=On.next;var t=Ln===null?un.memoizedState:Ln.next;if(t!==null)Ln=t,On=e;else{if(e===null)throw Error(ce(310));On=e,e={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Ln===null?un.memoizedState=Ln=e:Ln=Ln.next=e}return Ln}function Tc(e,t){return typeof t=="function"?t(e):t}function If(e){var t=Jr(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=On,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((qi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,un.lanes|=u,Qi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,gs(r,t.memoizedState)||(yr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,un.lanes|=i,Qi|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ff(e){var t=Jr(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);gs(i,t.memoizedState)||(yr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Xw(){}function Jw(e,t){var n=un,r=Jr(),a=t(),i=!gs(r.memoizedState,a);if(i&&(r.memoizedState=a,yr=!0),r=r.queue,Ix(tj.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ln!==null&&Ln.memoizedState.tag&1){if(n.flags|=2048,Rc(9,ej.bind(null,n,r,a,t),void 0,null),Bn===null)throw Error(ce(349));qi&30||Zw(n,t,a)}return a}function Zw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=un.updateQueue,t===null?(t={lastEffect:null,stores:null},un.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ej(e,t,n,r){t.value=n,t.getSnapshot=r,nj(t)&&rj(e)}function tj(e,t,n){return n(function(){nj(t)&&rj(e)})}function nj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gs(e,n)}catch{return!0}}function rj(e){var t=ha(e,1);t!==null&&hs(t,e,1,-1)}function av(e){var t=ks();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:e},t.queue=e,e=e.dispatch=G2.bind(null,un,e),[t.memoizedState,e]}function Rc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=un.updateQueue,t===null?(t={lastEffect:null,stores:null},un.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sj(){return Jr().memoizedState}function Xd(e,t,n,r){var a=ks();un.flags|=e,a.memoizedState=Rc(1|t,n,void 0,r===void 0?null:r)}function bm(e,t,n,r){var a=Jr();r=r===void 0?null:r;var i=void 0;if(On!==null){var o=On.memoizedState;if(i=o.destroy,r!==null&&Mx(r,o.deps)){a.memoizedState=Rc(t,n,i,r);return}}un.flags|=e,a.memoizedState=Rc(1|t,n,i,r)}function iv(e,t){return Xd(8390656,8,e,t)}function Ix(e,t){return bm(2048,8,e,t)}function aj(e,t){return bm(4,2,e,t)}function ij(e,t){return bm(4,4,e,t)}function oj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lj(e,t,n){return n=n!=null?n.concat([e]):null,bm(4,4,oj.bind(null,t,e),n)}function Fx(){}function cj(e,t){var n=Jr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dj(e,t){var n=Jr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function uj(e,t,n){return qi&21?(gs(n,t)||(n=xw(),un.lanes|=n,Qi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yr=!0),e.memoizedState=n)}function Q2(e,t){var n=Wt;Wt=n!==0&&4>n?n:4,e(!0);var r=Af.transition;Af.transition={};try{e(!1),t()}finally{Wt=n,Af.transition=r}}function mj(){return Jr().memoizedState}function K2(e,t,n){var r=Za(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fj(e))hj(t,n);else if(n=Qw(e,t,n,r),n!==null){var a=ur();hs(n,e,r,a),pj(n,t,r)}}function G2(e,t,n){var r=Za(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fj(e))hj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,gs(l,o)){var c=t.interleaved;c===null?(a.next=a,Dx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=Qw(e,t,a,r),n!==null&&(a=ur(),hs(n,e,r,a),pj(n,t,r))}}function fj(e){var t=e.alternate;return e===un||t!==null&&t===un}function hj(e,t){dc=Ou=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pj(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hx(e,n)}}var Au={readContext:Xr,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},X2={readContext:Xr,useCallback:function(e,t){return ks().memoizedState=[e,t===void 0?null:t],e},useContext:Xr,useEffect:iv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xd(4194308,4,oj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xd(4,2,e,t)},useMemo:function(e,t){var n=ks();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ks();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=K2.bind(null,un,e),[r.memoizedState,e]},useRef:function(e){var t=ks();return e={current:e},t.memoizedState=e},useState:av,useDebugValue:Fx,useDeferredValue:function(e){return ks().memoizedState=e},useTransition:function(){var e=av(!1),t=e[0];return e=Q2.bind(null,e[1]),ks().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=un,a=ks();if(an){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=t(),Bn===null)throw Error(ce(349));qi&30||Zw(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,iv(tj.bind(null,r,i,e),[e]),r.flags|=2048,Rc(9,ej.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ks(),t=Bn.identifierPrefix;if(an){var n=ra,r=na;n=(r&~(1<<32-fs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=q2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},J2={readContext:Xr,useCallback:cj,useContext:Xr,useEffect:Ix,useImperativeHandle:lj,useInsertionEffect:aj,useLayoutEffect:ij,useMemo:dj,useReducer:If,useRef:sj,useState:function(){return If(Tc)},useDebugValue:Fx,useDeferredValue:function(e){var t=Jr();return uj(t,On.memoizedState,e)},useTransition:function(){var e=If(Tc)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:Xw,useSyncExternalStore:Jw,useId:mj,unstable_isNewReconciler:!1},Z2={readContext:Xr,useCallback:cj,useContext:Xr,useEffect:Ix,useImperativeHandle:lj,useInsertionEffect:aj,useLayoutEffect:ij,useMemo:dj,useReducer:Ff,useRef:sj,useState:function(){return Ff(Tc)},useDebugValue:Fx,useDeferredValue:function(e){var t=Jr();return On===null?t.memoizedState=e:uj(t,On.memoizedState,e)},useTransition:function(){var e=Ff(Tc)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:Xw,useSyncExternalStore:Jw,useId:mj,unstable_isNewReconciler:!1};function os(e,t){if(e&&e.defaultProps){t=mn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ep(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wm={isMounted:function(e){return(e=e._reactInternals)?co(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ur(),a=Za(e),i=sa(r,a);i.payload=t,n!=null&&(i.callback=n),t=Xa(e,i,a),t!==null&&(hs(t,e,a,r),Kd(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ur(),a=Za(e),i=sa(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xa(e,i,a),t!==null&&(hs(t,e,a,r),Kd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ur(),r=Za(e),a=sa(n,r);a.tag=2,t!=null&&(a.callback=t),t=Xa(e,a,r),t!==null&&(hs(t,e,r,n),Kd(t,e,r))}};function ov(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Sc(n,r)||!Sc(a,i):!0}function xj(e,t,n){var r=!1,a=ci,i=t.contextType;return typeof i=="object"&&i!==null?i=Xr(i):(a=wr(t)?Hi:sr.current,r=t.contextTypes,i=(r=r!=null)?sl(e,a):ci),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function lv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wm.enqueueReplaceState(t,t.state,null)}function tp(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ex(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Xr(i):(i=wr(t)?Hi:sr.current,a.context=sl(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ep(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&wm.enqueueReplaceState(a,a.state,null),Ru(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ll(e,t){try{var n="",r=t;do n+=__(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Lf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function np(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eD=typeof WeakMap=="function"?WeakMap:Map;function gj(e,t,n){n=sa(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fu||(Fu=!0,mp=r),np(e,t)},n}function yj(e,t,n){n=sa(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){np(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){np(e,t),typeof r!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eD;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=hD.bind(null,e,t,n),t.then(e,e))}function dv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uv(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sa(-1,1),t.tag=2,Xa(n,t,1))),n.lanes|=1),e)}var tD=ba.ReactCurrentOwner,yr=!1;function ir(e,t,n,r){t.child=e===null?qw(t,null,n,r):il(t,e.child,n,r)}function mv(e,t,n,r,a){n=n.render;var i=t.ref;return Wo(t,a),r=Ox(e,t,n,r,i,a),n=Ax(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,pa(e,t,a)):(an&&n&&jx(t),t.flags|=1,ir(e,t,r,a),t.child)}function fv(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!Hx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vj(e,t,i,r,a)):(e=tu(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sc,n(o,r)&&e.ref===t.ref)return pa(e,t,a)}return t.flags|=1,e=ei(i,r),e.ref=t.ref,e.return=t,t.child=e}function vj(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Sc(i,r)&&e.ref===t.ref)if(yr=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(yr=!0);else return t.lanes=e.lanes,pa(e,t,a)}return rp(e,t,n,r,a)}function bj(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Ao,Er),Er|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Zt(Ao,Er),Er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Zt(Ao,Er),Er|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Zt(Ao,Er),Er|=r;return ir(e,t,a,n),t.child}function wj(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rp(e,t,n,r,a){var i=wr(n)?Hi:sr.current;return i=sl(t,i),Wo(t,a),n=Ox(e,t,n,r,i,a),r=Ax(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,pa(e,t,a)):(an&&r&&jx(t),t.flags|=1,ir(e,t,n,a),t.child)}function hv(e,t,n,r,a){if(wr(n)){var i=!0;_u(t)}else i=!1;if(Wo(t,a),t.stateNode===null)Jd(e,t),xj(t,n,r),tp(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Xr(d):(d=wr(n)?Hi:sr.current,d=sl(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&lv(t,o,r,d),Oa=!1;var h=t.memoizedState;o.state=h,Ru(t,r,o,a),c=t.memoizedState,l!==r||h!==c||br.current||Oa?(typeof u=="function"&&(ep(t,n,u,r),c=t.memoizedState),(l=Oa||ov(t,n,l,r,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Kw(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:os(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xr(c):(c=wr(n)?Hi:sr.current,c=sl(t,c));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&lv(t,o,r,c),Oa=!1,h=t.memoizedState,o.state=h,Ru(t,r,o,a);var v=t.memoizedState;l!==f||h!==v||br.current||Oa?(typeof g=="function"&&(ep(t,n,g,r),v=t.memoizedState),(d=Oa||ov(t,n,d,r,h,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return sp(e,t,n,r,i,a)}function sp(e,t,n,r,a,i){wj(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&Zy(t,n,!1),pa(e,t,i);r=t.stateNode,tD.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=il(t,e.child,null,i),t.child=il(t,null,l,i)):ir(e,t,l,i),t.memoizedState=r.state,a&&Zy(t,n,!0),t.child}function jj(e){var t=e.stateNode;t.pendingContext?Jy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jy(e,t.context,!1),Px(e,t.containerInfo)}function pv(e,t,n,r,a){return al(),Sx(a),t.flags|=256,ir(e,t,n,r),t.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function ip(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nj(e,t,n){var r=t.pendingProps,a=cn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Zt(cn,a&1),e===null)return Jh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Sm(o,r,0,null),e=Wi(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ip(n),t.memoizedState=ap,e):Lx(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return nD(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ei(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ei(l,i):(i=Wi(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ip(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ap,r}return i=e.child,e=i.sibling,r=ei(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Lx(e,t){return t=Sm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kd(e,t,n,r){return r!==null&&Sx(r),il(t,e.child,null,n),e=Lx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nD(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Lf(Error(ce(422))),kd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Sm({mode:"visible",children:r.children},a,0,null),i=Wi(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&il(t,e.child,null,o),t.child.memoizedState=ip(o),t.memoizedState=ap,i);if(!(t.mode&1))return kd(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ce(419)),r=Lf(i,r,void 0),kd(e,t,o,r)}if(l=(o&e.childLanes)!==0,yr||l){if(r=Bn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ha(e,a),hs(r,e,a,-1))}return zx(),r=Lf(Error(ce(421))),kd(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=pD.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Tr=Ga(a.nextSibling),Rr=t,an=!0,us=null,e!==null&&(Vr[qr++]=na,Vr[qr++]=ra,Vr[qr++]=Vi,na=e.id,ra=e.overflow,Vi=t),t=Lx(t,r.children),t.flags|=4096,t)}function xv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zh(e.return,t,n)}function $f(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Sj(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ir(e,t,r.children,n),r=cn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xv(e,n,t);else if(e.tag===19)xv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Zt(cn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Mu(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),$f(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Mu(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}$f(t,!0,n,null,i);break;case"together":$f(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,n=ei(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ei(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rD(e,t,n){switch(t.tag){case 3:jj(t),al();break;case 5:Gw(t);break;case 1:wr(t.type)&&_u(t);break;case 4:Px(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Zt(Pu,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Zt(cn,cn.current&1),t.flags|=128,null):n&t.child.childLanes?Nj(e,t,n):(Zt(cn,cn.current&1),e=pa(e,t,n),e!==null?e.sibling:null);Zt(cn,cn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sj(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Zt(cn,cn.current),r)break;return null;case 22:case 23:return t.lanes=0,bj(e,t,n)}return pa(e,t,n)}var Cj,op,kj,_j;Cj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};op=function(){};kj=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Mi(Bs.current);var i=null;switch(n){case"input":a=Eh(e,a),r=Eh(e,r),i=[];break;case"select":a=mn({},a,{value:void 0}),r=mn({},r,{value:void 0}),i=[];break;case"textarea":a=Rh(e,a),r=Rh(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cu)}Oh(n,r);var o;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(gc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(gc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&nn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};_j=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ll(e,t){if(!an)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sD(e,t,n){var r=t.pendingProps;switch(Nx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(t),null;case 1:return wr(t.type)&&ku(),Gn(t),null;case 3:return r=t.stateNode,ol(),sn(br),sn(sr),Rx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,us!==null&&(pp(us),us=null))),op(e,t),Gn(t),null;case 5:Tx(t);var a=Mi(Ec.current);if(n=t.type,e!==null&&t.stateNode!=null)kj(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ce(166));return Gn(t),null}if(e=Mi(Bs.current),Sd(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rs]=t,r[_c]=i,e=(t.mode&1)!==0,n){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(a=0;a<Zl.length;a++)nn(Zl[a],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":Cy(r,i),nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nn("invalid",r);break;case"textarea":_y(r,i),nn("invalid",r)}Oh(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Nd(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Nd(r.textContent,l,e),a=["children",""+l]):gc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&nn("scroll",r)}switch(n){case"input":pd(r),ky(r,i,!0);break;case"textarea":pd(r),Dy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cu)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rs]=t,e[_c]=r,Cj(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ah(n,r),n){case"dialog":nn("cancel",e),nn("close",e),a=r;break;case"iframe":case"object":case"embed":nn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Zl.length;a++)nn(Zl[a],e);a=r;break;case"source":nn("error",e),a=r;break;case"img":case"image":case"link":nn("error",e),nn("load",e),a=r;break;case"details":nn("toggle",e),a=r;break;case"input":Cy(e,r),a=Eh(e,r),nn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=mn({},r,{value:void 0}),nn("invalid",e);break;case"textarea":_y(e,r),a=Rh(e,r),nn("invalid",e);break;default:a=r}Oh(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?sw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nw(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&yc(e,c):typeof c=="number"&&yc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nn("scroll",e):c!=null&&lx(e,i,c,o))}switch(n){case"input":pd(e),ky(e,r,!1);break;case"textarea":pd(e),Dy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+li(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Fo(e,!!r.multiple,i,!1):r.defaultValue!=null&&Fo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Cu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gn(t),null;case 6:if(e&&t.stateNode!=null)_j(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ce(166));if(n=Mi(Ec.current),Mi(Bs.current),Sd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rs]=t,(i=r.nodeValue!==n)&&(e=Rr,e!==null))switch(e.tag){case 3:Nd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nd(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rs]=t,t.stateNode=r}return Gn(t),null;case 13:if(sn(cn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(an&&Tr!==null&&t.mode&1&&!(t.flags&128))Hw(),al(),t.flags|=98560,i=!1;else if(i=Sd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ce(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[Rs]=t}else al(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gn(t),i=!1}else us!==null&&(pp(us),us=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cn.current&1?An===0&&(An=3):zx())),t.updateQueue!==null&&(t.flags|=4),Gn(t),null);case 4:return ol(),op(e,t),e===null&&Cc(t.stateNode.containerInfo),Gn(t),null;case 10:return _x(t.type._context),Gn(t),null;case 17:return wr(t.type)&&ku(),Gn(t),null;case 19:if(sn(cn),i=t.memoizedState,i===null)return Gn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ll(i,!1);else{if(An!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Mu(e),o!==null){for(t.flags|=128,Ll(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Zt(cn,cn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nn()>cl&&(t.flags|=128,r=!0,Ll(i,!1),t.lanes=4194304)}else{if(!r)if(e=Mu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ll(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!an)return Gn(t),null}else 2*Nn()-i.renderingStartTime>cl&&n!==1073741824&&(t.flags|=128,r=!0,Ll(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nn(),t.sibling=null,n=cn.current,Zt(cn,r?n&1|2:n&1),t):(Gn(t),null);case 22:case 23:return Ux(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Er&1073741824&&(Gn(t),t.subtreeFlags&6&&(t.flags|=8192)):Gn(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function aD(e,t){switch(Nx(t),t.tag){case 1:return wr(t.type)&&ku(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(),sn(br),sn(sr),Rx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tx(t),null;case 13:if(sn(cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sn(cn),null;case 4:return ol(),null;case 10:return _x(t.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var _d=!1,er=!1,iD=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Oo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gn(e,t,r)}else n.current=null}function lp(e,t,n){try{n()}catch(r){gn(e,t,r)}}var gv=!1;function oD(e,t){if(Hh=ju,e=Rw(),wx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var g;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++d===a&&(l=o),h===i&&++u===r&&(c=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vh={focusedElem:e,selectionRange:n},ju=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,w=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:os(t.type,p),w);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(j){gn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return v=gv,gv=!1,v}function uc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&lp(t,n,i)}a=a.next}while(a!==r)}}function jm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Dj(e){var t=e.alternate;t!==null&&(e.alternate=null,Dj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rs],delete t[_c],delete t[Kh],delete t[U2],delete t[z2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ej(e){return e.tag===5||e.tag===3||e.tag===4}function yv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ej(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cu));else if(r!==4&&(e=e.child,e!==null))for(dp(e,t,n),e=e.sibling;e!==null;)dp(e,t,n),e=e.sibling}function up(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(up(e,t,n),e=e.sibling;e!==null;)up(e,t,n),e=e.sibling}var Un=null,ds=!1;function ka(e,t,n){for(n=n.child;n!==null;)Pj(e,t,n),n=n.sibling}function Pj(e,t,n){if($s&&typeof $s.onCommitFiberUnmount=="function")try{$s.onCommitFiberUnmount(hm,n)}catch{}switch(n.tag){case 5:er||Oo(n,t);case 6:var r=Un,a=ds;Un=null,ka(e,t,n),Un=r,ds=a,Un!==null&&(ds?(e=Un,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(ds?(e=Un,n=n.stateNode,e.nodeType===8?Rf(e.parentNode,n):e.nodeType===1&&Rf(e,n),jc(e)):Rf(Un,n.stateNode));break;case 4:r=Un,a=ds,Un=n.stateNode.containerInfo,ds=!0,ka(e,t,n),Un=r,ds=a;break;case 0:case 11:case 14:case 15:if(!er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lp(n,t,o),a=a.next}while(a!==r)}ka(e,t,n);break;case 1:if(!er&&(Oo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){gn(n,t,l)}ka(e,t,n);break;case 21:ka(e,t,n);break;case 22:n.mode&1?(er=(r=er)||n.memoizedState!==null,ka(e,t,n),er=r):ka(e,t,n);break;default:ka(e,t,n)}}function vv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new iD),t.forEach(function(r){var a=xD.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function ss(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Un=l.stateNode,ds=!1;break e;case 3:Un=l.stateNode.containerInfo,ds=!0;break e;case 4:Un=l.stateNode.containerInfo,ds=!0;break e}l=l.return}if(Un===null)throw Error(ce(160));Pj(i,o,a),Un=null,ds=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){gn(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tj(t,e),t=t.sibling}function Tj(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ss(t,e),Ss(e),r&4){try{uc(3,e,e.return),jm(3,e)}catch(p){gn(e,e.return,p)}try{uc(5,e,e.return)}catch(p){gn(e,e.return,p)}}break;case 1:ss(t,e),Ss(e),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(ss(t,e),Ss(e),r&512&&n!==null&&Oo(n,n.return),e.flags&32){var a=e.stateNode;try{yc(a,"")}catch(p){gn(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Zb(a,i),Ah(l,o);var d=Ah(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?sw(a,f):u==="dangerouslySetInnerHTML"?nw(a,f):u==="children"?yc(a,f):lx(a,u,f,d)}switch(l){case"input":Ph(a,i);break;case"textarea":ew(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Fo(a,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?Fo(a,!!i.multiple,i.defaultValue,!0):Fo(a,!!i.multiple,i.multiple?[]:"",!1))}a[_c]=i}catch(p){gn(e,e.return,p)}}break;case 6:if(ss(t,e),Ss(e),r&4){if(e.stateNode===null)throw Error(ce(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){gn(e,e.return,p)}}break;case 3:if(ss(t,e),Ss(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jc(t.containerInfo)}catch(p){gn(e,e.return,p)}break;case 4:ss(t,e),Ss(e);break;case 13:ss(t,e),Ss(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Wx=Nn())),r&4&&vv(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(er=(d=er)||u,ss(t,e),er=d):ss(t,e),Ss(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Pe=e,u=e.child;u!==null;){for(f=Pe=u;Pe!==null;){switch(h=Pe,g=h.child,h.tag){case 0:case 11:case 14:case 15:uc(4,h,h.return);break;case 1:Oo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){gn(r,n,p)}}break;case 5:Oo(h,h.return);break;case 22:if(h.memoizedState!==null){wv(f);continue}}g!==null?(g.return=h,Pe=g):wv(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rw("display",o))}catch(p){gn(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(p){gn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ss(t,e),Ss(e),r&4&&vv(e);break;case 21:break;default:ss(t,e),Ss(e)}}function Ss(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ej(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(yc(a,""),r.flags&=-33);var i=yv(e);up(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=yv(e);dp(e,l,o);break;default:throw Error(ce(161))}}catch(c){gn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lD(e,t,n){Pe=e,Rj(e)}function Rj(e,t,n){for(var r=(e.mode&1)!==0;Pe!==null;){var a=Pe,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||_d;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||er;l=_d;var d=er;if(_d=o,(er=c)&&!d)for(Pe=a;Pe!==null;)o=Pe,c=o.child,o.tag===22&&o.memoizedState!==null?jv(a):c!==null?(c.return=o,Pe=c):jv(a);for(;i!==null;)Pe=i,Rj(i),i=i.sibling;Pe=a,_d=l,er=d}bv(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Pe=i):bv(e)}}function bv(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||jm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!er)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:os(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sv(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sv(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&jc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}er||t.flags&512&&cp(t)}catch(h){gn(t,t.return,h)}}if(t===e){Pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function wv(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function jv(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jm(4,t)}catch(c){gn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){gn(t,a,c)}}var i=t.return;try{cp(t)}catch(c){gn(t,i,c)}break;case 5:var o=t.return;try{cp(t)}catch(c){gn(t,o,c)}}}catch(c){gn(t,t.return,c)}if(t===e){Pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Pe=l;break}Pe=t.return}}var cD=Math.ceil,Iu=ba.ReactCurrentDispatcher,$x=ba.ReactCurrentOwner,Gr=ba.ReactCurrentBatchConfig,Et=0,Bn=null,Tn=null,zn=0,Er=0,Ao=yi(0),An=0,Mc=null,Qi=0,Nm=0,Bx=0,mc=null,gr=null,Wx=0,cl=1/0,ea=null,Fu=!1,mp=null,Ja=null,Dd=!1,Ua=null,Lu=0,fc=0,fp=null,Zd=-1,eu=0;function ur(){return Et&6?Nn():Zd!==-1?Zd:Zd=Nn()}function Za(e){return e.mode&1?Et&2&&zn!==0?zn&-zn:V2.transition!==null?(eu===0&&(eu=xw()),eu):(e=Wt,e!==0||(e=window.event,e=e===void 0?16:Nw(e.type)),e):1}function hs(e,t,n,r){if(50<fc)throw fc=0,fp=null,Error(ce(185));qc(e,n,r),(!(Et&2)||e!==Bn)&&(e===Bn&&(!(Et&2)&&(Nm|=n),An===4&&Ia(e,zn)),jr(e,r),n===1&&Et===0&&!(t.mode&1)&&(cl=Nn()+500,vm&&vi()))}function jr(e,t){var n=e.callbackNode;V_(e,t);var r=wu(e,e===Bn?zn:0);if(r===0)n!==null&&Ty(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ty(n),t===1)e.tag===0?H2(Nv.bind(null,e)):Yw(Nv.bind(null,e)),W2(function(){!(Et&6)&&vi()}),n=null;else{switch(gw(r)){case 1:n=fx;break;case 4:n=hw;break;case 16:n=bu;break;case 536870912:n=pw;break;default:n=bu}n=Bj(n,Mj.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mj(e,t){if(Zd=-1,eu=0,Et&6)throw Error(ce(327));var n=e.callbackNode;if(Yo()&&e.callbackNode!==n)return null;var r=wu(e,e===Bn?zn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$u(e,r);else{t=r;var a=Et;Et|=2;var i=Aj();(Bn!==e||zn!==t)&&(ea=null,cl=Nn()+500,Bi(e,t));do try{mD();break}catch(l){Oj(e,l)}while(!0);kx(),Iu.current=i,Et=a,Tn!==null?t=0:(Bn=null,zn=0,t=An)}if(t!==0){if(t===2&&(a=Bh(e),a!==0&&(r=a,t=hp(e,a))),t===1)throw n=Mc,Bi(e,0),Ia(e,r),jr(e,Nn()),n;if(t===6)Ia(e,r);else{if(a=e.current.alternate,!(r&30)&&!dD(a)&&(t=$u(e,r),t===2&&(i=Bh(e),i!==0&&(r=i,t=hp(e,i))),t===1))throw n=Mc,Bi(e,0),Ia(e,r),jr(e,Nn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ce(345));case 2:Di(e,gr,ea);break;case 3:if(Ia(e,r),(r&130023424)===r&&(t=Wx+500-Nn(),10<t)){if(wu(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){ur(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Qh(Di.bind(null,e,gr,ea),t);break}Di(e,gr,ea);break;case 4:if(Ia(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-fs(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cD(r/1960))-r,10<r){e.timeoutHandle=Qh(Di.bind(null,e,gr,ea),r);break}Di(e,gr,ea);break;case 5:Di(e,gr,ea);break;default:throw Error(ce(329))}}}return jr(e,Nn()),e.callbackNode===n?Mj.bind(null,e):null}function hp(e,t){var n=mc;return e.current.memoizedState.isDehydrated&&(Bi(e,t).flags|=256),e=$u(e,t),e!==2&&(t=gr,gr=n,t!==null&&pp(t)),e}function pp(e){gr===null?gr=e:gr.push.apply(gr,e)}function dD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!gs(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ia(e,t){for(t&=~Bx,t&=~Nm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fs(t),r=1<<n;e[n]=-1,t&=~r}}function Nv(e){if(Et&6)throw Error(ce(327));Yo();var t=wu(e,0);if(!(t&1))return jr(e,Nn()),null;var n=$u(e,t);if(e.tag!==0&&n===2){var r=Bh(e);r!==0&&(t=r,n=hp(e,r))}if(n===1)throw n=Mc,Bi(e,0),Ia(e,t),jr(e,Nn()),n;if(n===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Di(e,gr,ea),jr(e,Nn()),null}function Yx(e,t){var n=Et;Et|=1;try{return e(t)}finally{Et=n,Et===0&&(cl=Nn()+500,vm&&vi())}}function Ki(e){Ua!==null&&Ua.tag===0&&!(Et&6)&&Yo();var t=Et;Et|=1;var n=Gr.transition,r=Wt;try{if(Gr.transition=null,Wt=1,e)return e()}finally{Wt=r,Gr.transition=n,Et=t,!(Et&6)&&vi()}}function Ux(){Er=Ao.current,sn(Ao)}function Bi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,B2(n)),Tn!==null)for(n=Tn.return;n!==null;){var r=n;switch(Nx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ku();break;case 3:ol(),sn(br),sn(sr),Rx();break;case 5:Tx(r);break;case 4:ol();break;case 13:sn(cn);break;case 19:sn(cn);break;case 10:_x(r.type._context);break;case 22:case 23:Ux()}n=n.return}if(Bn=e,Tn=e=ei(e.current,null),zn=Er=t,An=0,Mc=null,Bx=Nm=Qi=0,gr=mc=null,Ri!==null){for(t=0;t<Ri.length;t++)if(n=Ri[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Ri=null}return e}function Oj(e,t){do{var n=Tn;try{if(kx(),Gd.current=Au,Ou){for(var r=un.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ou=!1}if(qi=0,Ln=On=un=null,dc=!1,Pc=0,$x.current=null,n===null||n.return===null){An=1,Mc=t,Tn=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=zn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=dv(o);if(g!==null){g.flags&=-257,uv(g,o,l,i,t),g.mode&1&&cv(i,d,t),t=g,c=d;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){cv(i,d,t),zx();break e}c=Error(ce(426))}}else if(an&&l.mode&1){var w=dv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),uv(w,o,l,i,t),Sx(ll(c,l));break e}}i=c=ll(c,l),An!==4&&(An=2),mc===null?mc=[i]:mc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=gj(i,c,t);rv(i,x);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ja===null||!Ja.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=yj(i,l,t);rv(i,j);break e}}i=i.return}while(i!==null)}Fj(n)}catch(N){t=N,Tn===n&&n!==null&&(Tn=n=n.return);continue}break}while(!0)}function Aj(){var e=Iu.current;return Iu.current=Au,e===null?Au:e}function zx(){(An===0||An===3||An===2)&&(An=4),Bn===null||!(Qi&268435455)&&!(Nm&268435455)||Ia(Bn,zn)}function $u(e,t){var n=Et;Et|=2;var r=Aj();(Bn!==e||zn!==t)&&(ea=null,Bi(e,t));do try{uD();break}catch(a){Oj(e,a)}while(!0);if(kx(),Et=n,Iu.current=r,Tn!==null)throw Error(ce(261));return Bn=null,zn=0,An}function uD(){for(;Tn!==null;)Ij(Tn)}function mD(){for(;Tn!==null&&!F_();)Ij(Tn)}function Ij(e){var t=$j(e.alternate,e,Er);e.memoizedProps=e.pendingProps,t===null?Fj(e):Tn=t,$x.current=null}function Fj(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aD(n,t),n!==null){n.flags&=32767,Tn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{An=6,Tn=null;return}}else if(n=sD(n,t,Er),n!==null){Tn=n;return}if(t=t.sibling,t!==null){Tn=t;return}Tn=t=e}while(t!==null);An===0&&(An=5)}function Di(e,t,n){var r=Wt,a=Gr.transition;try{Gr.transition=null,Wt=1,fD(e,t,n,r)}finally{Gr.transition=a,Wt=r}return null}function fD(e,t,n,r){do Yo();while(Ua!==null);if(Et&6)throw Error(ce(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(q_(e,i),e===Bn&&(Tn=Bn=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dd||(Dd=!0,Bj(bu,function(){return Yo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Gr.transition,Gr.transition=null;var o=Wt;Wt=1;var l=Et;Et|=4,$x.current=null,oD(e,n),Tj(n,e),M2(Vh),ju=!!Hh,Vh=Hh=null,e.current=n,lD(n),L_(),Et=l,Wt=o,Gr.transition=i}else e.current=n;if(Dd&&(Dd=!1,Ua=e,Lu=a),i=e.pendingLanes,i===0&&(Ja=null),W_(n.stateNode),jr(e,Nn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Fu)throw Fu=!1,e=mp,mp=null,e;return Lu&1&&e.tag!==0&&Yo(),i=e.pendingLanes,i&1?e===fp?fc++:(fc=0,fp=e):fc=0,vi(),null}function Yo(){if(Ua!==null){var e=gw(Lu),t=Gr.transition,n=Wt;try{if(Gr.transition=null,Wt=16>e?16:e,Ua===null)var r=!1;else{if(e=Ua,Ua=null,Lu=0,Et&6)throw Error(ce(331));var a=Et;for(Et|=4,Pe=e.current;Pe!==null;){var i=Pe,o=i.child;if(Pe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Pe=d;Pe!==null;){var u=Pe;switch(u.tag){case 0:case 11:case 15:uc(8,u,i)}var f=u.child;if(f!==null)f.return=u,Pe=f;else for(;Pe!==null;){u=Pe;var h=u.sibling,g=u.return;if(Dj(u),u===d){Pe=null;break}if(h!==null){h.return=g,Pe=h;break}Pe=g}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}Pe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Pe=o;else e:for(;Pe!==null;){if(i=Pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:uc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Pe=x;break e}Pe=i.return}}var y=e.current;for(Pe=y;Pe!==null;){o=Pe;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Pe=b;else e:for(o=y;Pe!==null;){if(l=Pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jm(9,l)}}catch(N){gn(l,l.return,N)}if(l===o){Pe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Pe=j;break e}Pe=l.return}}if(Et=a,vi(),$s&&typeof $s.onPostCommitFiberRoot=="function")try{$s.onPostCommitFiberRoot(hm,e)}catch{}r=!0}return r}finally{Wt=n,Gr.transition=t}}return!1}function Sv(e,t,n){t=ll(n,t),t=gj(e,t,1),e=Xa(e,t,1),t=ur(),e!==null&&(qc(e,1,t),jr(e,t))}function gn(e,t,n){if(e.tag===3)Sv(e,e,n);else for(;t!==null;){if(t.tag===3){Sv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ja===null||!Ja.has(r))){e=ll(n,e),e=yj(t,e,1),t=Xa(t,e,1),e=ur(),t!==null&&(qc(t,1,e),jr(t,e));break}}t=t.return}}function hD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ur(),e.pingedLanes|=e.suspendedLanes&n,Bn===e&&(zn&n)===n&&(An===4||An===3&&(zn&130023424)===zn&&500>Nn()-Wx?Bi(e,0):Bx|=n),jr(e,t)}function Lj(e,t){t===0&&(e.mode&1?(t=yd,yd<<=1,!(yd&130023424)&&(yd=4194304)):t=1);var n=ur();e=ha(e,t),e!==null&&(qc(e,t,n),jr(e,n))}function pD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lj(e,n)}function xD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(t),Lj(e,n)}var $j;$j=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||br.current)yr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yr=!1,rD(e,t,n);yr=!!(e.flags&131072)}else yr=!1,an&&t.flags&1048576&&Uw(t,Eu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jd(e,t),e=t.pendingProps;var a=sl(t,sr.current);Wo(t,n),a=Ox(null,t,r,e,a,n);var i=Ax();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wr(r)?(i=!0,_u(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ex(t),a.updater=wm,t.stateNode=a,a._reactInternals=t,tp(t,r,e,n),t=sp(null,t,r,!0,i,n)):(t.tag=0,an&&i&&jx(t),ir(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jd(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=yD(r),e=os(r,e),a){case 0:t=rp(null,t,r,e,n);break e;case 1:t=hv(null,t,r,e,n);break e;case 11:t=mv(null,t,r,e,n);break e;case 14:t=fv(null,t,r,os(r.type,e),n);break e}throw Error(ce(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:os(r,a),rp(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:os(r,a),hv(e,t,r,a,n);case 3:e:{if(jj(t),e===null)throw Error(ce(387));r=t.pendingProps,i=t.memoizedState,a=i.element,Kw(e,t),Ru(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ll(Error(ce(423)),t),t=pv(e,t,r,n,a);break e}else if(r!==a){a=ll(Error(ce(424)),t),t=pv(e,t,r,n,a);break e}else for(Tr=Ga(t.stateNode.containerInfo.firstChild),Rr=t,an=!0,us=null,n=qw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(al(),r===a){t=pa(e,t,n);break e}ir(e,t,r,n)}t=t.child}return t;case 5:return Gw(t),e===null&&Jh(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,qh(r,a)?o=null:i!==null&&qh(r,i)&&(t.flags|=32),wj(e,t),ir(e,t,o,n),t.child;case 6:return e===null&&Jh(t),null;case 13:return Nj(e,t,n);case 4:return Px(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=il(t,null,r,n):ir(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:os(r,a),mv(e,t,r,a,n);case 7:return ir(e,t,t.pendingProps,n),t.child;case 8:return ir(e,t,t.pendingProps.children,n),t.child;case 12:return ir(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Zt(Pu,r._currentValue),r._currentValue=o,i!==null)if(gs(i.value,o)){if(i.children===a.children&&!br.current){t=pa(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=sa(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Zh(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ce(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zh(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ir(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Wo(t,n),a=Xr(a),r=r(a),t.flags|=1,ir(e,t,r,n),t.child;case 14:return r=t.type,a=os(r,t.pendingProps),a=os(r.type,a),fv(e,t,r,a,n);case 15:return vj(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:os(r,a),Jd(e,t),t.tag=1,wr(r)?(e=!0,_u(t)):e=!1,Wo(t,n),xj(t,r,a),tp(t,r,a,n),sp(null,t,r,!0,e,n);case 19:return Sj(e,t,n);case 22:return bj(e,t,n)}throw Error(ce(156,t.tag))};function Bj(e,t){return fw(e,t)}function gD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(e,t,n,r){return new gD(e,t,n,r)}function Hx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yD(e){if(typeof e=="function")return Hx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dx)return 11;if(e===ux)return 14}return 2}function ei(e,t){var n=e.alternate;return n===null?(n=Kr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tu(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")Hx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Co:return Wi(n.children,a,i,t);case cx:o=8,a|=8;break;case Ch:return e=Kr(12,n,t,a|2),e.elementType=Ch,e.lanes=i,e;case kh:return e=Kr(13,n,t,a),e.elementType=kh,e.lanes=i,e;case _h:return e=Kr(19,n,t,a),e.elementType=_h,e.lanes=i,e;case Gb:return Sm(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qb:o=10;break e;case Kb:o=9;break e;case dx:o=11;break e;case ux:o=14;break e;case Ma:o=16,r=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Kr(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Wi(e,t,n,r){return e=Kr(7,e,r,t),e.lanes=n,e}function Sm(e,t,n,r){return e=Kr(22,e,r,t),e.elementType=Gb,e.lanes=n,e.stateNode={isHidden:!1},e}function Bf(e,t,n){return e=Kr(6,e,null,t),e.lanes=n,e}function Wf(e,t,n){return t=Kr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vD(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wf(0),this.expirationTimes=wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wf(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vx(e,t,n,r,a,i,o,l,c){return e=new vD(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Kr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ex(i),e}function bD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wj(e){if(!e)return ci;e=e._reactInternals;e:{if(co(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var n=e.type;if(wr(n))return Ww(e,n,t)}return t}function Yj(e,t,n,r,a,i,o,l,c){return e=Vx(n,r,!0,e,a,i,o,l,c),e.context=Wj(null),n=e.current,r=ur(),a=Za(n),i=sa(r,a),i.callback=t??null,Xa(n,i,a),e.current.lanes=a,qc(e,a,r),jr(e,r),e}function Cm(e,t,n,r){var a=t.current,i=ur(),o=Za(a);return n=Wj(n),t.context===null?t.context=n:t.pendingContext=n,t=sa(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xa(a,t,o),e!==null&&(hs(e,a,o,i),Kd(e,a,o)),o}function Bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qx(e,t){Cv(e,t),(e=e.alternate)&&Cv(e,t)}function wD(){return null}var Uj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qx(e){this._internalRoot=e}km.prototype.render=Qx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Cm(e,t,null,null)};km.prototype.unmount=Qx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ki(function(){Cm(null,e,null,null)}),t[fa]=null}};function km(e){this._internalRoot=e}km.prototype.unstable_scheduleHydration=function(e){if(e){var t=bw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Aa.length&&t!==0&&t<Aa[n].priority;n++);Aa.splice(n,0,e),n===0&&jw(e)}};function Kx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kv(){}function jD(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=Bu(o);i.call(d)}}var o=Yj(t,r,e,0,null,!1,!1,"",kv);return e._reactRootContainer=o,e[fa]=o.current,Cc(e.nodeType===8?e.parentNode:e),Ki(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=Bu(c);l.call(d)}}var c=Vx(e,0,!1,null,null,!1,!1,"",kv);return e._reactRootContainer=c,e[fa]=c.current,Cc(e.nodeType===8?e.parentNode:e),Ki(function(){Cm(t,c,n,r)}),c}function Dm(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Bu(o);l.call(c)}}Cm(t,o,e,a)}else o=jD(n,t,e,a,r);return Bu(o)}yw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jl(t.pendingLanes);n!==0&&(hx(t,n|1),jr(t,Nn()),!(Et&6)&&(cl=Nn()+500,vi()))}break;case 13:Ki(function(){var r=ha(e,1);if(r!==null){var a=ur();hs(r,e,1,a)}}),qx(e,1)}};px=function(e){if(e.tag===13){var t=ha(e,134217728);if(t!==null){var n=ur();hs(t,e,134217728,n)}qx(e,134217728)}};vw=function(e){if(e.tag===13){var t=Za(e),n=ha(e,t);if(n!==null){var r=ur();hs(n,e,t,r)}qx(e,t)}};bw=function(){return Wt};ww=function(e,t){var n=Wt;try{return Wt=e,t()}finally{Wt=n}};Fh=function(e,t,n){switch(t){case"input":if(Ph(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ym(r);if(!a)throw Error(ce(90));Jb(r),Ph(r,a)}}}break;case"textarea":ew(e,n);break;case"select":t=n.value,t!=null&&Fo(e,!!n.multiple,t,!1)}};ow=Yx;lw=Ki;var ND={usingClientEntryPoint:!1,Events:[Kc,Eo,ym,aw,iw,Yx]},$l={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SD={bundleType:$l.bundleType,version:$l.version,rendererPackageName:$l.rendererPackageName,rendererConfig:$l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ba.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uw(e),e===null?null:e.stateNode},findFiberByHostInstance:$l.findFiberByHostInstance||wD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ed.isDisabled&&Ed.supportsFiber)try{hm=Ed.inject(SD),$s=Ed}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ND;Lr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kx(t))throw Error(ce(200));return bD(e,t,null,n)};Lr.createRoot=function(e,t){if(!Kx(e))throw Error(ce(299));var n=!1,r="",a=Uj;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Vx(e,1,!1,null,null,n,!1,r,a),e[fa]=t.current,Cc(e.nodeType===8?e.parentNode:e),new Qx(t)};Lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=uw(t),e=e===null?null:e.stateNode,e};Lr.flushSync=function(e){return Ki(e)};Lr.hydrate=function(e,t,n){if(!_m(t))throw Error(ce(200));return Dm(null,e,t,!0,n)};Lr.hydrateRoot=function(e,t,n){if(!Kx(e))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=Uj;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Yj(t,null,e,1,n??null,a,!1,i,o),e[fa]=t.current,Cc(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new km(t)};Lr.render=function(e,t,n){if(!_m(t))throw Error(ce(200));return Dm(null,e,t,!1,n)};Lr.unmountComponentAtNode=function(e){if(!_m(e))throw Error(ce(40));return e._reactRootContainer?(Ki(function(){Dm(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0):!1};Lr.unstable_batchedUpdates=Yx;Lr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_m(n))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Dm(e,t,n,!1,r)};Lr.version="18.3.1-next-f1338f8080-20240426";function zj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zj)}catch(e){console.error(e)}}zj(),zb.exports=Lr;var Sl=zb.exports;const Gx=Rb(Sl);var Hj,_v=Sl;Hj=_v.createRoot,_v.hydrateRoot;var Dv=["light","dark"],CD="(prefers-color-scheme: dark)",kD=m.createContext(void 0),_D={setTheme:e=>{},themes:[]},DD=()=>{var e;return(e=m.useContext(kD))!=null?e:_D};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=a?Dv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,p=!1,w=!0)=>{let x=o?o[v]:v,y=p?v+"|| ''":`'${x}'`,b="";return a&&w&&!p&&Dv.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),n==="class"?p||x?b+=`c.add(${y})`:b+="null":x&&(b+=`d[s](n,${y})`),b},g=e?`!function(){${u}${h(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${CD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var ED=e=>{switch(e){case"success":return RD;case"info":return OD;case"warning":return MD;case"error":return AD;default:return null}},PD=Array(12).fill(0),TD=({visible:e})=>A.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},A.createElement("div",{className:"sonner-spinner"},PD.map((t,n)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),RD=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MD=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OD=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),AD=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ID=()=>{let[e,t]=A.useState(document.hidden);return A.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},xp=1,FD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:xp++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=n!==void 0;return r.then(async i=>{if($D(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:n,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(n),n=void 0),(i=t.finally)==null||i.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||xp++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Dr=new FD,LD=(e,t)=>{let n=(t==null?void 0:t.id)||xp++;return Dr.addToast({title:e,...t,id:n}),n},$D=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",BD=LD,WD=()=>Dr.toasts;Object.assign(BD,{success:Dr.success,info:Dr.info,warning:Dr.warning,error:Dr.error,custom:Dr.custom,message:Dr.message,promise:Dr.promise,dismiss:Dr.dismiss,loading:Dr.loading},{getHistory:WD});function YD(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}YD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Pd(e){return e.label!==void 0}var UD=3,zD="32px",HD=4e3,VD=356,qD=14,QD=20,KD=200;function GD(...e){return e.filter(Boolean).join(" ")}var XD=e=>{var t,n,r,a,i,o,l,c,d,u;let{invert:f,toast:h,unstyled:g,interacting:v,setHeights:p,visibleToasts:w,heights:x,index:y,toasts:b,expanded:j,removeToast:N,defaultRichColors:P,closeButton:C,style:S,cancelButtonStyle:O,actionButtonStyle:k,className:F="",descriptionClassName:B="",duration:ee,position:re,gap:J,loadingIcon:q,expandByDefault:D,classNames:_,icons:T,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:U,cn:z}=e,[G,ye]=A.useState(!1),[Ce,ge]=A.useState(!1),[Q,te]=A.useState(!1),[de,E]=A.useState(!1),[Z,W]=A.useState(0),[be,Ye]=A.useState(0),Ze=A.useRef(null),tt=A.useRef(null),Ct=y===0,Mt=y+1<=w,I=h.type,He=h.dismissible!==!1,gt=h.className||"",Tt=h.descriptionClassName||"",ln=A.useMemo(()=>x.findIndex(ue=>ue.toastId===h.id)||0,[x,h.id]),hn=A.useMemo(()=>{var ue;return(ue=h.closeButton)!=null?ue:C},[h.closeButton,C]),Ie=A.useMemo(()=>h.duration||ee||HD,[h.duration,ee]),R=A.useRef(0),he=A.useRef(0),Te=A.useRef(0),Oe=A.useRef(null),[De,Re]=re.split("-"),qe=A.useMemo(()=>x.reduce((ue,Ne,Le)=>Le>=ln?ue:ue+Ne.height,0),[x,ln]),Gt=ID(),En=h.invert||f,K=I==="loading";he.current=A.useMemo(()=>ln*J+qe,[ln,qe]),A.useEffect(()=>{ye(!0)},[]),A.useLayoutEffect(()=>{if(!G)return;let ue=tt.current,Ne=ue.style.height;ue.style.height="auto";let Le=ue.getBoundingClientRect().height;ue.style.height=Ne,Ye(Le),p(Lt=>Lt.find(pn=>pn.toastId===h.id)?Lt.map(pn=>pn.toastId===h.id?{...pn,height:Le}:pn):[{toastId:h.id,height:Le,position:h.position},...Lt])},[G,h.title,h.description,p,h.id]);let ie=A.useCallback(()=>{ge(!0),W(he.current),p(ue=>ue.filter(Ne=>Ne.toastId!==h.id)),setTimeout(()=>{N(h)},KD)},[h,N,p,he]);A.useEffect(()=>{if(h.promise&&I==="loading"||h.duration===1/0||h.type==="loading")return;let ue,Ne=Ie;return j||v||U&&Gt?(()=>{if(Te.current<R.current){let Le=new Date().getTime()-R.current;Ne=Ne-Le}Te.current=new Date().getTime()})():Ne!==1/0&&(R.current=new Date().getTime(),ue=setTimeout(()=>{var Le;(Le=h.onAutoClose)==null||Le.call(h,h),ie()},Ne)),()=>clearTimeout(ue)},[j,v,D,h,Ie,ie,h.promise,I,U,Gt]),A.useEffect(()=>{let ue=tt.current;if(ue){let Ne=ue.getBoundingClientRect().height;return Ye(Ne),p(Le=>[{toastId:h.id,height:Ne,position:h.position},...Le]),()=>p(Le=>Le.filter(Lt=>Lt.toastId!==h.id))}},[p,h.id]),A.useEffect(()=>{h.delete&&ie()},[ie,h.delete]);function Fe(){return T!=null&&T.loading?A.createElement("div",{className:"sonner-loader","data-visible":I==="loading"},T.loading):q?A.createElement("div",{className:"sonner-loader","data-visible":I==="loading"},q):A.createElement(TD,{visible:I==="loading"})}return A.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:tt,className:z(F,gt,_==null?void 0:_.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,_==null?void 0:_.default,_==null?void 0:_[I],(n=h==null?void 0:h.classNames)==null?void 0:n[I]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:P,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":G,"data-promise":!!h.promise,"data-removed":Ce,"data-visible":Mt,"data-y-position":De,"data-x-position":Re,"data-index":y,"data-front":Ct,"data-swiping":Q,"data-dismissible":He,"data-type":I,"data-invert":En,"data-swipe-out":de,"data-expanded":!!(j||D&&G),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${Ce?Z:he.current}px`,"--initial-height":D?"auto":`${be}px`,...S,...h.style},onPointerDown:ue=>{K||!He||(Ze.current=new Date,W(he.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(te(!0),Oe.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Ne,Le,Lt;if(de||!He)return;Oe.current=null;let pn=Number(((ue=tt.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Qe=new Date().getTime()-((Ne=Ze.current)==null?void 0:Ne.getTime()),pr=Math.abs(pn)/Qe;if(Math.abs(pn)>=QD||pr>.11){W(he.current),(Le=h.onDismiss)==null||Le.call(h,h),ie(),E(!0);return}(Lt=tt.current)==null||Lt.style.setProperty("--swipe-amount","0px"),te(!1)},onPointerMove:ue=>{var Ne;if(!Oe.current||!He)return;let Le=ue.clientY-Oe.current.y,Lt=ue.clientX-Oe.current.x,pn=(De==="top"?Math.min:Math.max)(0,Le),Qe=ue.pointerType==="touch"?10:2;Math.abs(pn)>Qe?(Ne=tt.current)==null||Ne.style.setProperty("--swipe-amount",`${Le}px`):Math.abs(Lt)>Qe&&(Oe.current=null)}},hn&&!h.jsx?A.createElement("button",{"aria-label":L,"data-disabled":K,"data-close-button":!0,onClick:K||!He?()=>{}:()=>{var ue;ie(),(ue=h.onDismiss)==null||ue.call(h,h)},className:z(_==null?void 0:_.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||A.isValidElement(h.title)?h.jsx||h.title:A.createElement(A.Fragment,null,I||h.icon||h.promise?A.createElement("div",{"data-icon":"",className:z(_==null?void 0:_.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Fe():null,h.type!=="loading"?h.icon||(T==null?void 0:T[I])||ED(I):null):null,A.createElement("div",{"data-content":"",className:z(_==null?void 0:_.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},A.createElement("div",{"data-title":"",className:z(_==null?void 0:_.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?A.createElement("div",{"data-description":"",className:z(B,Tt,_==null?void 0:_.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),A.isValidElement(h.cancel)?h.cancel:h.cancel&&Pd(h.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:ue=>{var Ne,Le;Pd(h.cancel)&&He&&((Le=(Ne=h.cancel).onClick)==null||Le.call(Ne,ue),ie())},className:z(_==null?void 0:_.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,A.isValidElement(h.action)?h.action:h.action&&Pd(h.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:ue=>{var Ne,Le;Pd(h.action)&&(ue.defaultPrevented||((Le=(Ne=h.action).onClick)==null||Le.call(Ne,ue),ie()))},className:z(_==null?void 0:_.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function Ev(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var JD=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:h=UD,toastOptions:g,dir:v=Ev(),gap:p=qD,loadingIcon:w,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:b,cn:j=GD}=e,[N,P]=A.useState([]),C=A.useMemo(()=>Array.from(new Set([n].concat(N.filter(U=>U.position).map(U=>U.position)))),[N,n]),[S,O]=A.useState([]),[k,F]=A.useState(!1),[B,ee]=A.useState(!1),[re,J]=A.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=A.useRef(null),D=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=A.useRef(null),T=A.useRef(!1),L=A.useCallback(U=>{var z;(z=N.find(G=>G.id===U.id))!=null&&z.delete||Dr.dismiss(U.id),P(G=>G.filter(({id:ye})=>ye!==U.id))},[N]);return A.useEffect(()=>Dr.subscribe(U=>{if(U.dismiss){P(z=>z.map(G=>G.id===U.id?{...G,delete:!0}:G));return}setTimeout(()=>{Gx.flushSync(()=>{P(z=>{let G=z.findIndex(ye=>ye.id===U.id);return G!==-1?[...z.slice(0,G),{...z[G],...U},...z.slice(G+1)]:[U,...z]})})})}),[]),A.useEffect(()=>{if(c!=="system"){J(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:U})=>{J(U?"dark":"light")})},[c]),A.useEffect(()=>{N.length<=1&&F(!1)},[N]),A.useEffect(()=>{let U=z=>{var G,ye;r.every(Ce=>z[Ce]||z.code===Ce)&&(F(!0),(G=q.current)==null||G.focus()),z.code==="Escape"&&(document.activeElement===q.current||(ye=q.current)!=null&&ye.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[r]),A.useEffect(()=>{if(q.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,T.current=!1)}},[q.current]),N.length?A.createElement("section",{"aria-label":`${y} ${D}`,tabIndex:-1},C.map((U,z)=>{var G;let[ye,Ce]=U.split("-");return A.createElement("ol",{key:U,dir:v==="auto"?Ev():v,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":ye,"data-x-position":Ce,style:{"--front-toast-height":`${((G=S[0])==null?void 0:G.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||zD,"--width":`${VD}px`,"--gap":`${p}px`,...f},onBlur:ge=>{T.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(T.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||T.current||(T.current=!0,_.current=ge.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{B||F(!1)},onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},N.filter(ge=>!ge.position&&z===0||ge.position===U).map((ge,Q)=>{var te,de;return A.createElement(XD,{key:ge.id,icons:x,index:Q,toast:ge,defaultRichColors:d,duration:(te=g==null?void 0:g.duration)!=null?te:u,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:h,closeButton:(de=g==null?void 0:g.closeButton)!=null?de:i,interacting:B,position:U,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:L,toasts:N.filter(E=>E.position==ge.position),heights:S.filter(E=>E.position==ge.position),setHeights:O,expandByDefault:a,gap:p,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:b,cn:j})}))})):null};const ZD=({...e})=>{const{theme:t="system"}=DD();return s.jsx(JD,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Em=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pm=typeof window>"u"||"Deno"in globalThis;function ls(){}function eE(e,t){return typeof e=="function"?e(t):e}function tE(e){return typeof e=="number"&&e>=0&&e!==1/0}function nE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pv(e,t){return typeof e=="function"?e(t):e}function rE(e,t){return typeof e=="function"?e(t):e}function Tv(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Xx(o,t.options))return!1}else if(!Ac(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Rv(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Oc(t.options.mutationKey)!==Oc(i))return!1}else if(!Ac(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Xx(e,t){return((t==null?void 0:t.queryKeyHashFn)||Oc)(e)}function Oc(e){return JSON.stringify(e,(t,n)=>gp(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Ac(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Ac(e[n],t[n])):!1}function Vj(e,t){if(e===t)return e;const n=Mv(e)&&Mv(t);if(n||gp(e)&&gp(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:i[d];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=Vj(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Mv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gp(e){if(!Ov(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ov(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ov(e){return Object.prototype.toString.call(e)==="[object Object]"}function sE(e){return new Promise(t=>{setTimeout(t,e)})}function aE(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Vj(e,t):t}function iE(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function oE(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Jx=Symbol();function qj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Jx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ii,Fa,Qo,Sb,lE=(Sb=class extends Em{constructor(){super();It(this,Ii);It(this,Fa);It(this,Qo);ft(this,Qo,t=>{if(!Pm&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ne(this,Fa)||this.setEventListener(ne(this,Qo))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Fa))==null||t.call(this),ft(this,Fa,void 0))}setEventListener(t){var n;ft(this,Qo,t),(n=ne(this,Fa))==null||n.call(this),ft(this,Fa,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ne(this,Ii)!==t&&(ft(this,Ii,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ne(this,Ii)=="boolean"?ne(this,Ii):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ii=new WeakMap,Fa=new WeakMap,Qo=new WeakMap,Sb),Qj=new lE,Ko,La,Go,Cb,cE=(Cb=class extends Em{constructor(){super();It(this,Ko,!0);It(this,La);It(this,Go);ft(this,Go,t=>{if(!Pm&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ne(this,La)||this.setEventListener(ne(this,Go))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,La))==null||t.call(this),ft(this,La,void 0))}setEventListener(t){var n;ft(this,Go,t),(n=ne(this,La))==null||n.call(this),ft(this,La,t(this.setOnline.bind(this)))}setOnline(t){ne(this,Ko)!==t&&(ft(this,Ko,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ne(this,Ko)}},Ko=new WeakMap,La=new WeakMap,Go=new WeakMap,Cb),Wu=new cE;function dE(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function uE(e){return Math.min(1e3*2**e,3e4)}function Kj(e){return(e??"online")==="online"?Wu.isOnline():!0}var Gj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yf(e){return e instanceof Gj}function Xj(e){let t=!1,n=0,r=!1,a;const i=dE(),o=p=>{var w;r||(h(new Gj(p)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Qj.isFocused()&&(e.networkMode==="always"||Wu.isOnline())&&e.canRun(),u=()=>Kj(e.networkMode)&&e.canRun(),f=p=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,p),a==null||a(),i.resolve(p))},h=p=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,p),a==null||a(),i.reject(p))},g=()=>new Promise(p=>{var w;a=x=>{(r||d())&&p(x)},(w=e.onPause)==null||w.call(e)}).then(()=>{var p;a=void 0,r||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(r)return;let p;const w=n===0?e.initialPromise:void 0;try{p=w??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var P;if(r)return;const y=e.retry??(Pm?0:3),b=e.retryDelay??uE,j=typeof b=="function"?b(n,x):b,N=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,x);if(t||!N){h(x);return}n++,(P=e.onFail)==null||P.call(e,n,x),sE(j).then(()=>d()?void 0:g()).then(()=>{t?h(x):v()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?v():g().then(v),i)}}function mE(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var cr=mE(),Fi,kb,Jj=(kb=class{constructor(){It(this,Fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tE(this.gcTime)&&ft(this,Fi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pm?1/0:5*60*1e3))}clearGcTimeout(){ne(this,Fi)&&(clearTimeout(ne(this,Fi)),ft(this,Fi,void 0))}},Fi=new WeakMap,kb),Xo,Jo,Yr,Zn,zc,Li,cs,Zs,_b,fE=(_b=class extends Jj{constructor(t){super();It(this,cs);It(this,Xo);It(this,Jo);It(this,Yr);It(this,Zn);It(this,zc);It(this,Li);ft(this,Li,!1),ft(this,zc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ft(this,Yr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ft(this,Xo,pE(this.options)),this.state=t.state??ne(this,Xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ne(this,Zn))==null?void 0:t.promise}setOptions(t){this.options={...ne(this,zc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,Yr).remove(this)}setData(t,n){const r=aE(this.state.data,t,this.options);return Qn(this,cs,Zs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Qn(this,cs,Zs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=ne(this,Zn))==null?void 0:r.promise;return(a=ne(this,Zn))==null||a.cancel(t),n?n.then(ls).catch(ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,Xo))}isActive(){return this.observers.some(t=>rE(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!nE(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ne(this,Zn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ne(this,Zn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ne(this,Yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ne(this,Zn)&&(ne(this,Li)?ne(this,Zn).cancel({revert:!0}):ne(this,Zn).cancelRetry()),this.scheduleGc()),ne(this,Yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qn(this,cs,Zs).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ne(this,Zn))return ne(this,Zn).continueRetry(),ne(this,Zn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ft(this,Li,!0),r.signal)})},i=()=>{const f=qj(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return a(h),ft(this,Li,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),ft(this,Jo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Qn(this,cs,Zs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var h,g,v,p;Yf(f)&&f.silent||Qn(this,cs,Zs).call(this,{type:"error",error:f}),Yf(f)||((g=(h=ne(this,Yr).config).onError)==null||g.call(h,f,this),(p=(v=ne(this,Yr).config).onSettled)==null||p.call(v,this.state.data,f,this)),this.scheduleGc()};return ft(this,Zn,Xj({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,g,v,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(g=(h=ne(this,Yr).config).onSuccess)==null||g.call(h,f,this),(p=(v=ne(this,Yr).config).onSettled)==null||p.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Qn(this,cs,Zs).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Qn(this,cs,Zs).call(this,{type:"pause"})},onContinue:()=>{Qn(this,cs,Zs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ne(this,Zn).start()}},Xo=new WeakMap,Jo=new WeakMap,Yr=new WeakMap,Zn=new WeakMap,zc=new WeakMap,Li=new WeakMap,cs=new WeakSet,Zs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...hE(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Yf(a)&&a.revert&&ne(this,Jo)?{...ne(this,Jo),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),cr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ne(this,Yr).notify({query:this,type:"updated",action:t})})},_b);function hE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Kj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ds,Db,xE=(Db=class extends Em{constructor(t={}){super();It(this,Ds);this.config=t,ft(this,Ds,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??Xx(a,n);let o=this.get(i);return o||(o=new fE({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ne(this,Ds).has(t.queryHash)||(ne(this,Ds).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ne(this,Ds).get(t.queryHash);n&&(t.destroy(),n===t&&ne(this,Ds).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ne(this,Ds).get(t)}getAll(){return[...ne(this,Ds).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Tv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Tv(t,r)):n}notify(t){cr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ds=new WeakMap,Db),Es,ar,$i,Ps,Ta,Eb,gE=(Eb=class extends Jj{constructor(t){super();It(this,Ps);It(this,Es);It(this,ar);It(this,$i);this.mutationId=t.mutationId,ft(this,ar,t.mutationCache),ft(this,Es,[]),this.state=t.state||yE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ne(this,Es).includes(t)||(ne(this,Es).push(t),this.clearGcTimeout(),ne(this,ar).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ft(this,Es,ne(this,Es).filter(n=>n!==t)),this.scheduleGc(),ne(this,ar).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ne(this,Es).length||(this.state.status==="pending"?this.scheduleGc():ne(this,ar).remove(this))}continue(){var t;return((t=ne(this,$i))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,h,g,v,p,w,x,y,b,j,N,P,C;ft(this,$i,Xj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,O)=>{Qn(this,Ps,Ta).call(this,{type:"failed",failureCount:S,error:O})},onPause:()=>{Qn(this,Ps,Ta).call(this,{type:"pause"})},onContinue:()=>{Qn(this,Ps,Ta).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,ar).canRun(this)}));const n=this.state.status==="pending",r=!ne(this,$i).canStart();try{if(!n){Qn(this,Ps,Ta).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(a=ne(this,ar).config).onMutate)==null?void 0:i.call(a,t,this));const O=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));O!==this.state.context&&Qn(this,Ps,Ta).call(this,{type:"pending",context:O,variables:t,isPaused:r})}const S=await ne(this,$i).start();return await((d=(c=ne(this,ar).config).onSuccess)==null?void 0:d.call(c,S,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,S,t,this.state.context)),await((g=(h=ne(this,ar).config).onSettled)==null?void 0:g.call(h,S,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,S,null,t,this.state.context)),Qn(this,Ps,Ta).call(this,{type:"success",data:S}),S}catch(S){try{throw await((x=(w=ne(this,ar).config).onError)==null?void 0:x.call(w,S,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,S,t,this.state.context)),await((N=(j=ne(this,ar).config).onSettled)==null?void 0:N.call(j,void 0,S,this.state.variables,this.state.context,this)),await((C=(P=this.options).onSettled)==null?void 0:C.call(P,void 0,S,t,this.state.context)),S}finally{Qn(this,Ps,Ta).call(this,{type:"error",error:S})}}finally{ne(this,ar).runNext(this)}}},Es=new WeakMap,ar=new WeakMap,$i=new WeakMap,Ps=new WeakSet,Ta=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cr.batch(()=>{ne(this,Es).forEach(r=>{r.onMutationUpdate(t)}),ne(this,ar).notify({mutation:this,type:"updated",action:t})})},Eb);function yE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _r,Hc,Pb,vE=(Pb=class extends Em{constructor(t={}){super();It(this,_r);It(this,Hc);this.config=t,ft(this,_r,new Map),ft(this,Hc,Date.now())}build(t,n,r){const a=new gE({mutationCache:this,mutationId:++md(this,Hc)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=Td(t),r=ne(this,_r).get(n)??[];r.push(t),ne(this,_r).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Td(t);if(ne(this,_r).has(n)){const a=(r=ne(this,_r).get(n))==null?void 0:r.filter(i=>i!==t);a&&(a.length===0?ne(this,_r).delete(n):ne(this,_r).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=ne(this,_r).get(Td(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=ne(this,_r).get(Td(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){cr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ne(this,_r).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Rv(n,r))}findAll(t={}){return this.getAll().filter(n=>Rv(t,n))}notify(t){cr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return cr.batch(()=>Promise.all(t.map(n=>n.continue().catch(ls))))}},_r=new WeakMap,Hc=new WeakMap,Pb);function Td(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Av(e){return{onFetch:(t,n)=>{var u,f,h,g,v;const r=t.options,a=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=qj(t.options,t.fetchOptions),y=async(b,j,N)=>{if(p)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const P={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};w(P);const C=await x(P),{maxPages:S}=t.options,O=N?oE:iE;return{pages:O(b.pages,C,S),pageParams:O(b.pageParams,j,S)}};if(a&&i.length){const b=a==="backward",j=b?bE:Iv,N={pages:i,pageParams:o},P=j(r,N);l=await y(N,P,b)}else{const b=e??i.length;do{const j=c===0?o[0]??r.initialPageParam:Iv(r,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,w;return(w=(p=t.options).persister)==null?void 0:w.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Iv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function bE(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var xn,$a,Ba,Zo,el,Wa,tl,nl,Tb,wE=(Tb=class{constructor(e={}){It(this,xn);It(this,$a);It(this,Ba);It(this,Zo);It(this,el);It(this,Wa);It(this,tl);It(this,nl);ft(this,xn,e.queryCache||new xE),ft(this,$a,e.mutationCache||new vE),ft(this,Ba,e.defaultOptions||{}),ft(this,Zo,new Map),ft(this,el,new Map),ft(this,Wa,0)}mount(){md(this,Wa)._++,ne(this,Wa)===1&&(ft(this,tl,Qj.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,xn).onFocus())})),ft(this,nl,Wu.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,xn).onOnline())})))}unmount(){var e,t;md(this,Wa)._--,ne(this,Wa)===0&&((e=ne(this,tl))==null||e.call(this),ft(this,tl,void 0),(t=ne(this,nl))==null||t.call(this),ft(this,nl,void 0))}isFetching(e){return ne(this,xn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ne(this,$a).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ne(this,xn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=ne(this,xn).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Pv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return ne(this,xn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=ne(this,xn).get(r.queryHash),i=a==null?void 0:a.state.data,o=eE(t,i);if(o!==void 0)return ne(this,xn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return cr.batch(()=>ne(this,xn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ne(this,xn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ne(this,xn);cr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ne(this,xn),r={type:"active",...e};return cr.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=cr.batch(()=>ne(this,xn).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(ls).catch(ls)}invalidateQueries(e={},t={}){return cr.batch(()=>{if(ne(this,xn).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=cr.batch(()=>ne(this,xn).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(ls)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ls)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ne(this,xn).build(this,t);return n.isStaleByTime(Pv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ls).catch(ls)}fetchInfiniteQuery(e){return e.behavior=Av(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ls).catch(ls)}ensureInfiniteQueryData(e){return e.behavior=Av(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wu.isOnline()?ne(this,$a).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,xn)}getMutationCache(){return ne(this,$a)}getDefaultOptions(){return ne(this,Ba)}setDefaultOptions(e){ft(this,Ba,e)}setQueryDefaults(e,t){ne(this,Zo).set(Oc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ne(this,Zo).values()];let n={};return t.forEach(r=>{Ac(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){ne(this,el).set(Oc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ne(this,el).values()];let n={};return t.forEach(r=>{Ac(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ne(this,Ba).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Jx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ne(this,Ba).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ne(this,xn).clear(),ne(this,$a).clear()}},xn=new WeakMap,$a=new WeakMap,Ba=new WeakMap,Zo=new WeakMap,el=new WeakMap,Wa=new WeakMap,tl=new WeakMap,nl=new WeakMap,Tb),jE=m.createContext(void 0),NE=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(jE.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ic.apply(this,arguments)}var za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(za||(za={}));const Fv="popstate";function SE(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:l="",hash:c=""}=uo(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),yp("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof i=="string"?i:Yu(i))}function r(a,i){Zx(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return kE(t,n,r,e)}function Rn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CE(){return Math.random().toString(36).substr(2,8)}function Lv(e,t){return{usr:e.state,key:e.key,idx:t}}function yp(e,t,n,r){return n===void 0&&(n=null),Ic({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?uo(t):t,{state:n,key:t&&t.key||r||CE()})}function Yu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function uo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kE(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=za.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Ic({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=za.Pop;let w=u(),x=w==null?null:w-d;d=w,c&&c({action:l,location:p.location,delta:x})}function h(w,x){l=za.Push;let y=yp(p.location,w,x);n&&n(y,w),d=u()+1;let b=Lv(y,d),j=p.createHref(y);try{o.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:p.location,delta:1})}function g(w,x){l=za.Replace;let y=yp(p.location,w,x);n&&n(y,w),d=u();let b=Lv(y,d),j=p.createHref(y);o.replaceState(b,"",j),i&&c&&c({action:l,location:p.location,delta:0})}function v(w){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof w=="string"?w:Yu(w);return y=y.replace(/ $/,"%20"),Rn(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let p={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Fv,f),c=w,()=>{a.removeEventListener(Fv,f),c=null}},createHref(w){return t(a,w)},createURL:v,encodeLocation(w){let x=v(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(w){return o.go(w)}};return p}var $v;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($v||($v={}));function _E(e,t,n){return n===void 0&&(n="/"),DE(e,t,n,!1)}function DE(e,t,n,r){let a=typeof t=="string"?uo(t):t,i=eg(a.pathname||"/",n);if(i==null)return null;let o=Zj(e);EE(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=BE(i);l=LE(o[c],d,r)}return l}function Zj(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Rn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ti([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Rn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Zj(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:IE(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of eN(i.path))a(i,o,c)}),t}function eN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=eN(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function EE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:FE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PE=/^:[\w-]+$/,TE=3,RE=2,ME=1,OE=10,AE=-2,Bv=e=>e==="*";function IE(e,t){let n=e.split("/"),r=n.length;return n.some(Bv)&&(r+=AE),t&&(r+=RE),n.filter(a=>!Bv(a)).reduce((a,i)=>a+(PE.test(i)?TE:i===""?ME:OE),r)}function FE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function LE(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Wv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Wv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:ti([i,f.pathname]),pathnameBase:zE(ti([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ti([i,f.pathnameBase]))}return o}function Wv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$E(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,u,f)=>{let{paramName:h,isOptional:g}=u;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[f];return g&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function $E(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function BE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function eg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function WE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?uo(e):e;return{pathname:n?n.startsWith("/")?n:YE(n,t):t,search:HE(r),hash:VE(a)}}function YE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Uf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tN(e,t){let n=UE(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nN(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=uo(e):(a=Ic({},e),Rn(!a.pathname||!a.pathname.includes("?"),Uf("?","pathname","search",a)),Rn(!a.pathname||!a.pathname.includes("#"),Uf("#","pathname","hash",a)),Rn(!a.search||!a.search.includes("#"),Uf("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=WE(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ti=e=>e.join("/").replace(/\/\/+/g,"/"),zE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),HE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rN=["post","put","patch","delete"];new Set(rN);const QE=["get",...rN];new Set(QE);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fc.apply(this,arguments)}const tg=m.createContext(null),KE=m.createContext(null),mo=m.createContext(null),Tm=m.createContext(null),fo=m.createContext({outlet:null,matches:[],isDataRoute:!1}),sN=m.createContext(null);function GE(e,t){let{relative:n}=t===void 0?{}:t;Xc()||Rn(!1);let{basename:r,navigator:a}=m.useContext(mo),{hash:i,pathname:o,search:l}=iN(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ti([r,o])),a.createHref({pathname:c,search:l,hash:i})}function Xc(){return m.useContext(Tm)!=null}function zs(){return Xc()||Rn(!1),m.useContext(Tm).location}function aN(e){m.useContext(mo).static||m.useLayoutEffect(e)}function Br(){let{isDataRoute:e}=m.useContext(fo);return e?cP():XE()}function XE(){Xc()||Rn(!1);let e=m.useContext(tg),{basename:t,future:n,navigator:r}=m.useContext(mo),{matches:a}=m.useContext(fo),{pathname:i}=zs(),o=JSON.stringify(tN(a,n.v7_relativeSplatPath)),l=m.useRef(!1);return aN(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=nN(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ti([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,o,i,e])}function iN(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(mo),{matches:a}=m.useContext(fo),{pathname:i}=zs(),o=JSON.stringify(tN(a,r.v7_relativeSplatPath));return m.useMemo(()=>nN(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function JE(e,t){return ZE(e,t)}function ZE(e,t,n,r){Xc()||Rn(!1);let{navigator:a}=m.useContext(mo),{matches:i}=m.useContext(fo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=zs(),u;if(t){var f;let w=typeof t=="string"?uo(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Rn(!1),u=w}else u=d;let h=u.pathname||"/",g=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=_E(e,{pathname:g}),p=sP(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ti([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ti([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&p?m.createElement(Tm.Provider,{value:{location:Fc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:za.Pop}},p):p}function eP(){let e=lP(),t=qE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:a},n):null,null)}const tP=m.createElement(eP,null);class nP extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(fo.Provider,{value:this.props.routeContext},m.createElement(sN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rP(e){let{routeContext:t,match:n,children:r}=e,a=m.useContext(tg);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(fo.Provider,{value:t},r)}function sP(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Rn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let g,v=!1,p=null,w=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||tP,c&&(d<0&&h===0?(v=!0,w=null):d===h&&(v=!0,w=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),y=()=>{let b;return g?b=p:v?b=w:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,m.createElement(rP,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(nP,{location:n.location,revalidation:n.revalidation,component:p,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var oN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oN||{}),Uu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Uu||{});function aP(e){let t=m.useContext(tg);return t||Rn(!1),t}function iP(e){let t=m.useContext(KE);return t||Rn(!1),t}function oP(e){let t=m.useContext(fo);return t||Rn(!1),t}function lN(e){let t=oP(),n=t.matches[t.matches.length-1];return n.route.id||Rn(!1),n.route.id}function lP(){var e;let t=m.useContext(sN),n=iP(Uu.UseRouteError),r=lN(Uu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function cP(){let{router:e}=aP(oN.UseNavigateStable),t=lN(Uu.UseNavigateStable),n=m.useRef(!1);return aN(()=>{n.current=!0}),m.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Fc({fromRouteId:t},i)))},[e,t])}function Pn(e){Rn(!1)}function dP(e){let{basename:t="/",children:n=null,location:r,navigationType:a=za.Pop,navigator:i,static:o=!1,future:l}=e;Xc()&&Rn(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Fc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=uo(r));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:v="default"}=r,p=m.useMemo(()=>{let w=eg(u,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:g,key:v},navigationType:a}},[c,u,f,h,g,v,a]);return p==null?null:m.createElement(mo.Provider,{value:d},m.createElement(Tm.Provider,{children:n,value:p}))}function uP(e){let{children:t,location:n}=e;return JE(vp(t),n)}new Promise(()=>{});function vp(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,a)=>{if(!m.isValidElement(r))return;let i=[...t,a];if(r.type===m.Fragment){n.push.apply(n,vp(r.props.children,i));return}r.type!==Pn&&Rn(!1),!r.props.index||!r.props.children||Rn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bp.apply(this,arguments)}function mP(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function fP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hP(e,t){return e.button===0&&(!t||t==="_self")&&!fP(e)}const pP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xP="6";try{window.__reactRouterVersion=xP}catch{}const gP="startTransition",Yv=fm[gP];function yP(e){let{basename:t,children:n,future:r,window:a}=e,i=m.useRef();i.current==null&&(i.current=SE({window:a,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=m.useCallback(f=>{d&&Yv?Yv(()=>c(f)):c(f)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.createElement(dP,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const vP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=m.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=mP(t,pP),{basename:g}=m.useContext(mo),v,p=!1;if(typeof d=="string"&&bP.test(d)&&(v=d,vP))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),N=eg(j.pathname,g);j.origin===b.origin&&N!=null?d=N+j.search+j.hash:p=!0}catch{}let w=GE(d,{relative:a}),x=wP(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||x(b)}return m.createElement("a",bp({},h,{href:v||w,onClick:p||i?r:y,ref:n,target:c}))});var Uv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Uv||(Uv={}));var zv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zv||(zv={}));function wP(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Br(),d=zs(),u=iN(e,{relative:o});return m.useCallback(f=>{if(hP(f,n)){f.preventDefault();let h=r!==void 0?r:Yu(d)===Yu(u);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,r,a,n,e,i,o,l])}function jP(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function cN(...e){return t=>e.forEach(n=>jP(n,t))}function qt(...e){return m.useCallback(cN(...e),e)}var di=m.forwardRef((e,t)=>{const{children:n,...r}=e,a=m.Children.toArray(n),i=a.find(SP);if(i){const o=i.props.children,l=a.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return s.jsx(wp,{...r,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return s.jsx(wp,{...r,ref:t,children:n})});di.displayName="Slot";var wp=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const a=kP(n);return m.cloneElement(n,{...CP(r,n.props),ref:t?cN(t,a):a})}return m.Children.count(n)>1?m.Children.only(null):null});wp.displayName="SlotClone";var NP=({children:e})=>s.jsx(s.Fragment,{children:e});function SP(e){return m.isValidElement(e)&&e.type===NP}function CP(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function kP(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function dN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=dN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function In(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=dN(e))&&(r&&(r+=" "),r+=t);return r}const Hv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Vv=In,Jc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Vv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],f=i==null?void 0:i[d];if(u===null)return null;const h=Hv(u)||Hv(f);return a[d][h]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:f,className:h,...g}=u;return Object.entries(g).every(v=>{let[p,w]=v;return Array.isArray(w)?w.includes({...i,...l}[p]):{...i,...l}[p]===w})?[...d,f,h]:d},[]);return Vv(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},ng="-",_P=e=>{const t=EP(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(ng);return l[0]===""&&l.length!==1&&l.shift(),uN(l,t)||DP(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},uN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?uN(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(ng);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},qv=/^\[(.+)\]$/,DP=e=>{if(qv.test(e)){const t=qv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},EP=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return TP(Object.entries(e.classGroups),n).forEach(([i,o])=>{jp(o,r,i,t)}),r},jp=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Qv(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(PP(a)){jp(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{jp(o,Qv(t,i),n,r)})})},Qv=(e,t)=>{let n=e;return t.split(ng).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},PP=e=>e.isThemeGetter,TP=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,RP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},mN="!",MP=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let w=0;w<l.length;w++){let x=l[w];if(d===0){if(x===a&&(r||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(x==="/"){f=w;continue}}x==="["?d++:x==="]"&&d--}const h=c.length===0?l:l.substring(u),g=h.startsWith(mN),v=g?h.substring(1):h,p=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},OP=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},AP=e=>({cache:RP(e.cacheSize),parseClassName:MP(e),..._P(e)}),IP=/\s+/,FP=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(IP);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(d);let v=!!g,p=r(v?h.substring(0,g):h);if(!p){if(!v){l=d+(l.length>0?" "+l:l);continue}if(p=r(h),!p){l=d+(l.length>0?" "+l:l);continue}v=!1}const w=OP(u).join(":"),x=f?w+mN:w,y=x+p;if(i.includes(y))continue;i.push(y);const b=a(p,v);for(let j=0;j<b.length;++j){const N=b[j];i.push(x+N)}l=d+(l.length>0?" "+l:l)}return l};function LP(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=fN(t))&&(r&&(r+=" "),r+=n);return r}const fN=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=fN(e[r]))&&(n&&(n+=" "),n+=t);return n};function $P(e,...t){let n,r,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=AP(d),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=FP(c,n);return a(c,u),u}return function(){return i(LP.apply(null,arguments))}}const tn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},hN=/^\[(?:([a-z-]+):)?(.+)\]$/i,BP=/^\d+\/\d+$/,WP=new Set(["px","full","screen"]),YP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=e=>Uo(e)||WP.has(e)||BP.test(e),_a=e=>Cl(e,"length",eT),Uo=e=>!!e&&!Number.isNaN(Number(e)),zf=e=>Cl(e,"number",Uo),Bl=e=>!!e&&Number.isInteger(Number(e)),qP=e=>e.endsWith("%")&&Uo(e.slice(0,-1)),mt=e=>hN.test(e),Da=e=>YP.test(e),QP=new Set(["length","size","percentage"]),KP=e=>Cl(e,QP,pN),GP=e=>Cl(e,"position",pN),XP=new Set(["image","url"]),JP=e=>Cl(e,XP,nT),ZP=e=>Cl(e,"",tT),Wl=()=>!0,Cl=(e,t,n)=>{const r=hN.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},eT=e=>UP.test(e)&&!zP.test(e),pN=()=>!1,tT=e=>HP.test(e),nT=e=>VP.test(e),rT=()=>{const e=tn("colors"),t=tn("spacing"),n=tn("blur"),r=tn("brightness"),a=tn("borderColor"),i=tn("borderRadius"),o=tn("borderSpacing"),l=tn("borderWidth"),c=tn("contrast"),d=tn("grayscale"),u=tn("hueRotate"),f=tn("invert"),h=tn("gap"),g=tn("gradientColorStops"),v=tn("gradientColorStopPositions"),p=tn("inset"),w=tn("margin"),x=tn("opacity"),y=tn("padding"),b=tn("saturate"),j=tn("scale"),N=tn("sepia"),P=tn("skew"),C=tn("space"),S=tn("translate"),O=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",mt,t],B=()=>[mt,t],ee=()=>["",Qs,_a],re=()=>["auto",Uo,mt],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",mt],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Uo,mt];return{cacheSize:500,separator:":",theme:{colors:[Wl],spacing:[Qs,_a],blur:["none","",Da,mt],brightness:U(),borderColor:[e],borderRadius:["none","","full",Da,mt],borderSpacing:B(),borderWidth:ee(),contrast:U(),grayscale:T(),hueRotate:U(),invert:T(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[qP,_a],inset:F(),margin:F(),opacity:U(),padding:B(),saturate:U(),scale:U(),sepia:T(),skew:U(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[Da]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),mt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bl,mt]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Bl,mt]}],"grid-cols":[{"grid-cols":[Wl]}],"col-start-end":[{col:["auto",{span:["full",Bl,mt]},mt]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[Wl]}],"row-start-end":[{row:["auto",{span:[Bl,mt]},mt]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mt,t]}],"min-w":[{"min-w":[mt,t,"min","max","fit"]}],"max-w":[{"max-w":[mt,t,"none","full","min","max","fit","prose",{screen:[Da]},Da]}],h:[{h:[mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Da,_a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zf]}],"font-family":[{font:[Wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",Uo,zf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,mt]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,_a]}],"underline-offset":[{"underline-offset":["auto",Qs,mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),GP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:q()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Qs,mt]}],"outline-w":[{outline:[Qs,_a]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Qs,_a]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Da,ZP]}],"shadow-color":[{shadow:[Wl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Da,mt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Bl,mt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qs,_a,zf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sT=$P(rT);function We(...e){return sT(In(e))}const Np=Jc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?di:"button";return s.jsx(o,{className:We(Np({variant:t,size:n,className:e})),ref:i,...a})});$.displayName="Button";const ui=({className:e="",size:t="md",variant:n="default"})=>{const r={sm:"h-6",md:"h-8",lg:"h-10"},a=n==="white"?"text-white":"text-gray-700";return s.jsxs("div",{className:`font-bold flex items-center ${e}`,children:[s.jsx("img",{src:"/lovable-uploads/919879f9-5c7e-4e0f-8ef1-08658c406b2f.png",alt:"FastJet Logo",className:`${r[t]} mr-2`}),s.jsx("span",{className:`${a} text-xl ml-1`,children:n==="white"?s.jsx("span",{className:"ml-1 bg-white text-fastjet-blue px-1.5 py-0.5 text-xs rounded-md uppercase font-bold",children:"Loyalty"}):s.jsx("span",{className:"ml-1 bg-fastjet-blue text-white px-1.5 py-0.5 text-xs rounded-md uppercase font-bold",children:"Loyalty"})})]})};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xN=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...iT,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:xN("lucide",a),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const n=m.forwardRef(({className:r,...a},i)=>m.createElement(oT,{ref:i,iconNode:t,className:xN(`lucide-${aT(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=ze("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=ze("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=ze("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=ze("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ze("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=ze("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ze("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=ze("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=ze("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=ze("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ze("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ze("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function CN(e,t){return function(){return e.apply(t,arguments)}}const{toString:jT}=Object.prototype,{getPrototypeOf:rg}=Object,{iterator:Rm,toStringTag:kN}=Symbol,Mm=(e=>t=>{const n=jT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ws=e=>(e=e.toLowerCase(),t=>Mm(t)===e),Om=e=>t=>typeof t===e,{isArray:_l}=Array,Lc=Om("undefined");function NT(e){return e!==null&&!Lc(e)&&e.constructor!==null&&!Lc(e.constructor)&&Nr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _N=ws("ArrayBuffer");function ST(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_N(e.buffer),t}const CT=Om("string"),Nr=Om("function"),DN=Om("number"),Am=e=>e!==null&&typeof e=="object",kT=e=>e===!0||e===!1,ru=e=>{if(Mm(e)!=="object")return!1;const t=rg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(kN in e)&&!(Rm in e)},_T=ws("Date"),DT=ws("File"),ET=ws("Blob"),PT=ws("FileList"),TT=e=>Am(e)&&Nr(e.pipe),RT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Nr(e.append)&&((t=Mm(e))==="formdata"||t==="object"&&Nr(e.toString)&&e.toString()==="[object FormData]"))},MT=ws("URLSearchParams"),[OT,AT,IT,FT]=["ReadableStream","Request","Response","Headers"].map(ws),LT=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),_l(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function EN(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,PN=e=>!Lc(e)&&e!==Oi;function Dp(){const{caseless:e}=PN(this)&&this||{},t={},n=(r,a)=>{const i=e&&EN(t,a)||a;ru(t[i])&&ru(r)?t[i]=Dp(t[i],r):ru(r)?t[i]=Dp({},r):_l(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Zc(arguments[r],n);return t}const $T=(e,t,n,{allOwnKeys:r}={})=>(Zc(t,(a,i)=>{n&&Nr(a)?e[i]=CN(a,n):e[i]=a},{allOwnKeys:r}),e),BT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),WT=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},YT=(e,t,n,r)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&rg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},UT=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},zT=e=>{if(!e)return null;if(_l(e))return e;let t=e.length;if(!DN(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},HT=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&rg(Uint8Array)),VT=(e,t)=>{const r=(e&&e[Rm]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},qT=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},QT=ws("HTMLFormElement"),KT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Zv=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),GT=ws("RegExp"),TN=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Zc(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},XT=e=>{TN(e,(t,n)=>{if(Nr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Nr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JT=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return _l(e)?r(e):r(String(e).split(t)),n},ZT=()=>{},eR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function tR(e){return!!(e&&Nr(e.append)&&e[kN]==="FormData"&&e[Rm])}const nR=e=>{const t=new Array(10),n=(r,a)=>{if(Am(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=_l(r)?[]:{};return Zc(r,(o,l)=>{const c=n(o,a+1);!Lc(c)&&(i[l]=c)}),t[a]=void 0,i}}return r};return n(e,0)},rR=ws("AsyncFunction"),sR=e=>e&&(Am(e)||Nr(e))&&Nr(e.then)&&Nr(e.catch),RN=((e,t)=>e?setImmediate:t?((n,r)=>(Oi.addEventListener("message",({source:a,data:i})=>{a===Oi&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Oi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nr(Oi.postMessage)),aR=typeof queueMicrotask<"u"?queueMicrotask.bind(Oi):typeof process<"u"&&process.nextTick||RN,iR=e=>e!=null&&Nr(e[Rm]),V={isArray:_l,isArrayBuffer:_N,isBuffer:NT,isFormData:RT,isArrayBufferView:ST,isString:CT,isNumber:DN,isBoolean:kT,isObject:Am,isPlainObject:ru,isReadableStream:OT,isRequest:AT,isResponse:IT,isHeaders:FT,isUndefined:Lc,isDate:_T,isFile:DT,isBlob:ET,isRegExp:GT,isFunction:Nr,isStream:TT,isURLSearchParams:MT,isTypedArray:HT,isFileList:PT,forEach:Zc,merge:Dp,extend:$T,trim:LT,stripBOM:BT,inherits:WT,toFlatObject:YT,kindOf:Mm,kindOfTest:ws,endsWith:UT,toArray:zT,forEachEntry:VT,matchAll:qT,isHTMLForm:QT,hasOwnProperty:Zv,hasOwnProp:Zv,reduceDescriptors:TN,freezeMethods:XT,toObjectSet:JT,toCamelCase:KT,noop:ZT,toFiniteNumber:eR,findKey:EN,global:Oi,isContextDefined:PN,isSpecCompliantForm:tR,toJSONObject:nR,isAsyncFn:rR,isThenable:sR,setImmediate:RN,asap:aR,isIterable:iR};function ut(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}V.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const MN=ut.prototype,ON={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ON[e]={value:e}});Object.defineProperties(ut,ON);Object.defineProperty(MN,"isAxiosError",{value:!0});ut.from=(e,t,n,r,a,i)=>{const o=Object.create(MN);return V.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ut.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const oR=null;function Ep(e){return V.isPlainObject(e)||V.isArray(e)}function AN(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function e0(e,t,n){return e?e.concat(t).map(function(a,i){return a=AN(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function lR(e){return V.isArray(e)&&!e.some(Ep)}const cR=V.toFlatObject(V,{},null,function(t){return/^is[A-Z]/.test(t)});function Im(e,t,n){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!V.isUndefined(w[p])});const r=n.metaTokens,a=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(a))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(V.isDate(v))return v.toISOString();if(!c&&V.isBlob(v))throw new ut("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(v)||V.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,p,w){let x=v;if(v&&!w&&typeof v=="object"){if(V.endsWith(p,"{}"))p=r?p:p.slice(0,-2),v=JSON.stringify(v);else if(V.isArray(v)&&lR(v)||(V.isFileList(v)||V.endsWith(p,"[]"))&&(x=V.toArray(v)))return p=AN(p),x.forEach(function(b,j){!(V.isUndefined(b)||b===null)&&t.append(o===!0?e0([p],j,i):o===null?p:p+"[]",d(b))}),!1}return Ep(v)?!0:(t.append(e0(w,p,i),d(v)),!1)}const f=[],h=Object.assign(cR,{defaultVisitor:u,convertValue:d,isVisitable:Ep});function g(v,p){if(!V.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(v),V.forEach(v,function(x,y){(!(V.isUndefined(x)||x===null)&&a.call(t,x,V.isString(y)?y.trim():y,p,h))===!0&&g(x,p?p.concat(y):[y])}),f.pop()}}if(!V.isObject(e))throw new TypeError("data must be an object");return g(e),t}function t0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function sg(e,t){this._pairs=[],e&&Im(e,this,t)}const IN=sg.prototype;IN.append=function(t,n){this._pairs.push([t,n])};IN.toString=function(t){const n=t?function(r){return t.call(this,r,t0)}:t0;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function dR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function FN(e,t,n){if(!t)return e;const r=n&&n.encode||dR;V.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=V.isURLSearchParams(t)?t.toString():new sg(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class n0{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){V.forEach(this.handlers,function(r){r!==null&&t(r)})}}const LN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uR=typeof URLSearchParams<"u"?URLSearchParams:sg,mR=typeof FormData<"u"?FormData:null,fR=typeof Blob<"u"?Blob:null,hR={isBrowser:!0,classes:{URLSearchParams:uR,FormData:mR,Blob:fR},protocols:["http","https","file","blob","url","data"]},ag=typeof window<"u"&&typeof document<"u",Pp=typeof navigator=="object"&&navigator||void 0,pR=ag&&(!Pp||["ReactNative","NativeScript","NS"].indexOf(Pp.product)<0),xR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gR=ag&&window.location.href||"http://localhost",yR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ag,hasStandardBrowserEnv:pR,hasStandardBrowserWebWorkerEnv:xR,navigator:Pp,origin:gR},Symbol.toStringTag,{value:"Module"})),tr={...yR,...hR};function vR(e,t){return Im(e,new tr.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return tr.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function bR(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function wR(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function $N(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&V.isArray(a)?a.length:o,c?(V.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!V.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&V.isArray(a[o])&&(a[o]=wR(a[o])),!l)}if(V.isFormData(e)&&V.isFunction(e.entries)){const n={};return V.forEachEntry(e,(r,a)=>{t(bR(r),a,n,0)}),n}return null}function jR(e,t,n){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const ed={transitional:LN,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=V.isObject(t);if(i&&V.isHTMLForm(t)&&(t=new FormData(t)),V.isFormData(t))return a?JSON.stringify($N(t)):t;if(V.isArrayBuffer(t)||V.isBuffer(t)||V.isStream(t)||V.isFile(t)||V.isBlob(t)||V.isReadableStream(t))return t;if(V.isArrayBufferView(t))return t.buffer;if(V.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vR(t,this.formSerializer).toString();if((l=V.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Im(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),jR(t)):t}],transformResponse:[function(t){const n=this.transitional||ed.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(V.isResponse(t)||V.isReadableStream(t))return t;if(t&&V.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?ut.from(l,ut.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tr.classes.FormData,Blob:tr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{ed.headers[e]={}});const NR=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SR=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&NR[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},r0=Symbol("internals");function Yl(e){return e&&String(e).trim().toLowerCase()}function su(e){return e===!1||e==null?e:V.isArray(e)?e.map(su):String(e)}function CR(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const kR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hf(e,t,n,r,a){if(V.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!V.isString(t)){if(V.isString(r))return t.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(t)}}function _R(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function DR(e,t){const n=V.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class Sr{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(l,c,d){const u=Yl(c);if(!u)throw new Error("header name must be a non-empty string");const f=V.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=su(l))}const o=(l,c)=>V.forEach(l,(d,u)=>i(d,u,c));if(V.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(V.isString(t)&&(t=t.trim())&&!kR(t))o(SR(t),n);else if(V.isObject(t)&&V.isIterable(t)){let l={},c,d;for(const u of t){if(!V.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?V.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Yl(t),t){const r=V.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return CR(a);if(V.isFunction(n))return n.call(this,a,r);if(V.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Yl(t),t){const r=V.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Hf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=Yl(o),o){const l=V.findKey(r,o);l&&(!n||Hf(r,r[l],l,n))&&(delete r[l],a=!0)}}return V.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||Hf(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return V.forEach(this,(a,i)=>{const o=V.findKey(r,i);if(o){n[o]=su(a),delete n[i];return}const l=t?_R(i):String(i).trim();l!==i&&delete n[i],n[l]=su(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return V.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[r0]=this[r0]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Yl(o);r[l]||(DR(a,o),r[l]=!0)}return V.isArray(t)?t.forEach(i):i(t),this}}Sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Sr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});V.freezeMethods(Sr);function Vf(e,t){const n=this||ed,r=t||n,a=Sr.from(r.headers);let i=r.data;return V.forEach(e,function(l){i=l.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function BN(e){return!!(e&&e.__CANCEL__)}function Dl(e,t,n){ut.call(this,e??"canceled",ut.ERR_CANCELED,t,n),this.name="CanceledError"}V.inherits(Dl,ut,{__CANCEL__:!0});function WN(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ut("Request failed with status code "+n.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ER(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function PR(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[i];o||(o=d),n[a]=c,r[a]=d;let f=i,h=0;for(;f!==a;)h+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const g=u&&d-u;return g?Math.round(h*1e3/g):void 0}}function TR(e,t){let n=0,r=1e3/t,a,i;const o=(d,u=Date.now())=>{n=u,a=null,i&&(clearTimeout(i),i=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),f=u-n;f>=r?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},r-f)))},()=>a&&o(a)]}const Vu=(e,t,n=3)=>{let r=0;const a=PR(50,250);return TR(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,d=a(c),u=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},s0=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},a0=e=>(...t)=>V.asap(()=>e(...t)),RR=tr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,tr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(tr.origin),tr.navigator&&/(msie|trident)/i.test(tr.navigator.userAgent)):()=>!0,MR=tr.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];V.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),V.isString(r)&&o.push("path="+r),V.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function AR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function YN(e,t,n){let r=!OR(t);return e&&(r||n==!1)?AR(e,t):t}const i0=e=>e instanceof Sr?{...e}:e;function Zi(e,t){t=t||{};const n={};function r(d,u,f,h){return V.isPlainObject(d)&&V.isPlainObject(u)?V.merge.call({caseless:h},d,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function a(d,u,f,h){if(V.isUndefined(u)){if(!V.isUndefined(d))return r(void 0,d,f,h)}else return r(d,u,f,h)}function i(d,u){if(!V.isUndefined(u))return r(void 0,u)}function o(d,u){if(V.isUndefined(u)){if(!V.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,f){if(f in t)return r(d,u);if(f in e)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>a(i0(d),i0(u),f,!0)};return V.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=c[u]||a,h=f(e[u],t[u],u);V.isUndefined(h)&&f!==l||(n[u]=h)}),n}const UN=e=>{const t=Zi({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=Sr.from(o),t.url=FN(YN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(V.isFormData(n)){if(tr.hasStandardBrowserEnv||tr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(tr.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(t)),r||r!==!1&&RR(t.url))){const d=a&&i&&MR.read(i);d&&o.set(a,d)}return t},IR=typeof XMLHttpRequest<"u",FR=IR&&function(e){return new Promise(function(n,r){const a=UN(e);let i=a.data;const o=Sr.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,f,h,g,v;function p(){g&&g(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function x(){if(!w)return;const b=Sr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:b,config:e,request:w};WN(function(C){n(C),p()},function(C){r(C),p()},N),w=null}"onloadend"in w?w.onloadend=x:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(x)},w.onabort=function(){w&&(r(new ut("Request aborted",ut.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new ut("Network Error",ut.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||LN;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),r(new ut(j,N.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&V.forEach(o.toJSON(),function(j,N){w.setRequestHeader(N,j)}),V.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),l&&l!=="json"&&(w.responseType=a.responseType),d&&([h,v]=Vu(d,!0),w.addEventListener("progress",h)),c&&w.upload&&([f,g]=Vu(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(u=b=>{w&&(r(!b||b.type?new Dl(null,e,w):b),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=ER(a.url);if(y&&tr.protocols.indexOf(y)===-1){r(new ut("Unsupported protocol "+y+":",ut.ERR_BAD_REQUEST,e));return}w.send(i||null)})},LR=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof ut?u:new Dl(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new ut(`timeout ${t} of ms exceeded`,ut.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>V.asap(l),c}},$R=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},BR=async function*(e,t){for await(const n of WR(e))yield*$R(n,t)},WR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},o0=(e,t,n,r)=>{const a=BR(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let f=u.byteLength;if(n){let h=i+=f;n(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Fm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zN=Fm&&typeof ReadableStream=="function",YR=Fm&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),HN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},UR=zN&&HN(()=>{let e=!1;const t=new Request(tr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),l0=64*1024,Tp=zN&&HN(()=>V.isReadableStream(new Response("").body)),qu={stream:Tp&&(e=>e.body)};Fm&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!qu[t]&&(qu[t]=V.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ut(`Response type '${t}' is not supported`,ut.ERR_NOT_SUPPORT,r)})})})(new Response);const zR=async e=>{if(e==null)return 0;if(V.isBlob(e))return e.size;if(V.isSpecCompliantForm(e))return(await new Request(tr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(V.isArrayBufferView(e)||V.isArrayBuffer(e))return e.byteLength;if(V.isURLSearchParams(e)&&(e=e+""),V.isString(e))return(await YR(e)).byteLength},HR=async(e,t)=>{const n=V.toFiniteNumber(e.getContentLength());return n??zR(t)},VR=Fm&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:f="same-origin",fetchOptions:h}=UN(e);d=d?(d+"").toLowerCase():"text";let g=LR([a,i&&i.toAbortSignal()],o),v;const p=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let w;try{if(c&&UR&&n!=="get"&&n!=="head"&&(w=await HR(u,r))!==0){let N=new Request(t,{method:"POST",body:r,duplex:"half"}),P;if(V.isFormData(r)&&(P=N.headers.get("content-type"))&&u.setContentType(P),N.body){const[C,S]=s0(w,Vu(a0(c)));r=o0(N.body,l0,C,S)}}V.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;v=new Request(t,{...h,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:x?f:void 0});let y=await fetch(v);const b=Tp&&(d==="stream"||d==="response");if(Tp&&(l||b&&p)){const N={};["status","statusText","headers"].forEach(O=>{N[O]=y[O]});const P=V.toFiniteNumber(y.headers.get("content-length")),[C,S]=l&&s0(P,Vu(a0(l),!0))||[];y=new Response(o0(y.body,l0,C,()=>{S&&S(),p&&p()}),N)}d=d||"text";let j=await qu[V.findKey(qu,d)||"text"](y,e);return!b&&p&&p(),await new Promise((N,P)=>{WN(N,P,{data:j,headers:Sr.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:v})})}catch(x){throw p&&p(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new ut("Network Error",ut.ERR_NETWORK,e,v),{cause:x.cause||x}):ut.from(x,x&&x.code,e,v)}}),Rp={http:oR,xhr:FR,fetch:VR};V.forEach(Rp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const c0=e=>`- ${e}`,qR=e=>V.isFunction(e)||e===null||e===!1,VN={getAdapter:e=>{e=V.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!qR(n)&&(r=Rp[(o=String(n)).toLowerCase()],r===void 0))throw new ut(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(c0).join(`
`):" "+c0(i[0]):"as no adapter specified";throw new ut("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Rp};function qf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dl(null,e)}function d0(e){return qf(e),e.headers=Sr.from(e.headers),e.data=Vf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),VN.getAdapter(e.adapter||ed.adapter)(e).then(function(r){return qf(e),r.data=Vf.call(e,e.transformResponse,r),r.headers=Sr.from(r.headers),r},function(r){return BN(r)||(qf(e),r&&r.response&&(r.response.data=Vf.call(e,e.transformResponse,r.response),r.response.headers=Sr.from(r.response.headers))),Promise.reject(r)})}const qN="1.9.0",Lm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Lm[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const u0={};Lm.transitional=function(t,n,r){function a(i,o){return"[Axios v"+qN+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new ut(a(o," has been removed"+(n?" in "+n:"")),ut.ERR_DEPRECATED);return n&&!u0[o]&&(u0[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Lm.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function QR(e,t,n){if(typeof e!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ut("option "+i+" must be "+c,ut.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ut("Unknown option "+i,ut.ERR_BAD_OPTION)}}const au={assertOptions:QR,validators:Lm},Cs=au.validators;class Yi{constructor(t){this.defaults=t||{},this.interceptors={request:new n0,response:new n0}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Zi(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&au.assertOptions(r,{silentJSONParsing:Cs.transitional(Cs.boolean),forcedJSONParsing:Cs.transitional(Cs.boolean),clarifyTimeoutError:Cs.transitional(Cs.boolean)},!1),a!=null&&(V.isFunction(a)?n.paramsSerializer={serialize:a}:au.assertOptions(a,{encode:Cs.function,serialize:Cs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),au.assertOptions(n,{baseUrl:Cs.spelling("baseURL"),withXsrfToken:Cs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&V.merge(i.common,i[n.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Sr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,f=0,h;if(!c){const v=[d0.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,d),h=v.length,u=Promise.resolve(n);f<h;)u=u.then(v[f++],v[f++]);return u}h=l.length;let g=n;for(f=0;f<h;){const v=l[f++],p=l[f++];try{g=v(g)}catch(w){p.call(this,w);break}}try{u=d0.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,h=d.length;f<h;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Zi(this.defaults,t);const n=YN(t.baseURL,t.url,t.allowAbsoluteUrls);return FN(n,t.params,t.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(t){Yi.prototype[t]=function(n,r){return this.request(Zi(r||{},{method:t,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(Zi(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Yi.prototype[t]=n(),Yi.prototype[t+"Form"]=n(!0)});class ig{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Dl(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ig(function(a){t=a}),cancel:t}}}function KR(e){return function(n){return e.apply(null,n)}}function GR(e){return V.isObject(e)&&e.isAxiosError===!0}const Mp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mp).forEach(([e,t])=>{Mp[t]=e});function QN(e){const t=new Yi(e),n=CN(Yi.prototype.request,t);return V.extend(n,Yi.prototype,t,{allOwnKeys:!0}),V.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return QN(Zi(e,a))},n}const Be=QN(ed);Be.Axios=Yi;Be.CanceledError=Dl;Be.CancelToken=ig;Be.isCancel=BN;Be.VERSION=qN;Be.toFormData=Im;Be.AxiosError=ut;Be.Cancel=Be.CanceledError;Be.all=function(t){return Promise.all(t)};Be.spread=KR;Be.isAxiosError=GR;Be.mergeConfig=Zi;Be.AxiosHeaders=Sr;Be.formToJSON=e=>$N(V.isHTMLForm(e)?new FormData(e):e);Be.getAdapter=VN.getAdapter;Be.HttpStatusCode=Mp;Be.default=Be;const Qf={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},oe=(Qf==null?void 0:Qf.VITE_API_BASE_URL)||"https://fastjet.pythonanywhere.com/api",ot={LOGIN:`${oe}/users/login/`,REGISTER:`${oe}/users/register/`,VERIFY_EMAIL:`${oe}/users/verify-email/`,RESEND_VERIFICATION:`${oe}/users/resend-verification/`,PASSWORD_RESET_REQUEST:`${oe}/users/password-reset/request/`,PASSWORD_RESET_CONFIRM:`${oe}/users/password-reset/confirm/`,LOGGED_IN_USER:`${oe}/users/me/`,CHECK_VERIFICATION:e=>`${oe}/users/check-verification/${e}/`,USER_DETAILS:`${oe}/users/details/`,GET_USERS:`${oe}/users/users/`,WALLET_DETAILS:`${oe}/wallets/details/`,TOP_UP_WALLET:(e,t)=>`${oe}/wallets/${e}/topup/${t}/`,GET_WALLET_BALANCES:`${oe}/wallets/balances/`,USER_WALLET:e=>`${oe}/wallets/${e}/wallet/`,BANCABC_INITIATE_PAYMENT:`${oe}/wallets/bancabc/initiate-payment/`,BANCABC_PAYMENT_STATUS:e=>`${oe}/wallets/bancabc/payment-status/${e}/`,INNBUCKS_GENERATE_CODE:`${oe}/wallets/innbucks/generate-code/`,INNBUCKS_CHECK_STATUS:`${oe}/wallets/innbucks/check-status/`,ECOCASH_INITIATE_PAYMENT:`${oe}/wallets/ecocash/initiate-payment/`,ECOCASH_REFUND_PAYMENT:`${oe}/wallets/ecocash/refund-payment/`,ECOCASH_TRANSACTION_STATUS:e=>`${oe}/wallets/ecocash/transaction-status/${e}/`,ECOCASH_TRANSACTIONS:`${oe}/wallets/ecocash/transactions/`,ECOCASH_TRANSACTION_HISTORY:`${oe}/wallets/ecocash/history/`,USER_APPROVAL:e=>`${oe}/users/users/${e}/approve-decline/`,VERIFY_ADMIN_OTP:`${oe}/users/admin/verify-otp/`,RESEND_ADMIN_OTP:`${oe}/users/admin/resend-otp/`,DESTINATIONS:`${oe}/destination/destinations/`,CREATE_DESTINATION:`${oe}/destinations/create/`,ROUTES:`${oe}/routes/`,ROUTES_SELECTION:`${oe}/routes-selection/`,BOOK_FLIGHT:`${oe}/booking/create-booking/`,SEARCH_FLIGHTS:`${oe}/booking/search-flights/`,USER_BOOKINGS:`${oe}/booking/bookings/`,GET_BOOKINGS:`${oe}/booking/bookings/`,LAYBUY_BOOKINGS:`${oe}/booking/laybuy-bookings/`,PAY_INSTALLMENT:`${oe}/booking/pay-installment/`,SEND_BOOKING_EMAILS:`${oe}/creditbooking/send-booking-emails/`,LOYALTY_POINTS:`${oe}/loyalty/points/`,LOYALTY_TRANSACTIONS:`${oe}/loyalty/transactions/`,LOYALTY_REDEMPTIONS:`${oe}/loyalty/redemptions/`,LOYALTY_ADMIN_REDEMPTIONS:`${oe}/loyalty/admin/redemptions/`,CREDIT_BOOKINGS:`${oe}/creditbooking/credit-bookings/`,CREDIT_DOCUMENT_TYPES:`${oe}/creditbooking/document-types/`,TEMP_DOCUMENTS:`${oe}/creditbooking/temp-documents/`},KN=6048e5,XR=864e5,$m=6e4,Bm=36e5,JR=1e3,m0=Symbol.for("constructDateFrom");function Yt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&m0 in e?e[m0](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ae(e,t){return Yt(t||e,e)}function xs(e,t,n){const r=Ae(e,n==null?void 0:n.in);return isNaN(t)?Yt((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ys(e,t,n){const r=Ae(e,n==null?void 0:n.in);if(isNaN(t))return Yt(e,NaN);if(!t)return r;const a=r.getDate(),i=Yt(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function GN(e,t,n){return Yt(e,+Ae(e)+t)}function ZR(e,t,n){return GN(e,t*Bm)}let eM={};function ho(){return eM}function xa(e,t){var l,c,d,u;const n=ho(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ae(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ml(e,t){return xa(e,{...t,weekStartsOn:1})}function XN(e,t){const n=Ae(e,t==null?void 0:t.in),r=n.getFullYear(),a=Yt(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=ml(a),o=Yt(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=ml(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Qu(e){const t=Ae(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function wa(e,...t){const n=Yt.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function eo(e,t){const n=Ae(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function fl(e,t,n){const[r,a]=wa(n==null?void 0:n.in,e,t),i=eo(r),o=eo(a),l=+i-Qu(i),c=+o-Qu(o);return Math.round((l-c)/XR)}function tM(e,t){const n=XN(e,t),r=Yt(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ml(r)}function Op(e,t,n){const r=Ae(e,n==null?void 0:n.in);return r.setTime(r.getTime()+t*$m),r}function og(e,t,n){return ys(e,t*3,n)}function nM(e,t,n){return GN(e,t*1e3)}function Ku(e,t,n){return xs(e,t*7,n)}function ia(e,t,n){return ys(e,t*12,n)}function f0(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Yt.bind(null,a));const i=Ae(a,r);(!n||n<i||isNaN(+i))&&(n=i)}),Yt(r,n||NaN)}function h0(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Yt.bind(null,a));const i=Ae(a,r);(!n||n>i||isNaN(+i))&&(n=i)}),Yt(r,n||NaN)}function rM(e,t,n){const[r,a]=wa(n==null?void 0:n.in,e,t);return+eo(r)==+eo(a)}function oa(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Gu(e){return!(!oa(e)&&typeof e!="number"||isNaN(+Ae(e)))}function Xu(e,t,n){const[r,a]=wa(n==null?void 0:n.in,e,t),i=r.getFullYear()-a.getFullYear(),o=r.getMonth()-a.getMonth();return i*12+o}function Ui(e,t){const n=Ae(e,t==null?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function Ju(e,t,n){const[r,a]=wa(n==null?void 0:n.in,e,t),i=r.getFullYear()-a.getFullYear(),o=Ui(r)-Ui(a);return i*4+o}function Zu(e,t,n){const[r,a]=wa(n==null?void 0:n.in,e,t);return r.getFullYear()-a.getFullYear()}function sM(e,t,n){const[r,a]=wa(n==null?void 0:n.in,e,t),i=p0(r,a),o=Math.abs(fl(r,a));r.setDate(r.getDate()-i*o);const l=+(p0(r,a)===-i),c=i*(o-l);return c===0?0:c}function p0(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function JN(e,t){const n=Ae(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function ZN(e,t){const n=Ae(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Ap(e,t){const n=Ae(e,t==null?void 0:t.in),r=n.getMonth(),a=r-r%3;return n.setMonth(a,1),n.setHours(0,0,0,0),n}function e1(e,t){const n=Ae(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function t1(e,t){const n=Ae(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Wm(e,t){const n=Ae(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function aM(e,t){var l,c;const n=ho(),r=n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=Ae(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const iM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oM=(e,t,n)=>{let r;const a=iM[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Kf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const lM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uM={date:Kf({formats:lM,defaultWidth:"full"}),time:Kf({formats:cM,defaultWidth:"full"}),dateTime:Kf({formats:dM,defaultWidth:"full"})},mM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fM=(e,t,n,r)=>mM[e];function Ul(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const hM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bM=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wM={ordinalNumber:bM,era:Ul({values:hM,defaultWidth:"wide"}),quarter:Ul({values:pM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ul({values:xM,defaultWidth:"wide"}),day:Ul({values:gM,defaultWidth:"wide"}),dayPeriod:Ul({values:yM,defaultWidth:"wide",formattingValues:vM,defaultFormattingWidth:"wide"})};function zl(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?NM(l,f=>f.test(o)):jM(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function jM(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function NM(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function SM(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const CM=/^(\d+)(th|st|nd|rd)?/i,kM=/\d+/i,_M={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DM={any:[/^b/i,/^(a|c)/i]},EM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PM={any:[/1/i,/2/i,/3/i,/4/i]},TM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FM={ordinalNumber:SM({matchPattern:CM,parsePattern:kM,valueCallback:e=>parseInt(e,10)}),era:zl({matchPatterns:_M,defaultMatchWidth:"wide",parsePatterns:DM,defaultParseWidth:"any"}),quarter:zl({matchPatterns:EM,defaultMatchWidth:"wide",parsePatterns:PM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zl({matchPatterns:TM,defaultMatchWidth:"wide",parsePatterns:RM,defaultParseWidth:"any"}),day:zl({matchPatterns:MM,defaultMatchWidth:"wide",parsePatterns:OM,defaultParseWidth:"any"}),dayPeriod:zl({matchPatterns:AM,defaultMatchWidth:"any",parsePatterns:IM,defaultParseWidth:"any"})},n1={code:"en-US",formatDistance:oM,formatLong:uM,formatRelative:fM,localize:wM,match:FM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LM(e,t){const n=Ae(e,t==null?void 0:t.in);return fl(n,Wm(n))+1}function lg(e,t){const n=Ae(e,t==null?void 0:t.in),r=+ml(n)-+tM(n);return Math.round(r/KN)+1}function cg(e,t){var u,f,h,g;const n=Ae(e,t==null?void 0:t.in),r=n.getFullYear(),a=ho(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(h=a.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=Yt((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=xa(o,t),c=Yt((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=xa(c,t);return+n>=+l?r+1:+n>=+d?r:r-1}function $M(e,t){var l,c,d,u;const n=ho(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=cg(e,t),i=Yt((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),xa(i,t)}function r1(e,t){const n=Ae(e,t==null?void 0:t.in),r=+xa(n,t)-+$M(n,t);return Math.round(r/KN)+1}function $t(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ea={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return $t(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):$t(n+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return $t(a,t.length)}},go={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},x0={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ea.y(e,t)},Y:function(e,t,n,r){const a=cg(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return $t(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):$t(i,t.length)},R:function(e,t){const n=XN(e);return $t(n,t.length)},u:function(e,t){const n=e.getFullYear();return $t(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ea.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=r1(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):$t(a,t.length)},I:function(e,t,n){const r=lg(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ea.d(e,t)},D:function(e,t,n){const r=LM(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return $t(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return $t(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return $t(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=go.noon:r===0?a=go.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=go.evening:r>=12?a=go.afternoon:r>=4?a=go.morning:a=go.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ea.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ea.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ea.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ea.s(e,t)},S:function(e,t){return Ea.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return y0(r);case"XXXX":case"XX":return Ei(r);case"XXXXX":case"XXX":default:return Ei(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return y0(r);case"xxxx":case"xx":return Ei(r);case"xxxxx":case"xxx":default:return Ei(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+g0(r,":");case"OOOO":default:return"GMT"+Ei(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+g0(r,":");case"zzzz":default:return"GMT"+Ei(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return $t(r,t.length)},T:function(e,t,n){return $t(+e,t.length)}};function g0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+$t(i,2)}function y0(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):Ei(e,t)}function Ei(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=$t(Math.trunc(r/60),2),i=$t(r%60,2);return n+a+t+i}const v0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},s1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},BM=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return v0(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",v0(r,t)).replace("{{time}}",s1(a,t))},Ip={p:s1,P:BM},WM=/^D+$/,YM=/^Y+$/,UM=["D","DD","YY","YYYY"];function zM(e){return WM.test(e)}function HM(e){return YM.test(e)}function VM(e,t,n){const r=qM(e,t,n);if(console.warn(r),UM.includes(e))throw new RangeError(r)}function qM(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GM=/^'([^]*?)'?$/,XM=/''/g,JM=/[a-zA-Z]/;function b0(e,t,n){var u,f,h,g,v,p,w,x;const r=ho(),a=(n==null?void 0:n.locale)??r.locale??n1,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((x=(w=r.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,l=Ae(e,n==null?void 0:n.in);if(!Gu(l))throw new RangeError("Invalid time value");let c=t.match(KM).map(y=>{const b=y[0];if(b==="p"||b==="P"){const j=Ip[b];return j(y,a.formatLong)}return y}).join("").match(QM).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:ZM(y)};if(x0[b])return{isToken:!0,value:y};if(b.match(JM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&HM(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&zM(b))&&VM(b,t,String(e));const j=x0[b[0]];return j(l,b,a.localize,d)}).join("")}function ZM(e){const t=e.match(GM);return t?t[1].replace(XM,"'"):e}function w0(e,t){return Ae(e,t==null?void 0:t.in).getDate()}function e4(e,t){return Ae(e,t==null?void 0:t.in).getDay()}function t4(e,t){const n=Ae(e,t==null?void 0:t.in),r=n.getFullYear(),a=n.getMonth(),i=Yt(n,0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function n4(){return Object.assign({},ho())}function la(e,t){return Ae(e,t==null?void 0:t.in).getHours()}function r4(e,t){const n=Ae(e,t==null?void 0:t.in).getDay();return n===0?7:n}function ca(e,t){return Ae(e,t==null?void 0:t.in).getMinutes()}function nr(e,t){return Ae(e,t==null?void 0:t.in).getMonth()}function ni(e){return Ae(e).getSeconds()}function Fp(e){return+Ae(e)}function xt(e,t){return Ae(e,t==null?void 0:t.in).getFullYear()}function mi(e,t){return+Ae(e)>+Ae(t)}function to(e,t){return+Ae(e)<+Ae(t)}function s4(e,t){return+Ae(e)==+Ae(t)}function a4(e,t){const n=i4(t)?new t(0):Yt(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function i4(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const o4=10;class a1{constructor(){_e(this,"subPriority",0)}validate(t,n){return!0}}class l4 extends a1{constructor(t,n,r,a,i){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=a,i&&(this.subPriority=i)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class c4 extends a1{constructor(n,r){super();_e(this,"priority",o4);_e(this,"subPriority",-1);this.context=n||(a=>Yt(r,a))}set(n,r){return r.timestampIsSet?n:Yt(n,a4(n,this.context))}}class Rt{run(t,n,r,a){const i=this.parse(t,n,r,a);return i?{setter:new l4(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,n,r){return!0}}class d4 extends Rt{constructor(){super(...arguments);_e(this,"priority",140);_e(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,r,a){return r.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const _n={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ms={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Dn(e,t){return e&&{value:t(e.value),rest:e.rest}}function dn(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Os(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*Bm+i*$m+o*JR),rest:t.slice(n[0].length)}}function i1(e){return dn(_n.anyDigitsSigned,e)}function bn(e,t){switch(e){case 1:return dn(_n.singleDigit,t);case 2:return dn(_n.twoDigits,t);case 3:return dn(_n.threeDigits,t);case 4:return dn(_n.fourDigits,t);default:return dn(new RegExp("^\\d{1,"+e+"}"),t)}}function em(e,t){switch(e){case 1:return dn(_n.singleDigitSigned,t);case 2:return dn(_n.twoDigitsSigned,t);case 3:return dn(_n.threeDigitsSigned,t);case 4:return dn(_n.fourDigitsSigned,t);default:return dn(new RegExp("^-?\\d{1,"+e+"}"),t)}}function dg(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function o1(e,t){const n=t>0,r=n?t:1-t;let a;if(r<=50)a=e||100;else{const i=r+50,o=Math.trunc(i/100)*100,l=e>=i%100;a=e+o-(l?100:0)}return n?a:1-a}function l1(e){return e%400===0||e%4===0&&e%100!==0}class u4 extends Rt{constructor(){super(...arguments);_e(this,"priority",130);_e(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,a){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Dn(bn(4,n),i);case"yo":return Dn(a.ordinalNumber(n,{unit:"year"}),i);default:return Dn(bn(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a){const i=n.getFullYear();if(a.isTwoDigitYear){const l=o1(a.year,i);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class m4 extends Rt{constructor(){super(...arguments);_e(this,"priority",130);_e(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,a){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Dn(bn(4,n),i);case"Yo":return Dn(a.ordinalNumber(n,{unit:"year"}),i);default:return Dn(bn(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,a,i){const o=cg(n,i);if(a.isTwoDigitYear){const c=o1(a.year,o);return n.setFullYear(c,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),xa(n,i)}const l=!("era"in r)||r.era===1?a.year:1-a.year;return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),xa(n,i)}}class f4 extends Rt{constructor(){super(...arguments);_e(this,"priority",130);_e(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return em(r==="R"?4:r.length,n)}set(n,r,a){const i=Yt(n,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),ml(i)}}class h4 extends Rt{constructor(){super(...arguments);_e(this,"priority",130);_e(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return em(r==="u"?4:r.length,n)}set(n,r,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class p4 extends Rt{constructor(){super(...arguments);_e(this,"priority",120);_e(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"Q":case"QQ":return bn(r.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class x4 extends Rt{constructor(){super(...arguments);_e(this,"priority",120);_e(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"q":case"qq":return bn(r.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class g4 extends Rt{constructor(){super(...arguments);_e(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);_e(this,"priority",110)}parse(n,r,a){const i=o=>o-1;switch(r){case"M":return Dn(dn(_n.month,n),i);case"MM":return Dn(bn(2,n),i);case"Mo":return Dn(a.ordinalNumber(n,{unit:"month"}),i);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class y4 extends Rt{constructor(){super(...arguments);_e(this,"priority",110);_e(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,a){const i=o=>o-1;switch(r){case"L":return Dn(dn(_n.month,n),i);case"LL":return Dn(bn(2,n),i);case"Lo":return Dn(a.ordinalNumber(n,{unit:"month"}),i);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function v4(e,t,n){const r=Ae(e,n==null?void 0:n.in),a=r1(r,n)-t;return r.setDate(r.getDate()-a*7),Ae(r,n==null?void 0:n.in)}class b4 extends Rt{constructor(){super(...arguments);_e(this,"priority",100);_e(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,a){switch(r){case"w":return dn(_n.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return bn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a,i){return xa(v4(n,a,i),i)}}function w4(e,t,n){const r=Ae(e,n==null?void 0:n.in),a=lg(r,n)-t;return r.setDate(r.getDate()-a*7),r}class j4 extends Rt{constructor(){super(...arguments);_e(this,"priority",100);_e(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,a){switch(r){case"I":return dn(_n.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return bn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,a){return ml(w4(n,a))}}const N4=[31,28,31,30,31,30,31,31,30,31,30,31],S4=[31,29,31,30,31,30,31,31,30,31,30,31];class C4 extends Rt{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"subPriority",1);_e(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"d":return dn(_n.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return bn(r.length,n)}}validate(n,r){const a=n.getFullYear(),i=l1(a),o=n.getMonth();return i?r>=1&&r<=S4[o]:r>=1&&r<=N4[o]}set(n,r,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class k4 extends Rt{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"subpriority",1);_e(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,a){switch(r){case"D":case"DD":return dn(_n.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return bn(r.length,n)}}validate(n,r){const a=n.getFullYear();return l1(a)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function ug(e,t,n){var f,h,g,v;const r=ho(),a=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,i=Ae(e,n==null?void 0:n.in),o=i.getDay(),c=(t%7+7)%7,d=7-a,u=t<0||t>6?t-(o+d)%7:(c+d)%7-(o+d)%7;return xs(i,u,n)}class _4 extends Rt{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=ug(n,a,i),n.setHours(0,0,0,0),n}}class D4 extends Rt{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return Dn(bn(r.length,n),o);case"eo":return Dn(a.ordinalNumber(n,{unit:"day"}),o);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=ug(n,a,i),n.setHours(0,0,0,0),n}}class E4 extends Rt{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return Dn(bn(r.length,n),o);case"co":return Dn(a.ordinalNumber(n,{unit:"day"}),o);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,a,i){return n=ug(n,a,i),n.setHours(0,0,0,0),n}}function P4(e,t,n){const r=Ae(e,n==null?void 0:n.in),a=r4(r,n),i=t-a;return xs(r,i,n)}class T4 extends Rt{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,a){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return bn(r.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return Dn(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Dn(a.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Dn(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Dn(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,a){return n=P4(n,a),n.setHours(0,0,0,0),n}}class R4 extends Rt{constructor(){super(...arguments);_e(this,"priority",80);_e(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(dg(a),0,0,0),n}}class M4 extends Rt{constructor(){super(...arguments);_e(this,"priority",80);_e(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(dg(a),0,0,0),n}}class O4 extends Rt{constructor(){super(...arguments);_e(this,"priority",80);_e(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,a){return n.setHours(dg(a),0,0,0),n}}class A4 extends Rt{constructor(){super(...arguments);_e(this,"priority",70);_e(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,a){switch(r){case"h":return dn(_n.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return bn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,a){const i=n.getHours()>=12;return i&&a<12?n.setHours(a+12,0,0,0):!i&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class I4 extends Rt{constructor(){super(...arguments);_e(this,"priority",70);_e(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,a){switch(r){case"H":return dn(_n.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return bn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,a){return n.setHours(a,0,0,0),n}}class F4 extends Rt{constructor(){super(...arguments);_e(this,"priority",70);_e(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,a){switch(r){case"K":return dn(_n.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return bn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class L4 extends Rt{constructor(){super(...arguments);_e(this,"priority",70);_e(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,a){switch(r){case"k":return dn(_n.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return bn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,a){const i=a<=24?a%24:a;return n.setHours(i,0,0,0),n}}class $4 extends Rt{constructor(){super(...arguments);_e(this,"priority",60);_e(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"m":return dn(_n.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return bn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setMinutes(a,0,0),n}}class B4 extends Rt{constructor(){super(...arguments);_e(this,"priority",50);_e(this,"incompatibleTokens",["t","T"])}parse(n,r,a){switch(r){case"s":return dn(_n.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return bn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,a){return n.setSeconds(a,0),n}}class W4 extends Rt{constructor(){super(...arguments);_e(this,"priority",30);_e(this,"incompatibleTokens",["t","T"])}parse(n,r){const a=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Dn(bn(r.length,n),a)}set(n,r,a){return n.setMilliseconds(a),n}}class Y4 extends Rt{constructor(){super(...arguments);_e(this,"priority",10);_e(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Os(Ms.basicOptionalMinutes,n);case"XX":return Os(Ms.basic,n);case"XXXX":return Os(Ms.basicOptionalSeconds,n);case"XXXXX":return Os(Ms.extendedOptionalSeconds,n);case"XXX":default:return Os(Ms.extended,n)}}set(n,r,a){return r.timestampIsSet?n:Yt(n,n.getTime()-Qu(n)-a)}}class U4 extends Rt{constructor(){super(...arguments);_e(this,"priority",10);_e(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Os(Ms.basicOptionalMinutes,n);case"xx":return Os(Ms.basic,n);case"xxxx":return Os(Ms.basicOptionalSeconds,n);case"xxxxx":return Os(Ms.extendedOptionalSeconds,n);case"xxx":default:return Os(Ms.extended,n)}}set(n,r,a){return r.timestampIsSet?n:Yt(n,n.getTime()-Qu(n)-a)}}class z4 extends Rt{constructor(){super(...arguments);_e(this,"priority",40);_e(this,"incompatibleTokens","*")}parse(n){return i1(n)}set(n,r,a){return[Yt(n,a*1e3),{timestampIsSet:!0}]}}class H4 extends Rt{constructor(){super(...arguments);_e(this,"priority",20);_e(this,"incompatibleTokens","*")}parse(n){return i1(n)}set(n,r,a){return[Yt(n,a),{timestampIsSet:!0}]}}const V4={G:new d4,y:new u4,Y:new m4,R:new f4,u:new h4,Q:new p4,q:new x4,M:new g4,L:new y4,w:new b4,I:new j4,d:new C4,D:new k4,E:new _4,e:new D4,c:new E4,i:new T4,a:new R4,b:new M4,B:new O4,h:new A4,H:new I4,K:new F4,k:new L4,m:new $4,s:new B4,S:new W4,X:new Y4,x:new U4,t:new z4,T:new H4},q4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,K4=/^'([^]*?)'?$/,G4=/''/g,X4=/\S/,J4=/[a-zA-Z]/;function Z4(e,t,n,r){var w,x,y,b,j,N,P,C;const a=()=>Yt((r==null?void 0:r.in)||n,NaN),i=n4(),o=(r==null?void 0:r.locale)??i.locale??n1,l=(r==null?void 0:r.firstWeekContainsDate)??((x=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:x.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(y=i.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((N=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:N.weekStartsOn)??i.weekStartsOn??((C=(P=i.locale)==null?void 0:P.options)==null?void 0:C.weekStartsOn)??0;if(!t)return e?a():Ae(n,r==null?void 0:r.in);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},u=[new c4(r==null?void 0:r.in,n)],f=t.match(Q4).map(S=>{const O=S[0];if(O in Ip){const k=Ip[O];return k(S,o.formatLong)}return S}).join("").match(q4),h=[];for(let S of f){const O=S[0],k=V4[O];if(k){const{incompatibleTokens:F}=k;if(Array.isArray(F)){const ee=h.find(re=>F.includes(re.token)||re.token===O);if(ee)throw new RangeError(`The format string mustn't contain \`${ee.fullToken}\` and \`${S}\` at the same time`)}else if(k.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);h.push({token:O,fullToken:S});const B=k.run(e,S,o.match,d);if(!B)return a();u.push(B.setter),e=B.rest}else{if(O.match(J4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");if(S==="''"?S="'":O==="'"&&(S=eO(S)),e.indexOf(S)===0)e=e.slice(S.length);else return a()}}if(e.length>0&&X4.test(e))return a();const g=u.map(S=>S.priority).sort((S,O)=>O-S).filter((S,O,k)=>k.indexOf(S)===O).map(S=>u.filter(O=>O.priority===S).sort((O,k)=>k.subPriority-O.subPriority)).map(S=>S[0]);let v=Ae(n,r==null?void 0:r.in);if(isNaN(+v))return a();const p={};for(const S of g){if(!S.validate(v,d))return a();const O=S.set(v,p,d);Array.isArray(O)?(v=O[0],Object.assign(p,O[1])):v=O}return v}function eO(e){return e.match(K4)[1].replace(G4,"'")}function tO(e,t,n){const[r,a]=wa(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function nO(e,t,n){const[r,a]=wa(n==null?void 0:n.in,e,t);return+Ap(r)==+Ap(a)}function rO(e,t,n){const[r,a]=wa(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()}function $c(e,t,n){const r=+Ae(e,n==null?void 0:n.in),[a,i]=[+Ae(t.start,n==null?void 0:n.in),+Ae(t.end,n==null?void 0:n.in)].sort((o,l)=>o-l);return r>=a&&r<=i}function sO(e,t,n){return xs(e,-t,n)}function aO(e,t){const n=()=>Yt(t==null?void 0:t.in,NaN),a=cO(e);let i;if(a.date){const d=dO(a.date,2);i=uO(d.restDateString,d.year)}if(!i||isNaN(+i))return n();const o=+i;let l=0,c;if(a.time&&(l=mO(a.time),isNaN(l)))return n();if(a.timezone){if(c=fO(a.timezone),isNaN(c))return n()}else{const d=new Date(o+l),u=Ae(0,t==null?void 0:t.in);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return Ae(o+l+c,t==null?void 0:t.in)}const Rd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},iO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,oO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,lO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cO(e){const t={},n=e.split(Rd.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Rd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Rd.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Rd.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function dO(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function uO(e,t){if(t===null)return new Date(NaN);const n=e.match(iO);if(!n)return new Date(NaN);const r=!!n[4],a=Hl(n[1]),i=Hl(n[2])-1,o=Hl(n[3]),l=Hl(n[4]),c=Hl(n[5])-1;if(r)return yO(t,l,c)?hO(t,l,c):new Date(NaN);{const d=new Date(0);return!xO(t,i,o)||!gO(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,o)),d)}}function Hl(e){return e?parseInt(e):1}function mO(e){const t=e.match(oO);if(!t)return NaN;const n=Gf(t[1]),r=Gf(t[2]),a=Gf(t[3]);return vO(n,r,a)?n*Bm+r*$m+a*1e3:NaN}function Gf(e){return e&&parseFloat(e.replace(",","."))||0}function fO(e){if(e==="Z")return 0;const t=e.match(lO);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return bO(r,a)?n*(r*Bm+a*$m):NaN}function hO(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const pO=[31,null,31,30,31,30,31,31,30,31,30,31];function c1(e){return e%400===0||e%4===0&&e%100!==0}function xO(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(pO[t]||(c1(e)?29:28))}function gO(e,t){return t>=1&&t<=(c1(e)?366:365)}function yO(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function vO(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function bO(e,t){return t>=0&&t<=59}function Hr(e,t,n){const r=Ae(e,n==null?void 0:n.in),a=r.getFullYear(),i=r.getDate(),o=Yt(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const l=t4(o);return r.setMonth(t,Math.min(i,l)),r}function iu(e,t,n){const r=Ae(e,n==null?void 0:n.in);return r.setHours(t),r}function ou(e,t,n){const r=Ae(e,n==null?void 0:n.in);return r.setMinutes(t),r}function jo(e,t,n){const r=Ae(e,n==null?void 0:n.in),a=Math.trunc(r.getMonth()/3)+1,i=t-a;return Hr(r,r.getMonth()+i*3)}function lu(e,t,n){const r=Ae(e,n==null?void 0:n.in);return r.setSeconds(t),r}function _s(e,t,n){const r=Ae(e,n==null?void 0:n.in);return isNaN(+r)?Yt(e,NaN):(r.setFullYear(t),r)}function zi(e,t,n){return ys(e,-t,n)}function d1(e,t,n){return og(e,-t,n)}function j0(e,t,n){return Ku(e,-t,n)}function hl(e,t,n){return ia(e,-t,n)}function Ym(){return typeof window<"u"}function El(e){return u1(e)?(e.nodeName||"").toLowerCase():"#document"}function Or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hs(e){var t;return(t=(u1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function u1(e){return Ym()?e instanceof Node||e instanceof Or(e).Node:!1}function dr(e){return Ym()?e instanceof Element||e instanceof Or(e).Element:!1}function Ws(e){return Ym()?e instanceof HTMLElement||e instanceof Or(e).HTMLElement:!1}function N0(e){return!Ym()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Or(e).ShadowRoot}function td(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Zr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function wO(e){return["table","td","th"].includes(El(e))}function Um(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function mg(e){const t=fg(),n=dr(e)?Zr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function jO(e){let t=fi(e);for(;Ws(t)&&!pl(t);){if(mg(t))return t;if(Um(t))return null;t=fi(t)}return null}function fg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pl(e){return["html","body","#document"].includes(El(e))}function Zr(e){return Or(e).getComputedStyle(e)}function zm(e){return dr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fi(e){if(El(e)==="html")return e;const t=e.assignedSlot||e.parentNode||N0(e)&&e.host||Hs(e);return N0(t)?t.host:t}function m1(e){const t=fi(e);return pl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ws(t)&&td(t)?t:m1(t)}function Bc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=m1(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Or(a);if(i){const l=Lp(o);return t.concat(o,o.visualViewport||[],td(a)?a:[],l&&n?Bc(l):[])}return t.concat(a,Bc(a,[],n))}function Lp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const NO=["top","right","bottom","left"],hi=Math.min,Pr=Math.max,tm=Math.round,Md=Math.floor,pi=e=>({x:e,y:e}),SO={left:"right",right:"left",bottom:"top",top:"bottom"},CO={start:"end",end:"start"};function $p(e,t,n){return Pr(e,hi(t,n))}function ga(e,t){return typeof e=="function"?e(t):e}function ya(e){return e.split("-")[0]}function Pl(e){return e.split("-")[1]}function hg(e){return e==="x"?"y":"x"}function pg(e){return e==="y"?"height":"width"}function xi(e){return["top","bottom"].includes(ya(e))?"y":"x"}function xg(e){return hg(xi(e))}function kO(e,t,n){n===void 0&&(n=!1);const r=Pl(e),a=xg(e),i=pg(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=nm(o)),[o,nm(o)]}function _O(e){const t=nm(e);return[Bp(e),t,Bp(t)]}function Bp(e){return e.replace(/start|end/g,t=>CO[t])}function DO(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function EO(e,t,n,r){const a=Pl(e);let i=DO(ya(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Bp)))),i}function nm(e){return e.replace(/left|right|bottom|top/g,t=>SO[t])}function PO(e){return{top:0,right:0,bottom:0,left:0,...e}}function f1(e){return typeof e!="number"?PO(e):{top:e,right:e,bottom:e,left:e}}function rm(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}var sm=typeof document<"u"?m.useLayoutEffect:m.useEffect;const TO={...fm},RO=TO.useInsertionEffect,MO=RO||(e=>e());function OO(e){const t=m.useRef(()=>{});return MO(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function S0(e,t,n){let{reference:r,floating:a}=e;const i=xi(t),o=xg(t),l=pg(o),c=ya(t),d=i==="y",u=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[l]/2-a[l]/2;let g;switch(c){case"top":g={x:u,y:r.y-a.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-a.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Pl(t)){case"start":g[o]-=h*(n&&d?-1:1);break;case"end":g[o]+=h*(n&&d?-1:1);break}return g}const AO=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=S0(d,r,c),h=r,g={},v=0;for(let p=0;p<l.length;p++){const{name:w,fn:x}=l[p],{x:y,y:b,data:j,reset:N}=await x({x:u,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:g,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=b??f,g={...g,[w]:{...g[w],...j}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:f}=S0(d,h,c)),p=-1)}return{x:u,y:f,placement:h,strategy:a,middlewareData:g}};async function Wc(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=ga(t,e),v=f1(g),w=l[h?f==="floating"?"reference":"floating":f],x=rm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=rm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(x.top-N.top+v.top)/j.y,bottom:(N.bottom-x.bottom+v.bottom)/j.y,left:(x.left-N.left+v.left)/j.x,right:(N.right-x.right+v.right)/j.x}}const IO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ga(e,t)||{};if(d==null)return{};const f=f1(u),h={x:n,y:r},g=xg(a),v=pg(g),p=await o.getDimensions(d),w=g==="y",x=w?"top":"left",y=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=i.reference[v]+i.reference[g]-h[g]-i.floating[v],N=h[g]-i.reference[g],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=P?P[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(P)))&&(C=l.floating[b]||i.floating[v]);const S=j/2-N/2,O=C/2-p[v]/2-1,k=hi(f[x],O),F=hi(f[y],O),B=k,ee=C-p[v]-F,re=C/2-p[v]/2+S,J=$p(B,re,ee),q=!c.arrow&&Pl(a)!=null&&re!==J&&i.reference[v]/2-(re<B?k:F)-p[v]/2<0,D=q?re<B?re-B:re-ee:0;return{[g]:h[g]+D,data:{[g]:J,centerOffset:re-J-D,...q&&{alignmentOffset:D}},reset:q}}}),FO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...w}=ga(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=ya(a),y=xi(l),b=ya(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=h||(b||!p?[nm(l)]:_O(l)),P=v!=="none";!h&&P&&N.push(...EO(l,p,v,j));const C=[l,...N],S=await Wc(t,w),O=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&O.push(S[x]),f){const re=kO(a,o,j);O.push(S[re[0]],S[re[1]])}if(k=[...k,{placement:a,overflows:O}],!O.every(re=>re<=0)){var F,B;const re=(((F=i.flip)==null?void 0:F.index)||0)+1,J=C[re];if(J)return{data:{index:re,overflows:k},reset:{placement:J}};let q=(B=k.filter(D=>D.overflows[0]<=0).sort((D,_)=>D.overflows[1]-_.overflows[1])[0])==null?void 0:B.placement;if(!q)switch(g){case"bestFit":{var ee;const D=(ee=k.filter(_=>{if(P){const T=xi(_.placement);return T===y||T==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(T=>T>0).reduce((T,L)=>T+L,0)]).sort((_,T)=>_[1]-T[1])[0])==null?void 0:ee[0];D&&(q=D);break}case"initialPlacement":q=l;break}if(a!==q)return{reset:{placement:q}}}return{}}}};function C0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function k0(e){return NO.some(t=>e[t]>=0)}const LO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=ga(e,t);switch(r){case"referenceHidden":{const i=await Wc(t,{...a,elementContext:"reference"}),o=C0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:k0(o)}}}case"escaped":{const i=await Wc(t,{...a,altBoundary:!0}),o=C0(i,n.floating);return{data:{escapedOffsets:o,escaped:k0(o)}}}default:return{}}}}};async function $O(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=ya(n),l=Pl(n),c=xi(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=ga(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*u,y:h*d}:{x:h*d,y:g*u}}const BO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await $O(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},WO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x,y}=w;return{x,y}}},...c}=ga(e,t),d={x:n,y:r},u=await Wc(t,c),f=xi(ya(a)),h=hg(f);let g=d[h],v=d[f];if(i){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=g+u[w],b=g-u[x];g=$p(y,g,b)}if(o){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=v+u[w],b=v-u[x];v=$p(y,v,b)}const p=l.fn({...t,[h]:g,[f]:v});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:i,[f]:o}}}}}},YO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ga(e,t),u={x:n,y:r},f=xi(a),h=hg(f);let g=u[h],v=u[f];const p=ga(l,t),w=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",j=i.reference[h]-i.floating[b]+w.mainAxis,N=i.reference[h]+i.reference[b]-w.mainAxis;g<j?g=j:g>N&&(g=N)}if(d){var x,y;const b=h==="y"?"width":"height",j=["top","left"].includes(ya(a)),N=i.reference[f]-i.floating[b]+(j&&((x=o.offset)==null?void 0:x[f])||0)+(j?0:w.crossAxis),P=i.reference[f]+i.reference[b]+(j?0:((y=o.offset)==null?void 0:y[f])||0)-(j?w.crossAxis:0);v<N?v=N:v>P&&(v=P)}return{[h]:g,[f]:v}}}},UO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ga(e,t),u=await Wc(t,d),f=ya(a),h=Pl(a),g=xi(a)==="y",{width:v,height:p}=i.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,w=h==="end"?"top":"bottom");const y=p-u.top-u.bottom,b=v-u.left-u.right,j=hi(p-u[w],y),N=hi(v-u[x],b),P=!t.middlewareData.shift;let C=j,S=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=y),P&&!h){const k=Pr(u.left,0),F=Pr(u.right,0),B=Pr(u.top,0),ee=Pr(u.bottom,0);g?S=v-2*(k!==0||F!==0?k+F:Pr(u.left,u.right)):C=p-2*(B!==0||ee!==0?B+ee:Pr(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:C});const O=await o.getDimensions(l.floating);return v!==O.width||p!==O.height?{reset:{rects:!0}}:{}}}};function h1(e){const t=Zr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ws(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=tm(n)!==i||tm(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function gg(e){return dr(e)?e:e.contextElement}function Ho(e){const t=gg(e);if(!Ws(t))return pi(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=h1(t);let o=(i?tm(n.width):n.width)/r,l=(i?tm(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zO=pi(0);function p1(e){const t=Or(e);return!fg()||!t.visualViewport?zO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function HO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Or(e)?!1:t}function no(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=gg(e);let o=pi(1);t&&(r?dr(r)&&(o=Ho(r)):o=Ho(e));const l=HO(i,n,r)?p1(i):pi(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const h=Or(i),g=r&&dr(r)?Or(r):r;let v=h,p=Lp(v);for(;p&&r&&g!==v;){const w=Ho(p),x=p.getBoundingClientRect(),y=Zr(p),b=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*w.x,j=x.top+(p.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,f*=w.y,c+=b,d+=j,v=Or(p),p=Lp(v)}}return rm({width:u,height:f,x:c,y:d})}function VO(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=Hs(r),l=t?Um(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=pi(1);const u=pi(0),f=Ws(r);if((f||!f&&!i)&&((El(r)!=="body"||td(o))&&(c=zm(r)),Ws(r))){const h=no(r);d=Ho(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x,y:n.y*d.y-c.scrollTop*d.y+u.y}}function qO(e){return Array.from(e.getClientRects())}function Wp(e,t){const n=zm(e).scrollLeft;return t?t.left+n:no(Hs(e)).left+n}function QO(e){const t=Hs(e),n=zm(e),r=e.ownerDocument.body,a=Pr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Pr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Wp(e);const l=-n.scrollTop;return Zr(r).direction==="rtl"&&(o+=Pr(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function KO(e,t){const n=Or(e),r=Hs(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=fg();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function GO(e,t){const n=no(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Ws(e)?Ho(e):pi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function _0(e,t,n){let r;if(t==="viewport")r=KO(e,n);else if(t==="document")r=QO(Hs(e));else if(dr(t))r=GO(t,n);else{const a=p1(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return rm(r)}function x1(e,t){const n=fi(e);return n===t||!dr(n)||pl(n)?!1:Zr(n).position==="fixed"||x1(n,t)}function XO(e,t){const n=t.get(e);if(n)return n;let r=Bc(e,[],!1).filter(l=>dr(l)&&El(l)!=="body"),a=null;const i=Zr(e).position==="fixed";let o=i?fi(e):e;for(;dr(o)&&!pl(o);){const l=Zr(o),c=mg(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||td(o)&&!c&&x1(e,o))?r=r.filter(u=>u!==o):a=l,o=fi(o)}return t.set(e,r),r}function JO(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?Um(t)?[]:XO(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const f=_0(t,u,a);return d.top=Pr(f.top,d.top),d.right=hi(f.right,d.right),d.bottom=hi(f.bottom,d.bottom),d.left=Pr(f.left,d.left),d},_0(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZO(e){const{width:t,height:n}=h1(e);return{width:t,height:n}}function eA(e,t,n){const r=Ws(t),a=Hs(t),i=n==="fixed",o=no(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=pi(0);if(r||!r&&!i)if((El(t)!=="body"||td(a))&&(l=zm(t)),r){const g=no(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else a&&(c.x=Wp(a));let d=0,u=0;if(a&&!r&&!i){const g=a.getBoundingClientRect();u=g.top+l.scrollTop,d=g.left+l.scrollLeft-Wp(a,g)}const f=o.left+l.scrollLeft-c.x-d,h=o.top+l.scrollTop-c.y-u;return{x:f,y:h,width:o.width,height:o.height}}function Xf(e){return Zr(e).position==="static"}function D0(e,t){if(!Ws(e)||Zr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Hs(e)===n&&(n=n.ownerDocument.body),n}function g1(e,t){const n=Or(e);if(Um(e))return n;if(!Ws(e)){let a=fi(e);for(;a&&!pl(a);){if(dr(a)&&!Xf(a))return a;a=fi(a)}return n}let r=D0(e,t);for(;r&&wO(r)&&Xf(r);)r=D0(r,t);return r&&pl(r)&&Xf(r)&&!mg(r)?n:r||jO(e)||n}const tA=async function(e){const t=this.getOffsetParent||g1,n=this.getDimensions,r=await n(e.floating);return{reference:eA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nA(e){return Zr(e).direction==="rtl"}const rA={convertOffsetParentRelativeRectToViewportRelativeRect:VO,getDocumentElement:Hs,getClippingRect:JO,getOffsetParent:g1,getElementRects:tA,getClientRects:qO,getDimensions:ZO,getScale:Ho,isElement:dr,isRTL:nA};function sA(e,t){let n=null,r;const a=Hs(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const g=Md(u),v=Md(a.clientWidth-(d+f)),p=Md(a.clientHeight-(u+h)),w=Md(d),y={rootMargin:-g+"px "+-v+"px "+-p+"px "+-w+"px",threshold:Pr(0,hi(1,c))||1};let b=!0;function j(N){const P=N[0].intersectionRatio;if(P!==c){if(!b)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(j,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(j,y)}n.observe(e)}return o(!0),i}function y1(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=gg(e),u=a||i?[...d?Bc(d):[],...Bc(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=d&&l?sA(d,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(x=>{let[y]=x;y&&y.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),d&&!c&&g.observe(d),g.observe(t));let v,p=c?no(e):null;c&&w();function w(){const x=no(e);p&&(x.x!==p.x||x.y!==p.y||x.width!==p.width||x.height!==p.height)&&n(),p=x,v=requestAnimationFrame(w)}return n(),()=>{var x;u.forEach(y=>{a&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const aA=BO,iA=WO,oA=FO,lA=UO,cA=LO,E0=IO,dA=YO,uA=(e,t,n)=>{const r=new Map,a={platform:rA,...n},i={...a.platform,_c:r};return AO(e,t,{...a,platform:i})};var cu=typeof document<"u"?m.useLayoutEffect:m.useEffect;function am(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!am(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!am(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function v1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function P0(e,t){const n=v1(e);return Math.round(t*n)/n}function Jf(e){const t=m.useRef(e);return cu(()=>{t.current=e}),t}function b1(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(r);am(h,r)||g(r);const[v,p]=m.useState(null),[w,x]=m.useState(null),y=m.useCallback(_=>{_!==P.current&&(P.current=_,p(_))},[]),b=m.useCallback(_=>{_!==C.current&&(C.current=_,x(_))},[]),j=i||v,N=o||w,P=m.useRef(null),C=m.useRef(null),S=m.useRef(u),O=c!=null,k=Jf(c),F=Jf(a),B=Jf(d),ee=m.useCallback(()=>{if(!P.current||!C.current)return;const _={placement:t,strategy:n,middleware:h};F.current&&(_.platform=F.current),uA(P.current,C.current,_).then(T=>{const L={...T,isPositioned:B.current!==!1};re.current&&!am(S.current,L)&&(S.current=L,Sl.flushSync(()=>{f(L)}))})},[h,t,n,F,B]);cu(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(_=>({..._,isPositioned:!1})))},[d]);const re=m.useRef(!1);cu(()=>(re.current=!0,()=>{re.current=!1}),[]),cu(()=>{if(j&&(P.current=j),N&&(C.current=N),j&&N){if(k.current)return k.current(j,N,ee);ee()}},[j,N,ee,k,O]);const J=m.useMemo(()=>({reference:P,floating:C,setReference:y,setFloating:b}),[y,b]),q=m.useMemo(()=>({reference:j,floating:N}),[j,N]),D=m.useMemo(()=>{const _={position:n,left:0,top:0};if(!q.floating)return _;const T=P0(q.floating,u.x),L=P0(q.floating,u.y);return l?{..._,transform:"translate("+T+"px, "+L+"px)",...v1(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:L}},[n,l,q.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:ee,refs:J,elements:q,floatingStyles:D}),[u,ee,J,q,D])}const mA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?E0({element:r.current,padding:a}).fn(n):{}:r?E0({element:r,padding:a}).fn(n):{}}}},w1=(e,t)=>({...aA(e),options:[e,t]}),fA=(e,t)=>({...iA(e),options:[e,t]}),hA=(e,t)=>({...dA(e),options:[e,t]}),j1=(e,t)=>({...oA(e),options:[e,t]}),pA=(e,t)=>({...lA(e),options:[e,t]}),xA=(e,t)=>({...cA(e),options:[e,t]}),N1=(e,t)=>({...mA(e),options:[e,t]}),gA={...fm};let T0=!1,yA=0;const R0=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+yA++;function vA(){const[e,t]=m.useState(()=>T0?R0():void 0);return sm(()=>{e==null&&t(R0())},[]),m.useEffect(()=>{T0=!0},[]),e}const bA=gA.useId,S1=bA||vA,wA=m.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:i,shift:o}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:u=0,staticOffset:f,stroke:h,d:g,style:{transform:v,...p}={},...w}=t,x=S1(),[y,b]=m.useState(!1);if(sm(()=>{if(!a)return;Zr(a).direction==="rtl"&&b(!0)},[a]),!a)return null;const[j,N]=r.split("-"),P=j==="top"||j==="bottom";let C=f;(P&&o!=null&&o.x||!P&&o!=null&&o.y)&&(C=null);const S=u*2,O=S/2,k=l/2*(d/-8+1),F=c/2*d/4,B=!!g,ee=C&&N==="end"?"bottom":"top";let re=C&&N==="end"?"right":"left";C&&y&&(re=N==="end"?"left":"right");const J=(i==null?void 0:i.x)!=null?C||i.x:"",q=(i==null?void 0:i.y)!=null?C||i.y:"",D=g||"M0,0"+(" H"+l)+(" L"+(l-k)+","+(c-F))+(" Q"+l/2+","+c+" "+k+","+(c-F))+" Z",_={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[j];return s.jsxs("svg",{...w,"aria-hidden":!0,ref:n,width:B?l:l+S,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[re]:J,[ee]:q,[j]:P||B?"100%":"calc(100% - "+S/2+"px)",transform:[_,v].filter(T=>!!T).join(" "),...p},children:[S>0&&s.jsx("path",{clipPath:"url(#"+x+")",fill:"none",stroke:h,strokeWidth:S+(g?0:1),d:D}),s.jsx("path",{stroke:S&&!g?w.fill:"none",d:D}),s.jsx("clipPath",{id:x,children:s.jsx("rect",{x:-O,y:O*(B?-1:1),width:l+S,height:l})})]})});function jA(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(a=>a(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const NA=m.createContext(null),SA=m.createContext(null),CA=()=>{var e;return((e=m.useContext(NA))==null?void 0:e.id)||null},kA=()=>m.useContext(SA);function _A(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=S1(),i=m.useRef({}),[o]=m.useState(()=>jA()),l=CA()!=null,[c,d]=m.useState(r.reference),u=OO((g,v,p)=>{i.current.openEvent=g?v:void 0,o.emit("openchange",{open:g,event:v,reason:p,nested:l}),n==null||n(g,v,p)}),f=m.useMemo(()=>({setPositionReference:d}),[]),h=m.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return m.useMemo(()=>({dataRef:i,open:t,onOpenChange:u,elements:h,events:o,floatingId:a,refs:f}),[t,u,h,o,a,f])}function DA(e){e===void 0&&(e={});const{nodeId:t}=e,n=_A({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[i,o]=m.useState(null),[l,c]=m.useState(null),u=(a==null?void 0:a.domReference)||i,f=m.useRef(null),h=kA();sm(()=>{u&&(f.current=u)},[u]);const g=b1({...e,elements:{...a,...l&&{reference:l}}}),v=m.useCallback(b=>{const j=dr(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),getClientRects:()=>b.getClientRects(),contextElement:b}:b;c(j),g.refs.setReference(j)},[g.refs]),p=m.useCallback(b=>{(dr(b)||b===null)&&(f.current=b,o(b)),(dr(g.refs.reference.current)||g.refs.reference.current===null||b!==null&&!dr(b))&&g.refs.setReference(b)},[g.refs]),w=m.useMemo(()=>({...g.refs,setReference:p,setPositionReference:v,domReference:f}),[g.refs,p,v]),x=m.useMemo(()=>({...g.elements,domReference:u}),[g.elements,u]),y=m.useMemo(()=>({...g,...r,refs:w,elements:x,nodeId:t}),[g,w,x,t,r]);return sm(()=>{r.dataRef.current.floatingContext=y;const b=h==null?void 0:h.nodesRef.current.find(j=>j.id===t);b&&(b.context=y)}),m.useMemo(()=>({...g,context:y,refs:w,elements:x}),[g,w,x,y])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Yp=function(t,n){return Yp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},Yp(t,n)};function Wn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var _t=function(){return _t=Object.assign||function(n){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},_t.apply(this,arguments)};function Fs(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var EA=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,a=r===void 0?!1:r,i=e.className,o=e.children,l=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return A.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},PA=function(e,t){var n=m.useRef(null),r=m.useRef(e);r.current=e;var a=m.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;n.current&&!n.current.contains(l)&&(t&&l instanceof HTMLElement&&l.classList.contains(t)||(o=r.current)===null||o===void 0||o.call(r,i))},[t]);return m.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},Hm=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,i=e.style,o=e.ignoreClass,l=PA(n,o);return A.createElement("div",{className:r,style:i,ref:function(c){l.current=c,a&&(a.current=c)}},t)},we;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(we||(we={}));function C1(){var e=typeof window<"u"?window:globalThis;return e}var nd=12;function Ft(e){if(e==null)return new Date;var t=typeof e=="string"?aO(e):Ae(e);return Vm(t)?t:new Date}function Zf(e,t,n,r,a){a===void 0&&(a=Ft());for(var i=xl(n)||xl(yg()),o=Array.isArray(t)?t:[t],l=0,c=o;l<c.length;l++){var d=c[l],u=Z4(e,d,a,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(Vm(u)&&(!r||e===on(u,d,n)))return u}return null}function Vm(e,t){return Gu(e)&&!to(e,new Date("1/1/1800"))}function on(e,t,n){if(n==="en")return b0(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?xl(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||xl(yg()),b0(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function zr(e,t){var n=t.dateFormat,r=t.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return e&&on(e,a,r)||""}var k1=" - ";function TA(e,t,n){if(!e)return"";var r=zr(e,n),a=t?zr(t,n):"";return"".concat(r).concat(k1).concat(a)}function RA(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?zr(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=zr(e[1],t);return"".concat(n,", ").concat(r)}var a=e.length-1;return"".concat(n," (+").concat(a,")")}function eh(e,t){var n=t.hour,r=n===void 0?0:n,a=t.minute,i=a===void 0?0:a,o=t.second,l=o===void 0?0:o;return iu(ou(lu(e,l),i),r)}function MA(e){return lg(e)}function OA(e,t){return on(e,"ddd",t)}function du(e){return eo(e)}function ri(e,t,n){var r=xl(t||yg());return xa(e,{locale:r,weekStartsOn:n})}function da(e){return e1(e)}function tc(e){return Wm(e)}function M0(e){return Ap(e)}function O0(){return eo(Ft())}function A0(e){return JN(e)}function AA(e){return aM(e)}function IA(e){return ZN(e)}function Ts(e,t){return e&&t?rO(e,t):!e&&!t}function or(e,t){return e&&t?tO(e,t):!e&&!t}function im(e,t){return e&&t?nO(e,t):!e&&!t}function kt(e,t){return e&&t?rM(e,t):!e&&!t}function Ai(e,t){return e&&t?s4(e,t):!e&&!t}function nc(e,t,n){var r,a=eo(t),i=JN(n);try{r=$c(e,{start:a,end:i})}catch{r=!1}return r}function yg(){var e=C1();return e.__localeId__}function xl(e){if(typeof e=="string"){var t=C1();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function FA(e,t,n){return t(on(e,"EEEE",n))}function LA(e,t){return on(e,"EEEEEE",t)}function $A(e,t){return on(e,"EEE",t)}function vg(e,t){return on(Hr(Ft(),e),"LLLL",t)}function _1(e,t){return on(Hr(Ft(),e),"LLL",t)}function BA(e,t){return on(jo(Ft(),e),"QQQ",t)}function Qr(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,o=n.excludeDateIntervals,l=n.includeDates,c=n.includeDateIntervals,d=n.filterDate;return rd(e,{minDate:r,maxDate:a})||i&&i.some(function(u){return u instanceof Date?kt(e,u):kt(e,u.date)})||o&&o.some(function(u){var f=u.start,h=u.end;return $c(e,{start:f,end:h})})||l&&!l.some(function(u){return kt(e,u)})||c&&!c.some(function(u){var f=u.start,h=u.end;return $c(e,{start:f,end:h})})||d&&!d(Ft(e))||!1}function bg(e,t){var n=t===void 0?{}:t,r=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(i){var o=i.start,l=i.end;return $c(e,{start:o,end:l})}):r&&r.some(function(i){var o;return i instanceof Date?kt(e,i):kt(e,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function D1(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,o=n.includeDates,l=n.filterDate;return rd(e,{minDate:r?e1(r):void 0,maxDate:a?ZN(a):void 0})||(i==null?void 0:i.some(function(c){return or(e,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return or(e,c)})||l&&!l(Ft(e))||!1}function Od(e,t,n,r){var a=xt(e),i=nr(e),o=xt(t),l=nr(t),c=xt(r);return a===o&&a===c?i<=n&&n<=l:a<o?c===a&&i<=n||c===o&&l>=n||c<o&&c>a:!1}function WA(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,o=n.includeDates;return rd(e,{minDate:r,maxDate:a})||i&&i.some(function(l){return or(l instanceof Date?l:l.date,e)})||o&&!o.some(function(l){return or(l,e)})||!1}function Ad(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,o=n.includeDates,l=n.filterDate;return rd(e,{minDate:r,maxDate:a})||(i==null?void 0:i.some(function(c){return im(e,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return im(e,c)})||l&&!l(Ft(e))||!1}function Id(e,t,n){if(!t||!n||!Gu(t)||!Gu(n))return!1;var r=xt(t),a=xt(n);return r<=e&&a>=e}function uu(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.maxDate,i=n.excludeDates,o=n.includeDates,l=n.filterDate,c=new Date(e,0,1);return rd(c,{minDate:r?Wm(r):void 0,maxDate:a?t1(a):void 0})||(i==null?void 0:i.some(function(d){return Ts(c,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return Ts(c,d)})||l&&!l(Ft(c))||!1}function Fd(e,t,n,r){var a=xt(e),i=Ui(e),o=xt(t),l=Ui(t),c=xt(r);return a===o&&a===c?i<=n&&n<=l:a<o?c===a&&i<=n||c===o&&l>=n||c<o&&c>a:!1}function rd(e,t){var n,r=t===void 0?{}:t,a=r.minDate,i=r.maxDate;return(n=a&&fl(e,a)<0||i&&fl(e,i)>0)!==null&&n!==void 0?n:!1}function I0(e,t){return t.some(function(n){return la(n)===la(e)&&ca(n)===ca(e)&&ni(n)===ni(e)})}function F0(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,a=n.includeTimes,i=n.filterTime;return r&&I0(e,r)||a&&!I0(e,a)||i&&!i(e)||!1}function L0(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a=Ft();a=iu(a,la(e)),a=ou(a,ca(e)),a=lu(a,ni(e));var i=Ft();i=iu(i,la(n)),i=ou(i,ca(n)),i=lu(i,ni(n));var o=Ft();o=iu(o,la(r)),o=ou(o,ca(r)),o=lu(o,ni(r));var l;try{l=!$c(a,{start:i,end:o})}catch{l=!1}return l}function $0(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,i=zi(e,1);return r&&Xu(r,i)>0||a&&a.every(function(o){return Xu(o,i)>0})||!1}function B0(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,i=ys(e,1);return r&&Xu(i,r)>0||a&&a.every(function(o){return Xu(i,o)>0})||!1}function YA(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,i=Wm(e),o=d1(i,1);return r&&Ju(r,o)>0||a&&a.every(function(l){return Ju(l,o)>0})||!1}function UA(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,i=t1(e),o=og(i,1);return r&&Ju(o,r)>0||a&&a.every(function(l){return Ju(o,l)>0})||!1}function W0(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.includeDates,i=hl(e,1);return r&&Zu(r,i)>0||a&&a.every(function(o){return Zu(o,i)>0})||!1}function zA(e,t){var n=t===void 0?{}:t,r=n.minDate,a=n.yearItemNumber,i=a===void 0?nd:a,o=tc(hl(e,i)),l=Va(o,i).endPeriod,c=r&&xt(r);return c&&c>l||!1}function Y0(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.includeDates,i=ia(e,1);return r&&Zu(i,r)>0||a&&a.every(function(o){return Zu(i,o)>0})||!1}function HA(e,t){var n=t===void 0?{}:t,r=n.maxDate,a=n.yearItemNumber,i=a===void 0?nd:a,o=ia(e,i),l=Va(o,i).startPeriod,c=r&&xt(r);return c&&c<l||!1}function E1(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return fl(a,t)>=0});return h0(r)}else return n?h0(n):t}function P1(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(a){return fl(a,t)<=0});return f0(r)}else return n?f0(n):t}function U0(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,a=0,i=e.length;a<i;a++){var o=e[a];if(oa(o)){var l=on(o,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(t)||(c.push(t),r.set(l,c))}else if(typeof o=="object"){var d=Object.keys(o),u=(n=d[0])!==null&&n!==void 0?n:"",f=o[u];if(typeof u=="string"&&Array.isArray(f))for(var h=0,g=f.length;h<g;h++){var v=f[h];if(v){var l=on(v,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(u)||(c.push(u),r.set(l,c))}}}}return r}function VA(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function qA(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var a=r.date,i=r.holidayName;if(oa(a)){var o=on(a,"MM.dd.yyyy"),l=n.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===t&&VA(l.holidayNames,[i]))){l.className=t;var c=l.holidayNames;l.holidayNames=c?Fs(Fs([],c,!0),[i],!1):[i],n.set(o,l)}}}),n}function QA(e,t,n,r,a){for(var i=a.length,o=[],l=0;l<i;l++){var c=e,d=a[l];d&&(c=ZR(c,la(d)),c=Op(c,ca(d)),c=nM(c,ni(d)));var u=Op(e,(n+1)*r);mi(c,t)&&to(c,u)&&d!=null&&o.push(d)}return o}function z0(e){return e<10?"0".concat(e):"".concat(e)}function Va(e,t){t===void 0&&(t=nd);var n=Math.ceil(xt(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function KA(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function H0(e){var t=e.getSeconds(),n=e.getMilliseconds();return Ae(e.getTime()-t*1e3-n)}function GA(e,t){return H0(e).getTime()===H0(t).getTime()}function V0(e){if(!oa(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function q0(e,t){if(!oa(e)||!oa(t))throw new Error("Invalid date received");var n=V0(e),r=V0(t);return to(n,r)}function T1(e){return e.key===we.Space}var XA=function(e){Wn(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=A.createRef(),r.onTimeChange=function(a){var i,o;r.setState({time:a});var l=r.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(a!=null&&a.includes(":")){var u=a.split(":"),f=u[0],h=u[1];d.setHours(Number(f)),d.setMinutes(Number(h))}(o=(i=r.props).onChange)===null||o===void 0||o.call(i,d)},r.renderTimeInput=function(){var a=r.state.time,i=r.props,o=i.date,l=i.timeString,c=i.customTimeInput;return c?m.cloneElement(c,{date:o,value:a,onChange:r.onTimeChange}):A.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:a,onChange:function(d){r.onTimeChange(d.target.value||l)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return A.createElement("div",{className:"react-datepicker__input-time-container"},A.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),A.createElement("div",{className:"react-datepicker-time__input-container"},A.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(m.Component),JA=function(e){Wn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=m.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var a,i,o=r.key;o===we.Space&&(r.preventDefault(),r.key=we.Enter),(i=(a=n.props).handleOnKeyDown)===null||i===void 0||i.call(a,r)},n.isSameDay=function(r){return kt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),i=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!i},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Qr(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return bg(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return kt(n.props.day,ri(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&kt(r,ri(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,a=r.day,i=r.highlightDates;if(!i)return!1;var o=on(a,"MM.dd.yyyy");return i.get(o)},n.getHolidaysClass=function(){var r,a=n.props,i=a.day,o=a.holidays;if(!o)return[void 0];var l=on(i,"MM.dd.yyyy");return o.has(l)?[(r=o.get(l))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,a=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:nc(a,i,o)},n.isInSelectingRange=function(){var r,a=n.props,i=a.day,o=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,d=a.selectsDisabledDaysInRange,u=a.startDate,f=a.endDate,h=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||l||c)||!h||!d&&n.isDisabled()?!1:o&&f&&(to(h,f)||Ai(h,f))?nc(i,h,f):l&&u&&(mi(h,u)||Ai(h,u))||c&&u&&!f&&(mi(h,u)||Ai(h,u))?nc(i,u,h):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,i=a.day,o=a.startDate,l=a.selectsStart,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?kt(i,c):kt(i,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var a=n.props,i=a.day,o=a.endDate,l=a.selectsEnd,c=a.selectsRange,d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||c?kt(i,d):kt(i,o)},n.isRangeStart=function(){var r=n.props,a=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:kt(i,a)},n.isRangeEnd=function(){var r=n.props,a=r.day,i=r.startDate,o=r.endDate;return!i||!o?!1:kt(o,a)},n.isWeekend=function(){var r=e4(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===nr(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(nr(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ft())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var a=n.props.dayClassName?n.props.dayClassName(r):void 0;return In("react-datepicker__day",a,"react-datepicker__day--"+OA(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,a=r.day,i=r.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=r.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=n.isDisabled()||n.isExcluded()?c:o;return"".concat(d," ").concat(on(a,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,a=r.day,i=r.holidays,o=i===void 0?new Map:i,l=r.excludeDates,c=on(a,"MM.dd.yyyy"),d=[];return o.has(c)&&d.push.apply(d,o.get(c).holidayNames),n.isExcluded()&&d.push(l==null?void 0:l.filter(function(u){return u instanceof Date?kt(u,a):kt(u==null?void 0:u.date,a)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),d.join(", ")},n.getTabIndex=function(){var r=n.props.selected,a=n.props.preSelection,i=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&kt(a,r))?0:-1;return i},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(w0(n.props.day),n.props.day):w0(n.props.day)},n.render=function(){return A.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&A.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,a;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(m.Component),ZA=function(e){Wn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=m.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var a,i,o=r.key;o===we.Space&&(r.preventDefault(),r.key=we.Enter),(i=(a=n.props).handleOnKeyDown)===null||i===void 0||i.call(a,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!kt(n.props.date,n.props.selected)&&kt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||kt(n.props.date,n.props.selected)&&kt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var a=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&kt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,a=n.isWeekDisabled,i=n.ariaLabelPrefix,o=i===void 0?t.defaultProps.ariaLabelPrefix:i,l=n.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!a,"react-datepicker__week-number--selected":!!l&&kt(this.props.date,this.props.selected)};return A.createElement("div",{ref:this.weekNumberEl,className:In(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(m.Component),eI=function(e){Wn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Qr(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,a){n.props.onDayClick&&n.props.onDayClick(r,a)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,a,i){for(var o,l,c,d=new Date(r),u=0;u<7;u++){var f=new Date(r);f.setDate(f.getDate()+u);var h=!n.isDisabled(f);if(h){d=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(d,a,i),n.props.showWeekPicker&&n.handleDayClick(d,i),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):MA(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),a=xs(r,6),i=new Date(r);i<=a;){if(!n.isDisabled(i))return!1;i=xs(i,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),a=[],i=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,i):void 0;a.push(A.createElement(ZA,_t({key:"W"},t.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return a.concat([0,1,2,3,4,5,6].map(function(l){var c=xs(r,l);return A.createElement(JA,_t({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:n.handleDayClick.bind(n,c),onMouseEnter:n.handleDayMouseEnter.bind(n,c)}))}))},n.startOfWeek=function(){return ri(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!kt(n.startOfWeek(),n.props.selected)&&kt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":kt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return A.createElement("div",{className:In(n)},this.renderDays())},t}(m.Component),Vl,tI=6,Vo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},th=(Vl={},Vl[Vo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Vl[Vo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Vl[Vo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Vl),Ld=1;function Q0(e,t){return e?Vo.FOUR_COLUMNS:t?Vo.TWO_COLUMNS:Vo.THREE_COLUMNS}var nI=function(e){Wn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=Fs([],Array(12),!0).map(function(){return m.createRef()}),n.QUARTER_REFS=Fs([],Array(4),!0).map(function(){return m.createRef()}),n.isDisabled=function(r){return Qr(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return bg(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,a){var i,o;(o=(i=n.props).onDayClick)===null||o===void 0||o.call(i,r,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var a,i;(i=(a=n.props).onDayMouseEnter)===null||i===void 0||i.call(a,r)},n.handleMouseLeave=function(){var r,a;(a=(r=n.props).onMouseLeave)===null||a===void 0||a.call(r)},n.isRangeStartMonth=function(r){var a=n.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:or(Hr(i,r),o)},n.isRangeStartQuarter=function(r){var a=n.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:im(jo(i,r),o)},n.isRangeEndMonth=function(r){var a=n.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:or(Hr(i,r),l)},n.isRangeEndQuarter=function(r){var a=n.props,i=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:im(jo(i,r),l)},n.isInSelectingRangeMonth=function(r){var a,i=n.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,u=i.startDate,f=i.endDate,h=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(l||c||d)||!h?!1:l&&f?Od(h,f,r,o):c&&u||d&&u&&!f?Od(u,h,r,o):!1},n.isSelectingMonthRangeStart=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,o=i.day,l=i.startDate,c=i.selectsStart,d=Hr(o,r),u=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return c?or(d,u):or(d,l)},n.isSelectingMonthRangeEnd=function(r){var a;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,u=Hr(o,r),f=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return c||d?or(u,f):or(u,l)},n.isInSelectingRangeQuarter=function(r){var a,i=n.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,u=i.startDate,f=i.endDate,h=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(l||c||d)||!h?!1:l&&f?Fd(h,f,r,o):c&&u||d&&u&&!f?Fd(u,h,r,o):!1},n.isWeekInMonth=function(r){var a=n.props.day,i=xs(r,6);return or(r,a)||or(i,a)},n.isCurrentMonth=function(r,a){return xt(r)===xt(Ft())&&a===nr(Ft())},n.isCurrentQuarter=function(r,a){return xt(r)===xt(Ft())&&a===Ui(Ft())},n.isSelectedMonth=function(r,a,i){return nr(i)===a&&xt(r)===xt(i)},n.isSelectMonthInList=function(r,a,i){return i.some(function(o){return n.isSelectedMonth(r,a,o)})},n.isSelectedQuarter=function(r,a,i){return Ui(r)===a&&xt(r)===xt(i)},n.isMonthSelected=function(){var r=n.props,a=r.day,i=r.selected,o=r.selectedDates,l=r.selectsMultiple,c=nr(a);return l?o==null?void 0:o.some(function(d){return n.isSelectedMonth(a,c,d)}):!!i&&n.isSelectedMonth(a,c,i)},n.renderWeeks=function(){for(var r=[],a=n.props.fixedHeight,i=0,o=!1,l=ri(da(n.props.day),n.props.locale,n.props.calendarStartDay),c=function(v){return n.props.showWeekPicker?ri(v,n.props.locale,n.props.calendarStartDay):n.props.preSelection},d=function(v){return n.props.showWeekPicker?ri(v,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?d(n.props.selected):void 0,f=n.props.preSelection?c(n.props.preSelection):void 0;r.push(A.createElement(eI,_t({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:i,day:l,month:nr(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!o;){i++,l=Ku(l,1);var h=a&&i>=tI,g=!a&&!n.isWeekInMonth(l);if(h||g)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,a){var i=n.isMonthDisabledForLabelDate(a),o=i.isDisabled,l=i.labelDate;o||n.handleDayClick(da(l),r)},n.onMonthMouseEnter=function(r){var a=n.isMonthDisabledForLabelDate(r),i=a.isDisabled,o=a.labelDate;i||n.handleDayMouseEnter(da(o))},n.handleMonthNavigation=function(r,a){var i,o,l,c;(o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,a),(c=(l=n.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},n.handleKeyboardNavigation=function(r,a,i){var o,l=n.props,c=l.selected,d=l.preSelection,u=l.setPreSelection,f=l.minDate,h=l.maxDate,g=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(d){var p=Q0(g,v),w=n.getVerticalOffset(p),x=(o=th[p])===null||o===void 0?void 0:o.grid,y=function(C,S,O){var k,F,B=S,ee=O;switch(C){case we.ArrowRight:B=ys(S,Ld),ee=O===11?0:O+Ld;break;case we.ArrowLeft:B=zi(S,Ld),ee=O===0?11:O-Ld;break;case we.ArrowUp:B=zi(S,w),ee=!((k=x==null?void 0:x[0])===null||k===void 0)&&k.includes(O)?O+12-w:O-w;break;case we.ArrowDown:B=ys(S,w),ee=!((F=x==null?void 0:x[x.length-1])===null||F===void 0)&&F.includes(O)?O-12+w:O+w;break}return{newCalculatedDate:B,newCalculatedMonth:ee}},b=function(C,S,O){for(var k=40,F=C,B=!1,ee=0,re=y(F,S,O),J=re.newCalculatedDate,q=re.newCalculatedMonth;!B;){if(ee>=k){J=S,q=O;break}if(f&&J<f){F=we.ArrowRight;var D=y(F,J,q);J=D.newCalculatedDate,q=D.newCalculatedMonth}if(h&&J>h){F=we.ArrowLeft;var D=y(F,J,q);J=D.newCalculatedDate,q=D.newCalculatedMonth}if(WA(J,n.props)){var D=y(F,J,q);J=D.newCalculatedDate,q=D.newCalculatedMonth}else B=!0;ee++}return{newCalculatedDate:J,newCalculatedMonth:q}};if(a===we.Enter){n.isMonthDisabled(i)||(n.onMonthClick(r,i),u==null||u(c));return}var j=b(a,d,i),N=j.newCalculatedDate,P=j.newCalculatedMonth;switch(a){case we.ArrowRight:case we.ArrowLeft:case we.ArrowUp:case we.ArrowDown:n.handleMonthNavigation(P,N);break}}},n.getVerticalOffset=function(r){var a,i;return(i=(a=th[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&i!==void 0?i:0},n.onMonthKeyDown=function(r,a){var i=n.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,c=r.key;c!==we.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,c,a),l&&l(r)},n.onQuarterClick=function(r,a){var i=jo(n.props.day,a);Ad(i,n.props)||n.handleDayClick(M0(i),r)},n.onQuarterMouseEnter=function(r){var a=jo(n.props.day,r);Ad(a,n.props)||n.handleDayMouseEnter(M0(a))},n.handleQuarterNavigation=function(r,a){var i,o,l,c;n.isDisabled(a)||n.isExcluded(a)||((o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,a),(c=(l=n.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},n.onQuarterKeyDown=function(r,a){var i,o,l=r.key;if(!n.props.disabledKeyboardNavigation)switch(l){case we.Enter:n.onQuarterClick(r,a),(o=(i=n.props).setPreSelection)===null||o===void 0||o.call(i,n.props.selected);break;case we.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,og(n.props.preSelection,1));break;case we.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,d1(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var a,i=n.props,o=i.day,l=i.minDate,c=i.maxDate,d=i.excludeDates,u=i.includeDates,f=Hr(o,r);return{isDisabled:(a=(l||c||d||u)&&D1(f,n.props))!==null&&a!==void 0?a:!1,labelDate:f}},n.isMonthDisabled=function(r){var a=n.isMonthDisabledForLabelDate(r).isDisabled;return a},n.getMonthClassNames=function(r){var a=n.props,i=a.day,o=a.startDate,l=a.endDate,c=a.preSelection,d=a.monthClassName,u=d?d(Hr(i,r)):void 0,f=n.getSelection();return In("react-datepicker__month-text","react-datepicker__month-".concat(r),u,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(i,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&c&&n.isSelectedMonth(i,r,c)&&!n.isMonthSelected()&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&l?Od(o,l,r,i):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(i,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=nr(n.props.preSelection),i=n.isMonthDisabledForLabelDate(a).isDisabled,o=r===a&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var a=Ui(n.props.preSelection),i=Ad(n.props.day,n.props),o=r===a&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var a=n.props,i=a.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=a.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=a.day,u=a.locale,f=Hr(d,r),h=n.isDisabled(f)||n.isExcluded(f)?c:o;return"".concat(h," ").concat(on(f,"MMMM yyyy",u))},n.getQuarterClassNames=function(r){var a=n.props,i=a.day,o=a.startDate,l=a.endDate,c=a.selected,d=a.minDate,u=a.maxDate,f=a.excludeDates,h=a.includeDates,g=a.filterDate,v=a.preSelection,p=a.disabledKeyboardNavigation,w=(d||u||f||h||g)&&Ad(jo(i,r),n.props);return In("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":c?n.isSelectedQuarter(i,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!p&&v&&n.isSelectedQuarter(i,r,v)&&!w,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&l?Fd(o,l,r,i):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(i,r)})},n.getMonthContent=function(r){var a=n.props,i=a.showFullMonthYearPicker,o=a.renderMonthContent,l=a.locale,c=a.day,d=_1(r,l),u=vg(r,l);return o?o(r,d,u,c):i?u:d},n.getQuarterContent=function(r){var a,i=n.props,o=i.renderQuarterContent,l=i.locale,c=BA(r,l);return(a=o==null?void 0:o(r,c))!==null&&a!==void 0?a:c},n.renderMonths=function(){var r,a=n.props,i=a.showTwoColumnMonthYearPicker,o=a.showFourColumnMonthYearPicker,l=a.day,c=a.selected,d=(r=th[Q0(o,i)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(u,f){return A.createElement("div",{className:"react-datepicker__month-wrapper",key:f},u.map(function(h,g){return A.createElement("div",{ref:n.MONTH_REFS[h],key:g,onClick:function(v){n.onMonthClick(v,h)},onKeyDown:function(v){T1(v)&&(v.preventDefault(),v.key=we.Enter),n.onMonthKeyDown(v,h)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(h)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(h)}:void 0,tabIndex:Number(n.getTabIndex(h)),className:n.getMonthClassNames(h),"aria-disabled":n.isMonthDisabled(h),role:"option","aria-label":n.getAriaLabel(h),"aria-current":n.isCurrentMonth(l,h)?"date":void 0,"aria-selected":c?n.isSelectedMonth(l,h,c):void 0},n.getMonthContent(h))}))})},n.renderQuarters=function(){var r=n.props,a=r.day,i=r.selected,o=[1,2,3,4];return A.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return A.createElement("div",{key:c,ref:n.QUARTER_REFS[c],role:"option",onClick:function(d){n.onQuarterClick(d,l)},onKeyDown:function(d){n.onQuarterKeyDown(d,l)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(l)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(l)}:void 0,className:n.getQuarterClassNames(l),"aria-selected":i?n.isSelectedQuarter(a,l,i):void 0,tabIndex:Number(n.getQuarterTabIndex(l)),"aria-current":n.isCurrentQuarter(a,l)?"date":void 0},n.getQuarterContent(l))}))},n.getClassNames=function(){var r=n.props,a=r.selectingDate,i=r.selectsStart,o=r.selectsEnd,l=r.showMonthYearPicker,c=r.showQuarterYearPicker,d=r.showWeekPicker;return In("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,a=n.selectedDates,i=n.selectsMultiple;if(i)return a;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,a=n.showQuarterYearPicker,i=n.day,o=n.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"";return A.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(on(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(m.Component),rI=function(e){Wn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,a){return A.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?A.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return A.createElement(Hm,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(m.Component),sI=function(e){Wn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(a,i){return A.createElement("option",{key:a,value:i},a)})},n.renderSelectMode=function(r){return A.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,a){return A.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},A.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),A.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(r){return A.createElement(rI,_t({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var a=n.state.dropdownVisible,i=[n.renderReadView(!a,r)];return a&&i.unshift(n.renderDropdown(r)),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return _1(i,n.props.locale)}:function(i){return vg(i,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return A.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(m.Component);function aI(e,t){for(var n=[],r=da(e),a=da(t);!mi(r,a);)n.push(Ft(r)),r=ys(r,1);return n}var iI=function(e){Wn(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var i=Fp(a),o=Ts(r.props.date,a)&&or(r.props.date,a);return A.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":o?"true":void 0},o?A.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",on(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:aI(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=In({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return A.createElement(Hm,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(m.Component),oI=function(e){Wn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=da(n.props.minDate),a=da(n.props.maxDate),i=[];!mi(r,a);){var o=Fp(r);i.push(A.createElement("option",{key:o,value:o},on(r,n.props.dateFormat,n.props.locale))),r=ys(r,1)}return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return A.createElement("select",{value:Fp(da(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var a=on(n.props.date,n.props.dateFormat,n.props.locale);return A.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},A.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),A.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return A.createElement(iI,_t({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown();var a=Ft(r);Ts(n.props.date,a)&&or(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return A.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(m.Component),lI=function(e){Wn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,i;n.list&&(n.list.scrollTop=(i=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&i!==void 0?i:0)})},n.handleClick=function(r){var a,i;(n.props.minTime||n.props.maxTime)&&L0(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&F0(r,n.props)||(i=(a=n.props).onChange)===null||i===void 0||i.call(a,r)},n.isSelectedTime=function(r){return n.props.selected&&GA(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&L0(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&F0(r,n.props)},n.liClasses=function(r){var a,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(la(r)*3600+ca(r)*60+ni(r))%(((a=n.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(r,a){var i,o;r.key===we.Space&&(r.preventDefault(),r.key=we.Enter),(r.key===we.ArrowUp||r.key===we.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===we.ArrowDown||r.key===we.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===we.Enter&&n.handleClick(a),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.renderTimes=function(){for(var r,a=[],i=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,l=n.props.selected||n.props.openToDate||Ft(),c=du(l),d=n.props.injectTimes&&n.props.injectTimes.sort(function(w,x){return w.getTime()-x.getTime()}),u=60*KA(l),f=u/o,h=0;h<f;h++){var g=Op(c,h*o);if(a.push(g),d){var v=QA(c,g,h,o,d);a=a.concat(v)}}var p=a.reduce(function(w,x){return x.getTime()<=l.getTime()?x:w},a[0]);return a.map(function(w){return A.createElement("li",{key:w.valueOf(),onClick:n.handleClick.bind(n,w),className:n.liClasses(w),ref:function(x){w===p&&(n.centerLi=x)},onKeyDown:function(x){n.handleOnKeyDown(x,w)},tabIndex:w===p?0:-1,role:"option","aria-selected":n.isSelectedTime(w)?"true":void 0,"aria-disabled":n.isDisabledTime(w)?"true":void 0},on(w,i,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?A.createElement(A.Fragment,null):A.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},A.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,a=this.state.height;return A.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),A.createElement("div",{className:"react-datepicker__time"},A.createElement("div",{className:"react-datepicker__time-box"},A.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(m.Component),K0=3,cI=function(e){Wn(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=Fs([],Array(r.props.yearItemNumber),!0).map(function(){return m.createRef()}),r.isDisabled=function(a){return Qr(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return bg(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var i=function(){var o,l;(l=(o=r.YEAR_REFS[a])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},r.handleYearClick=function(a,i){r.props.onDayClick&&r.props.onDayClick(a,i)},r.handleYearNavigation=function(a,i){var o,l,c,d,u=r.props,f=u.date,h=u.yearItemNumber;if(!(f===void 0||h===void 0)){var g=Va(f,h).startPeriod;r.isDisabled(i)||r.isExcluded(i)||((l=(o=r.props).setPreSelection)===null||l===void 0||l.call(o,i),a-g<0?r.updateFocusOnPaginate(h-(g-a)):a-g>=h?r.updateFocusOnPaginate(Math.abs(h-(a-g))):(d=(c=r.YEAR_REFS[a-g])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},r.isSameDay=function(a,i){return kt(a,i)},r.isCurrentYear=function(a){return a===xt(Ft())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Ts(_s(Ft(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Ts(_s(Ft(),a),r.props.endDate)},r.isInRange=function(a){return Id(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var i=r.props,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.startDate,u=i.endDate;return!(o||l||c)||!r.selectingDate()?!1:o&&u?Id(a,r.selectingDate(),u):l&&d||c&&d&&!u?Id(a,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var i;if(!r.isInSelectingRange(a))return!1;var o=r.props,l=o.startDate,c=o.selectsStart,d=_s(Ft(),a);return c?Ts(d,(i=r.selectingDate())!==null&&i!==void 0?i:null):Ts(d,l??null)},r.isSelectingRangeEnd=function(a){var i;if(!r.isInSelectingRange(a))return!1;var o=r.props,l=o.endDate,c=o.selectsEnd,d=o.selectsRange,u=_s(Ft(),a);return c||d?Ts(u,(i=r.selectingDate())!==null&&i!==void 0?i:null):Ts(u,l??null)},r.isKeyboardSelected=function(a){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var i=r.props,o=i.minDate,l=i.maxDate,c=i.excludeDates,d=i.includeDates,u=i.filterDate,f=tc(_s(r.props.date,a)),h=(o||l||c||d||u)&&uu(a,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!kt(f,tc(r.props.selected))&&kt(f,tc(r.props.preSelection))&&!h}},r.isSelectedYear=function(a){var i=r.props,o=i.selectsMultiple,l=i.selected,c=i.selectedDates;return o?c==null?void 0:c.some(function(d){return a===xt(d)}):!!l&&a===xt(l)},r.onYearClick=function(a,i){var o=r.props.date;o!==void 0&&r.handleYearClick(tc(_s(o,i)),a)},r.onYearKeyDown=function(a,i){var o,l,c=a.key,d=r.props,u=d.date,f=d.yearItemNumber,h=d.handleOnKeyDown;if(c!==we.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case we.Enter:if(r.props.selected==null)break;r.onYearClick(a,i),(l=(o=r.props).setPreSelection)===null||l===void 0||l.call(o,r.props.selected);break;case we.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(i+1,ia(r.props.preSelection,1));break;case we.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(i-1,hl(r.props.preSelection,1));break;case we.ArrowUp:{if(u===void 0||f===void 0||r.props.preSelection==null)break;var g=Va(u,f).startPeriod,v=K0,p=i-v;if(p<g){var w=f%v;i>=g&&i<g+w?v=w:v+=w,p=i-v}r.handleYearNavigation(p,hl(r.props.preSelection,v));break}case we.ArrowDown:{if(u===void 0||f===void 0||r.props.preSelection==null)break;var x=Va(u,f).endPeriod,v=K0,p=i+v;if(p>x){var w=f%v;i<=x&&i>x-w?v=w:v+=w,p=i+v}r.handleYearNavigation(p,ia(r.props.preSelection,v));break}}h&&h(a)},r.getYearClassNames=function(a){var i=r.props,o=i.date,l=i.minDate,c=i.maxDate,d=i.excludeDates,u=i.includeDates,f=i.filterDate,h=i.yearClassName;return In("react-datepicker__year-text","react-datepicker__year-".concat(a),o?h==null?void 0:h(_s(o,a)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(a),"react-datepicker__year-text--disabled":(l||c||d||u||f)&&uu(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var i=xt(r.props.preSelection),o=uu(a,r.props);return a===i&&!o?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return t.prototype.render=function(){var n=this,r=[],a=this.props,i=a.date,o=a.yearItemNumber,l=a.onYearMouseEnter,c=a.onYearMouseLeave;if(i===void 0)return null;for(var d=Va(i,o),u=d.startPeriod,f=d.endPeriod,h=function(p){r.push(A.createElement("div",{ref:g.YEAR_REFS[p-u],onClick:function(w){n.onYearClick(w,p)},onKeyDown:function(w){T1(w)&&(w.preventDefault(),w.key=we.Enter),n.onYearKeyDown(w,p)},tabIndex:Number(g.getYearTabIndex(p)),className:g.getYearClassNames(p),onMouseEnter:g.props.usePointerEvent?void 0:function(w){return l(w,p)},onPointerEnter:g.props.usePointerEvent?function(w){return l(w,p)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(w){return c(w,p)},onPointerLeave:g.props.usePointerEvent?function(w){return c(w,p)}:void 0,key:p,"aria-current":g.isCurrentYear(p)?"date":void 0},g.getYearContent(p)))},g=this,v=u;v<=f;v++)h(v);return A.createElement("div",{className:"react-datepicker__year"},A.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(m.Component);function dI(e,t,n,r){for(var a=[],i=0;i<2*t+1;i++){var o=e+t-i,l=!0;n&&(l=xt(n)<=o),r&&l&&(l=xt(r)>=o),l&&a.push(o)}return a}var uI=function(e){Wn(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var l=r.props.year,c=r.state.yearsList.map(function(f){return A.createElement("div",{className:l===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":l===f?"true":void 0},l===f?A.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),d=r.props.minDate?xt(r.props.minDate):null,u=r.props.maxDate?xt(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(f){return f===u}))&&c.unshift(A.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},A.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(f){return f===d}))&&c.push(A.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},A.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var c=r.state.yearsList.map(function(d){return d+l});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,o=a||(i?10:5);return r.state={yearsList:dI(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=m.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,a=r?r.find(function(i){return i.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=In({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return A.createElement(Hm,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(m.Component),mI=function(e){Wn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?xt(n.props.minDate):1900,a=n.props.maxDate?xt(n.props.maxDate):2100,i=[],o=r;o<=a;o++)i.push(A.createElement("option",{key:o,value:o},o));return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return A.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return A.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return n.toggleDropdown(a)}},A.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),A.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return A.createElement(uI,_t({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,a=[n.renderReadView(!r)];return r&&a.unshift(n.renderDropdown()),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,a){var i;(i=n.onSelect)===null||i===void 0||i.call(n,r,a),n.setOpen()},n.onSelect=function(r,a){var i,o;(o=(i=n.props).onSelect)===null||o===void 0||o.call(i,r,a)},n.setOpen=function(){var r,a;(a=(r=n.props).setOpen)===null||a===void 0||a.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return A.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(m.Component),fI=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],hI=function(e){var t=(e.className||"").split(/\s+/);return fI.some(function(n){return t.indexOf(n)>=0})},pI=function(e){Wn(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var i,o;hI(a.target)&&((o=(i=r.props).onDropdownFocus)===null||o===void 0||o.call(i,a))},r.getDateInView=function(){var a=r.props,i=a.preSelection,o=a.selected,l=a.openToDate,c=E1(r.props),d=P1(r.props),u=Ft(),f=l||o||i;return f||(c&&to(u,c)?c:d&&mi(u,d)?d:u)},r.increaseMonth=function(){r.setState(function(a){var i=a.date;return{date:ys(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var i=a.date;return{date:zi(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,i,o){r.props.onSelect(a,i,o),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,i){r.setState({selectingDate:_s(Ft(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,i)},r.handleYearMouseLeave=function(a,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,i)},r.handleYearChange=function(a){var i,o,l,c;(o=(i=r.props).onYearChange)===null||o===void 0||o.call(i,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!Qr(a,r.props))return a;for(var i=da(a),o=IA(a),l=sM(o,i),c=null,d=0;d<=l;d++){var u=xs(i,d);if(!Qr(u,r.props)){c=u;break}}return c},r.handleMonthChange=function(a){var i,o,l,c=(i=r.getEnabledPreSelectionDateForMonth(a))!==null&&i!==void 0?i:a;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(l=(o=r.props).setOpen)===null||l===void 0||l.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(a){var i,o;(o=(i=r.props).onMonthChange)===null||o===void 0||o.call(i,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(i){var o=i.date;return{date:_s(o,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(i){var o=i.date;return{date:Hr(o,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(i){var o=i.date;return{date:_s(Hr(o,nr(a)),xt(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){a===void 0&&(a=r.state.date);var i=ri(a,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(A.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(l){var c=xs(i,l),d=r.formatWeekday(c,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return A.createElement("div",{key:l,"aria-label":on(c,"EEEE",r.props.locale),className:In("react-datepicker__day-name",u)},d)}))},r.formatWeekday=function(a,i){return r.props.formatWeekDay?FA(a,r.props.formatWeekDay,i):r.props.useWeekdaysShort?$A(a,i):LA(a,i)},r.decreaseYear=function(){r.setState(function(a){var i,o=a.date;return{date:hl(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,i,o;if(!r.props.renderCustomHeader){var l=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:c,u=zi(r.state.date,d),f;switch(!0){case r.props.showMonthYearPicker:f=W0(r.state.date,r.props);break;case r.props.showYearPicker:f=zA(r.state.date,r.props);break;case r.props.showQuarterYearPicker:f=YA(r.state.date,r.props);break;default:f=$0(u,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&f||r.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.decreaseYear),f&&r.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),v=void 0);var p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,x=w.previousMonthButtonLabel,y=x===void 0?t.defaultProps.previousMonthButtonLabel:x,b=w.previousYearButtonLabel,j=b===void 0?t.defaultProps.previousYearButtonLabel:b,N=r.props,P=N.previousMonthAriaLabel,C=P===void 0?typeof y=="string"?y:"Previous Month":P,S=N.previousYearAriaLabel,O=S===void 0?typeof j=="string"?j:"Previous Year":S;return A.createElement("button",{type:"button",className:g.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":p?O:C},A.createElement("span",{className:h.join(" ")},p?j:y))}}},r.increaseYear=function(){r.setState(function(a){var i,o=a.date;return{date:ia(o,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=Y0(r.state.date,r.props);break;case r.props.showYearPicker:i=HA(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=UA(r.state.date,r.props);break;default:i=B0(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,f=u.nextMonthButtonLabel,h=f===void 0?t.defaultProps.nextMonthButtonLabel:f,g=u.nextYearButtonLabel,v=g===void 0?t.defaultProps.nextYearButtonLabel:g,p=r.props,w=p.nextMonthAriaLabel,x=w===void 0?typeof h=="string"?h:"Next Month":w,y=p.nextYearAriaLabel,b=y===void 0?typeof v=="string"?v:"Next Year":y;return A.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?b:x},A.createElement("span",{className:l.join(" ")},d?v:h))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),A.createElement("h2",{className:i.join(" ")},on(a,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return A.createElement(mI,_t({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:xt(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return A.createElement(sI,_t({},t.defaultProps,r.props,{month:nr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return A.createElement(oI,_t({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(O0(),a),r.props.setPreSelection&&r.props.setPreSelection(O0())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return A.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(a){var i=a.monthDate,o=a.i;return A.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),A.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),A.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))},r.renderCustomHeader=function(a){var i,o,l=a.monthDate,c=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=$0(r.state.date,r.props),u=B0(r.state.date,r.props),f=W0(r.state.date,r.props),h=Y0(r.state.date,r.props),g=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return A.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(i=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,_t(_t({},r.state),{customHeaderCount:c,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:u,prevYearButtonDisabled:f,nextYearButtonDisabled:h})),g&&A.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(a){var i=a.monthDate,o=r.props,l=o.showYearPicker,c=o.yearItemNumber,d=c===void 0?t.defaultProps.yearItemNumber:c,u=Va(i,d),f=u.startPeriod,h=u.endPeriod;return A.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(f," - ").concat(h):xt(i))},r.renderHeader=function(a){var i=a.monthDate,o=a.i,l=o===void 0?0:o,c={monthDate:i,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var a,i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],l=(a=r.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ia(r.state.date,c):zi(r.state.date,c),u=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:c,f=0;f<l;++f){var h=f-u+c,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ia(d,h):ys(d,h),v="month-".concat(f),p=f<l-1,w=f>0;o.push(A.createElement("div",{key:v,ref:function(x){r.monthContainer=x??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:f}),A.createElement(nI,_t({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:w}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return A.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),A.createElement(cI,_t({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return A.createElement(lI,_t({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,i=a&&Vm(a)&&!!r.props.selected,o=i?"".concat(z0(a.getHours()),":").concat(z0(a.getMinutes())):"";if(r.props.showTimeInput)return A.createElement(XA,_t({},t.defaultProps,r.props,{date:a,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a,i=Va(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,c;return r.props.showYearPicker?c="".concat(o," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=xt(r.state.date):c="".concat(vg(nr(r.state.date),r.props.locale)," ").concat(xt(r.state.date)),A.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return A.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=m.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:nd}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!kt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!or(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!kt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||EA;return A.createElement(Hm,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},A.createElement("div",{style:{display:"contents"},ref:this.containerRef},A.createElement(n,{className:In("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(m.Component),xI=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,a=e.onClick,i="react-datepicker__calendar-icon";if(typeof t=="string")return A.createElement("i",{className:"".concat(i," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(A.isValidElement(t)){var o=t;return A.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(r),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof a=="function"&&a(l)}})}return A.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},A.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},R1=function(e){Wn(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Gx.createPortal(this.props.children,this.el)},t}(m.Component),gI="[tabindex], a, button, input, select, textarea",yI=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},M1=function(e){Wn(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(gI),1,-1).filter(yI)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=m.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?A.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},A.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,A.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(m.Component);function vI(e){var t=function(n){var r,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,i=m.useRef(null),o=DA(_t({open:!a,whileElementsMounted:y1,placement:n.popperPlacement,middleware:Fs([j1({padding:15}),w1(10),N1({element:i})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),l=_t(_t({},n),{hidePopper:a,popperProps:_t(_t({},o),{arrowRef:i})});return A.createElement(e,_t({},l))};return t}var bI=function(e){Wn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,a=n.wrapperClassName,i=n.hidePopper,o=i===void 0?t.defaultProps.hidePopper:i,l=n.popperComponent,c=n.targetComponent,d=n.enableTabLoop,u=n.popperOnKeyDown,f=n.portalId,h=n.portalHost,g=n.popperProps,v=n.showArrow,p=void 0;if(!o){var w=In("react-datepicker-popper",r);p=A.createElement(M1,{enableTabLoop:d},A.createElement("div",{ref:g.refs.setFloating,style:g.floatingStyles,className:w,"data-placement":g.placement,onKeyDown:u},l,v&&A.createElement(wA,{ref:g.arrowRef,context:g.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(p=m.createElement(this.props.popperContainer,{},p)),f&&!o&&(p=A.createElement(R1,{portalId:f,portalHost:h},p));var x=In("react-datepicker-wrapper",a);return A.createElement(A.Fragment,null,A.createElement("div",{ref:g.refs.setReference,className:x},c),p)},t}(m.Component),wI=vI(bI),G0="react-datepicker-ignore-onclickoutside";function jI(e,t){return e&&t?nr(e)!==nr(t)||xt(e)!==xt(t):e!==t}var nh="Date input not valid.",X0=function(e){Wn(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ft()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(i,o){var l=new Date(o.date);return Vm(l)?Fs(Fs([],i,!0),[_t(_t({},o),{date:l})],!1):i},[])},r.calcInitialState=function(){var a,i=r.getPreSelection(),o=E1(r.props),l=P1(r.props),c=o&&to(i,du(o))?o:l&&mi(i,A0(l))?l:i;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:c,highlightDates:U0(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(_t(_t({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(_t(_t({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,i;(i=(a=r.input)===null||a===void 0?void 0:a.focus)===null||i===void 0||i.call(a,{preventScroll:!0})},r.setBlur=function(){var a,i;(i=(a=r.input)===null||a===void 0?void 0:a.blur)===null||i===void 0||i.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,i){i===void 0&&(i=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:rh},function(){a||r.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return oa(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var i,o,l=r.state.wasHidden,c=l?r.state.open:!0;l&&r.resetHiddenStatus(),r.state.preventFocus||((o=(i=r.props).onFocus)===null||o===void 0||o.call(i,a),c&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(a){var i,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(i=r.props).onBlur)===null||o===void 0||o.call(i,a)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var i,o;r.props.inline||r.setOpen(!1),(o=(i=r.props).onClickOutside)===null||o===void 0||o.call(i,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,i,o,l,c,d=[],u=0;u<arguments.length;u++)d[u]=arguments[u];var f=d[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,d),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){r.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:NI});var h=r.props,g=h.selectsRange,v=h.startDate,p=h.endDate,w=(a=r.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,x=(i=r.props.strictParsing)!==null&&i!==void 0?i:t.defaultProps.strictParsing,y=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(g){var b=y.split(w.includes("-")?k1:"-",2).map(function(F){return F.trim()}),j=b[0],N=b[1],P=Zf(j??"",w,r.props.locale,x),C=Zf(N??"",w,r.props.locale,x),S=(v==null?void 0:v.getTime())!==(P==null?void 0:P.getTime()),O=(p==null?void 0:p.getTime())!==(C==null?void 0:C.getTime());if(!S&&!O||P&&Qr(P,r.props)||C&&Qr(C,r.props))return;(l=(o=r.props).onChange)===null||l===void 0||l.call(o,[P,C],f)}else{var k=Zf(y,w,r.props.locale,x,(c=r.props.selected)!==null&&c!==void 0?c:void 0);(k||!y)&&r.setSelected(k,f,!0)}}},r.handleSelect=function(a,i,o){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(i),r.setSelected(a,i,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(a);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,c=l.startDate,d=l.endDate;c&&!d&&(r.props.swapRange||!q0(a,c))&&r.setOpen(!1)}}},r.setSelected=function(a,i,o,l){var c,d,u=a;if(r.props.showYearPicker){if(u!==null&&uu(xt(u),r.props))return}else if(r.props.showMonthYearPicker){if(u!==null&&D1(u,r.props))return}else if(u!==null&&Qr(u,r.props))return;var f=r.props,h=f.onChange,g=f.selectsRange,v=f.startDate,p=f.endDate,w=f.selectsMultiple,x=f.selectedDates,y=f.minTime,b=f.swapRange;if(!Ai(r.props.selected,u)||r.props.allowSameDay||g||w)if(u!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(u=eh(u,{hour:la(r.props.selected),minute:ca(r.props.selected),second:ni(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&y&&(u=eh(u,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),r.props.inline||r.setState({preSelection:u}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),g){var j=!v&&!p,N=v&&!p,P=v&&p;j?h==null||h([u,null],i):N&&(u===null?h==null||h([null,null],i):q0(u,v)?b?h==null||h([u,v],i):h==null||h([u,null],i):h==null||h([v,u],i)),P&&(h==null||h([u,null],i))}else if(w){if(u!==null)if(!(x!=null&&x.length))h==null||h([u],i);else{var C=x.some(function(O){return kt(O,u)});if(C){var S=x.filter(function(O){return!kt(O,u)});h==null||h(S,i)}else h==null||h(Fs(Fs([],x,!0),[u],!1),i)}}else h==null||h(u,i);o||((d=(c=r.props).onSelect)===null||d===void 0||d.call(c,u,i),r.setState({inputValue:null}))},r.setPreSelection=function(a){if(!r.props.readOnly){var i=oa(r.props.minDate),o=oa(r.props.maxDate),l=!0;if(a){var c=du(a);if(i&&o)l=nc(a,r.props.minDate,r.props.maxDate);else if(i){var d=du(r.props.minDate);l=mi(a,d)||Ai(c,d)}else if(o){var u=A0(r.props.maxDate);l=to(a,u)||Ai(c,u)}}l&&r.setState({preSelection:a})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var i,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?a:eh(l,{hour:la(a),minute:ca(a)});r.setState({preSelection:c}),(o=(i=r.props).onChange)===null||o===void 0||o.call(i,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,i;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(i=(a=r.props).onInputClick)===null||i===void 0||i.call(a)},r.onInputKeyDown=function(a){var i,o,l,c,d,u;(o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,a);var f=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===we.ArrowDown||f===we.ArrowUp||f===we.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(f===we.ArrowDown||f===we.ArrowUp){a.preventDefault();var h=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(h);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var v=Ft(r.state.preSelection);f===we.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===rh?(r.handleSelect(v,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(v)):r.setOpen(!1)):f===we.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):f===we.Tab&&r.setOpen(!1),r.inputOk()||(u=(d=r.props).onInputError)===null||u===void 0||u.call(d,{code:1,msg:nh})}},r.onPortalKeyDown=function(a){var i=a.key;i===we.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var i,o,l,c,d,u,f=r.props,h=f.minDate,g=f.maxDate,v=f.disabledKeyboardNavigation,p=f.showWeekPicker,w=f.shouldCloseOnSelect,x=f.locale,y=f.calendarStartDay,b=f.adjustDateOnChange,j=f.inline;if((o=(i=r.props).onKeyDown)===null||o===void 0||o.call(i,a),!v){var N=a.key,P=a.shiftKey,C=Ft(r.state.preSelection),S=function(J,q){var D=q;switch(J){case we.ArrowRight:D=p?Ku(q,1):xs(q,1);break;case we.ArrowLeft:D=p?j0(q,1):sO(q,1);break;case we.ArrowUp:D=j0(q,1);break;case we.ArrowDown:D=Ku(q,1);break;case we.PageUp:D=P?hl(q,1):zi(q,1);break;case we.PageDown:D=P?ia(q,1):ys(q,1);break;case we.Home:D=ri(q,x,y);break;case we.End:D=AA(q);break}return D},O=function(J,q){for(var D=40,_=J,T=!1,L=0,U=S(J,q);!T;){if(L>=D){U=q;break}h&&U<h&&(_=we.ArrowRight,U=Qr(h,r.props)?S(_,U):h),g&&U>g&&(_=we.ArrowLeft,U=Qr(g,r.props)?S(_,U):g),Qr(U,r.props)?((_===we.PageUp||_===we.Home)&&(_=we.ArrowRight),(_===we.PageDown||_===we.End)&&(_=we.ArrowLeft),U=S(_,U)):T=!0,L++}return U};if(N===we.Enter){a.preventDefault(),r.handleSelect(C,a),!w&&r.setPreSelection(C);return}else if(N===we.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:nh});return}var k=null;switch(N){case we.ArrowLeft:case we.ArrowRight:case we.ArrowUp:case we.ArrowDown:case we.PageUp:case we.PageDown:case we.Home:case we.End:k=O(N,C);break}if(!k){(u=(d=r.props).onInputError)===null||u===void 0||u.call(d,{code:1,msg:nh});return}if(a.preventDefault(),r.setState({lastPreSelectChange:rh}),b&&r.setSelected(k),r.setPreSelection(k),j){var F=nr(C),B=nr(k),ee=xt(C),re=xt(k);F!==B||ee!==re?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(a){var i=a.key;i===we.Escape&&(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var i=r.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],a):l==null||l(null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,i;return!r.props.inline&&!r.isCalendarOpen()?null:A.createElement(pI,_t({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:qA(r.modifyHolidays()),outsideClickIgnoreClass:G0,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(i=r.props.dropdownMode)!==null&&i!==void 0?i:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a=r.props,i=a.dateFormat,o=i===void 0?t.defaultProps.dateFormat:i,l=a.locale,c=r.props.showTimeInput||r.props.showTimeSelect,d=c?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(zr(r.props.startDate,{dateFormat:d,locale:l}),". ").concat(r.props.endDate?"End date: "+zr(r.props.endDate,{dateFormat:d,locale:l}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(zr(r.props.selected,{dateFormat:o,locale:l})):r.props.showYearPicker?u="Selected year: ".concat(zr(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?u="Selected month: ".concat(zr(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(zr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):u="Selected date: ".concat(zr(r.props.selected,{dateFormat:d,locale:l})),A.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var a,i,o,l=In(r.props.className,(a={},a[G0]=r.state.open,a)),c=r.props.customInput||A.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",u=r.props,f=u.dateFormat,h=f===void 0?t.defaultProps.dateFormat:f,g=u.locale,v=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?TA(r.props.startDate,r.props.endDate,{dateFormat:h,locale:g}):r.props.selectsMultiple?RA((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:h,locale:g}):zr(r.props.selected,{dateFormat:h,locale:g});return m.cloneElement(c,(i={},i[d]=function(p){r.input=p},i.value=v,i.onBlur=r.handleBlur,i.onChange=r.handleChange,i.onClick=r.onInputClick,i.onFocus=r.handleFocus,i.onKeyDown=r.onInputKeyDown,i.id=r.props.id,i.name=r.props.name,i.form=r.props.form,i.autoFocus=r.props.autoFocus,i.placeholder=r.props.placeholderText,i.disabled=r.props.disabled,i.autoComplete=r.props.autoComplete,i.className=In(c.props.className,l),i.title=r.props.title,i.readOnly=r.props.readOnly,i.required=r.props.required,i.tabIndex=r.props.tabIndex,i["aria-describedby"]=r.props.ariaDescribedBy,i["aria-invalid"]=r.props.ariaInvalid,i["aria-labelledby"]=r.props.ariaLabelledBy,i["aria-required"]=r.props.ariaRequired,i))},r.renderClearButton=function(){var a=r.props,i=a.isClearable,o=a.disabled,l=a.selected,c=a.startDate,d=a.endDate,u=a.clearButtonTitle,f=a.clearButtonClassName,h=f===void 0?"":f,g=a.ariaLabelClose,v=g===void 0?"Close":g,p=a.selectedDates,w=a.readOnly;return i&&!w&&(l!=null||c!=null||d!=null||p!=null&&p.length)?A.createElement("button",{type:"button",className:In("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:nd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var a,i,o,l;n.inline&&jI(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:U0(this.props.highlightDates)}),!r.focused&&!Ai(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((i=(a=this.props).onCalendarOpen)===null||i===void 0||i.call(a)),r.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,a=n.icon,i=n.calendarIconClassname,o=n.calendarIconClassName,l=n.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),A.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&A.createElement(xI,_t({icon:a,className:In(o,!o&&i,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?A.createElement(M1,{enableTabLoop:this.props.enableTabLoop},A.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=A.createElement(R1,_t({portalId:this.props.portalId},this.props),r)),A.createElement("div",null,this.renderInputContainer(),r)}return A.createElement(wI,_t({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(m.Component),NI="input",rh="navigate";function Pt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ir(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function lr(e,t){const n=Pt(e);return isNaN(t)?Ir(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function vs(e,t){const n=Pt(e);if(isNaN(t))return Ir(e,NaN);if(!t)return n;const r=n.getDate(),a=Ir(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const wg=6048e5,SI=864e5;let CI={};function sd(){return CI}function Ys(e,t){var l,c,d,u;const n=sd(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Pt(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ro(e){return Ys(e,{weekStartsOn:1})}function O1(e){const t=Pt(e),n=t.getFullYear(),r=Ir(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=ro(r),i=Ir(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=ro(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function gl(e){const t=Pt(e);return t.setHours(0,0,0,0),t}function om(e){const t=Pt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ls(e,t){const n=gl(e),r=gl(t),a=+n-om(n),i=+r-om(r);return Math.round((a-i)/SI)}function kI(e){const t=O1(e),n=Ir(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ro(n)}function Up(e,t){const n=t*7;return lr(e,n)}function _I(e,t){return vs(e,t*12)}function DI(e){let t;return e.forEach(function(n){const r=Pt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function EI(e){let t;return e.forEach(n=>{const r=Pt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function vr(e,t){const n=gl(e),r=gl(t);return+n==+r}function jg(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function PI(e){if(!jg(e)&&typeof e!="number")return!1;const t=Pt(e);return!isNaN(Number(t))}function Yc(e,t){const n=Pt(e),r=Pt(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function TI(e,t,n){const r=Ys(e,n),a=Ys(t,n),i=+r-om(r),o=+a-om(a);return Math.round((i-o)/wg)}function Ng(e){const t=Pt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Cr(e){const t=Pt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function A1(e){const t=Pt(e),n=Ir(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Sg(e,t){var l,c,d,u;const n=sd(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Pt(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function I1(e){return Sg(e,{weekStartsOn:1})}const RI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MI=(e,t,n)=>{let r;const a=RI[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function sh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const OI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},II={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},FI={date:sh({formats:OI,defaultWidth:"full"}),time:sh({formats:AI,defaultWidth:"full"}),dateTime:sh({formats:II,defaultWidth:"full"})},LI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$I=(e,t,n,r)=>LI[e];function ql(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const BI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},UI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VI=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qI={ordinalNumber:VI,era:ql({values:BI,defaultWidth:"wide"}),quarter:ql({values:WI,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ql({values:YI,defaultWidth:"wide"}),day:ql({values:UI,defaultWidth:"wide"}),dayPeriod:ql({values:zI,defaultWidth:"wide",formattingValues:HI,defaultFormattingWidth:"wide"})};function Ql(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?KI(l,f=>f.test(o)):QI(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function QI(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function KI(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function GI(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const XI=/^(\d+)(th|st|nd|rd)?/i,JI=/\d+/i,ZI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eF={any:[/^b/i,/^(a|c)/i]},tF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nF={any:[/1/i,/2/i,/3/i,/4/i]},rF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cF={ordinalNumber:GI({matchPattern:XI,parsePattern:JI,valueCallback:e=>parseInt(e,10)}),era:Ql({matchPatterns:ZI,defaultMatchWidth:"wide",parsePatterns:eF,defaultParseWidth:"any"}),quarter:Ql({matchPatterns:tF,defaultMatchWidth:"wide",parsePatterns:nF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ql({matchPatterns:rF,defaultMatchWidth:"wide",parsePatterns:sF,defaultParseWidth:"any"}),day:Ql({matchPatterns:aF,defaultMatchWidth:"wide",parsePatterns:iF,defaultParseWidth:"any"}),dayPeriod:Ql({matchPatterns:oF,defaultMatchWidth:"any",parsePatterns:lF,defaultParseWidth:"any"})},F1={code:"en-US",formatDistance:MI,formatLong:FI,formatRelative:$I,localize:qI,match:cF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dF(e){const t=Pt(e);return Ls(t,A1(t))+1}function L1(e){const t=Pt(e),n=+ro(t)-+kI(t);return Math.round(n/wg)+1}function $1(e,t){var u,f,h,g;const n=Pt(e),r=n.getFullYear(),a=sd(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(h=a.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=Ir(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Ys(o,t),c=Ir(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=Ys(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function uF(e,t){var l,c,d,u;const n=sd(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=$1(e,t),i=Ir(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Ys(i,t)}function B1(e,t){const n=Pt(e),r=+Ys(n,t)-+uF(n,t);return Math.round(r/wg)+1}function Bt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Pa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Bt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Bt(n+1,2)},d(e,t){return Bt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Bt(e.getHours()%12||12,t.length)},H(e,t){return Bt(e.getHours(),t.length)},m(e,t){return Bt(e.getMinutes(),t.length)},s(e,t){return Bt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Bt(a,t.length)}},yo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J0={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Pa.y(e,t)},Y:function(e,t,n,r){const a=$1(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Bt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Bt(i,t.length)},R:function(e,t){const n=O1(e);return Bt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Bt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Pa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=B1(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Bt(a,t.length)},I:function(e,t,n){const r=L1(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Bt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Pa.d(e,t)},D:function(e,t,n){const r=dF(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Bt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Bt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Bt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Bt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=yo.noon:r===0?a=yo.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=yo.evening:r>=12?a=yo.afternoon:r>=4?a=yo.morning:a=yo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Pa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Pa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Pa.s(e,t)},S:function(e,t){return Pa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return eb(r);case"XXXX":case"XX":return Pi(r);case"XXXXX":case"XXX":default:return Pi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return eb(r);case"xxxx":case"xx":return Pi(r);case"xxxxx":case"xxx":default:return Pi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Z0(r,":");case"OOOO":default:return"GMT"+Pi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Z0(r,":");case"zzzz":default:return"GMT"+Pi(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Bt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Bt(r,t.length)}};function Z0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+Bt(i,2)}function eb(e,t){return e%60===0?(e>0?"-":"+")+Bt(Math.abs(e)/60,2):Pi(e,t)}function Pi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Bt(Math.trunc(r/60),2),i=Bt(r%60,2);return n+a+t+i}const tb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},W1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mF=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return tb(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",tb(r,t)).replace("{{time}}",W1(a,t))},fF={p:W1,P:mF},hF=/^D+$/,pF=/^Y+$/,xF=["D","DD","YY","YYYY"];function gF(e){return hF.test(e)}function yF(e){return pF.test(e)}function vF(e,t,n){const r=bF(e,t,n);if(console.warn(r),xF.includes(e))throw new RangeError(r)}function bF(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NF=/^'([^]*?)'?$/,SF=/''/g,CF=/[a-zA-Z]/;function pt(e,t,n){var u,f,h,g,v,p,w,x;const r=sd(),a=(n==null?void 0:n.locale)??r.locale??F1,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((x=(w=r.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,l=Pt(e);if(!PI(l))throw new RangeError("Invalid time value");let c=t.match(jF).map(y=>{const b=y[0];if(b==="p"||b==="P"){const j=fF[b];return j(y,a.formatLong)}return y}).join("").match(wF).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:kF(y)};if(J0[b])return{isToken:!0,value:y};if(b.match(CF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&yF(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&gF(b))&&vF(b,t,String(e));const j=J0[b[0]];return j(l,b,a.localize,d)}).join("")}function kF(e){const t=e.match(NF);return t?t[1].replace(SF,"'"):e}function _F(e){const t=Pt(e),n=t.getFullYear(),r=t.getMonth(),a=Ir(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function DF(e){return Math.trunc(+Pt(e)/1e3)}function EF(e){const t=Pt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function PF(e,t){return TI(EF(e),Cr(e),t)+1}function zp(e,t){const n=Pt(e),r=Pt(t);return n.getTime()>r.getTime()}function Y1(e,t){const n=Pt(e),r=Pt(t);return+n<+r}function Cg(e,t){const n=Pt(e),r=Pt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function TF(e,t){const n=Pt(e),r=Pt(t);return n.getFullYear()===r.getFullYear()}function ah(e,t){return lr(e,-t)}function ih(e,t){const n=Pt(e),r=n.getFullYear(),a=n.getDate(),i=Ir(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=_F(i);return n.setMonth(t,Math.min(a,o)),n}function nb(e,t){const n=Pt(e);return isNaN(+n)?Ir(e,NaN):(n.setFullYear(t),n)}const RF=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[a,i]=m.useState("one_way"),[o,l]=m.useState(1),[c,d]=m.useState(0),[u,f]=m.useState(""),[h,g]=m.useState(""),v=Br(),[p,w]=m.useState([]);m.useEffect(()=>{(async()=>{var b,j;try{const N=await Be.get(`${oe}/destination/destinations/`),P=Array.isArray(N.data)?N.data:(b=N.data)!=null&&b.results?N.data.results:(j=N.data)!=null&&j.data?N.data.data:[];w(P)}catch(N){console.error("Failed to fetch destinations:",N),w([])}})()},[]);const x=()=>{if(!u||!h||!e){alert("Please fill in all required fields");return}if(u===h){alert("Please select different departure and destination cities");return}if(a==="round_trip"&&!n){alert("Please select a return date for round trip flights");return}const y=p.find(N=>N.name===u),b=p.find(N=>N.name===h);if(!y||!b){alert("Invalid destination selection");return}const j={flightType:a,fromCity:y.id.toString(),toCity:b.id.toString(),departDate:e?e.toISOString():null,returnDate:n?n.toISOString():null,adultCount:o,childCount:c,autoAdvanceToSelect:!0};(async function(){try{const P={from_destination:Number(y.id),to_destination:Number(b.id),departure_date:e?pt(e,"yyyy-MM-dd"):null,return_date:n?pt(n,"yyyy-MM-dd"):null,trip_type:a,adult_count:o,child_count:c};console.log("Index: search payload ->",P);const S=(await Be.post(`${oe}/booking/search-flights/`,P)).data;console.log("Index: search response ->",S);const O={trip_type:a,from_destination:y.name,to_destination:b.name,departure_date:e?pt(e,"yyyy-MM-dd"):null,return_date:n?pt(n,"yyyy-MM-dd"):null,passenger_count:{adults:o,children:c,total:o+c},outbound_flights:Array.isArray(S.outbound_flights)?S.outbound_flights:Array.isArray(S)?S:[],return_flights:Array.isArray(S.return_flights)?S.return_flights:[]};v("/client/flights",{state:{searchParams:j,searchResults:O}})}catch(P){console.error("Index search failed:",P),v("/client/flights",{state:{searchParams:j}})}})()};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsx(ui,{size:"md"}),s.jsxs("div",{className:"hidden md:flex items-center space-x-6 text-fastjet-gray font-medium",children:[s.jsxs(Jt,{to:"/login",className:"flex items-center gap-2 hover:text-fastjet-blue transition-colors",children:[s.jsx(SN,{size:18}),"FAST JET WALLET"]}),s.jsxs(Jt,{to:"/login",className:"flex items-center gap-2 hover:text-fastjet-blue transition-colors",children:[s.jsx(gN,{size:18}),"LOYALTY POINTS"]}),s.jsx("button",{className:"text-fastjet-gray",children:s.jsx(dl,{size:20})})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx($,{variant:"outline",asChild:!0,children:s.jsx(Jt,{to:"/login",children:"Login"})}),s.jsx($,{className:"bg-fastjet-yellow hover:bg-fastjet-darkYellow text-gray-800",asChild:!0,children:s.jsx(Jt,{to:"/register",children:"Register"})})]})]})})}),s.jsx("section",{className:"relative bg-fastjet-blue py-20 text-white text-center",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"max-w-3xl mx-auto mb-12",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",children:"Your Loyalty, Our Priority"}),s.jsx("p",{className:"text-lg md:text-xl text-white/90",children:"Join FastJet's loyalty program and earn points with every flight. Redeem for free tickets, upgrades, and exclusive perks."})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-6xl mx-auto text-left",children:[s.jsxs("div",{className:"flex border-b mb-6",children:[s.jsx("span",{className:"px-6 py-3 font-medium border-b-2 border-fastjet-yellow text-gray-800"}),s.jsx(Jt,{to:"/login",className:"px-6 py-3 font-medium text-gray-500 hover:text-gray-800",children:"BOOK A FLIGHT ON CREDIT"}),s.jsx(Jt,{to:"/login",className:"px-6 py-3 font-medium text-gray-500 hover:text-gray-800",children:"BOOK A FLIGHT ON FLYBYE"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"JOURNEY TYPE"}),s.jsxs("select",{className:"w-full border border-gray-300 rounded p-2 bg-white text-gray-800",value:a,onChange:y=>i(y.target.value),children:[s.jsx("option",{value:"one_way",children:"One Way"}),s.jsx("option",{value:"round_trip",children:"Return"})]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"FLYING FROM"}),s.jsxs("select",{value:u,onChange:y=>f(y.target.value),className:"w-full border border-gray-300 rounded p-2 bg-white text-gray-800",children:[s.jsx("option",{disabled:!0,value:"",children:"-- Select --"}),Array.isArray(p)&&p.map(y=>s.jsxs("option",{value:y.name,disabled:h===y.name,children:[y.name," ",h===y.name?"(selected in To)":""]},y.id))]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"FLYING TO"}),s.jsxs("select",{value:h,onChange:y=>g(y.target.value),className:"w-full border border-gray-300 rounded p-2 bg-white text-gray-800",children:[s.jsx("option",{disabled:!0,value:"",children:"-- Select --"}),Array.isArray(p)&&p.map(y=>s.jsxs("option",{value:y.name,disabled:u===y.name,children:[y.name," ",u===y.name?"(selected in From)":""]},y.id))]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"DEPARTURE DATE"}),s.jsx(X0,{selected:e,onChange:y=>t(y),minDate:new Date,placeholderText:"Select departure date",className:"w-full border border-gray-300 rounded p-2 text-gray-800",dateFormat:"dd/MM/yyyy"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"RETURN DATE"}),s.jsx(X0,{selected:n,onChange:y=>r(y),minDate:e||new Date,placeholderText:"Select return date",className:"w-full border border-gray-300 rounded p-2 text-gray-800",dateFormat:"dd/MM/yyyy",disabled:!e||a==="one_way"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"PASSENGERS"}),s.jsx("select",{className:"w-full border border-gray-300 rounded p-2 bg-white text-gray-800",value:o,onChange:y=>l(Number(y.target.value)),children:Array.from({length:10},(y,b)=>b+1).map(y=>s.jsx("option",{value:y,children:y},y))})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"CURRENCY"}),s.jsxs("select",{className:"w-full border border-gray-300 rounded p-2 bg-white text-gray-800",children:[s.jsx("option",{children:"Select"}),s.jsx("option",{children:"USD"}),s.jsx("option",{children:"ZAR"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsx("div",{className:"flex justify-center mt-8",children:s.jsx($,{className:"bg-fastjet-yellow hover:bg-fastjet-darkYellow text-gray-800 px-10 py-3 text-lg rounded-md",onClick:x,children:"SEARCH FLIGHTS"})}),s.jsx("div",{className:"text-gray-600 text-sm",children:s.jsx("label",{className:"inline-flex items-center cursor-pointer",children:s.jsx("input",{type:"text",placeholder:"VOUCHER CODE?",className:"border border-gray-300 rounded p-2 w-40 text-sm"})})})]})]})]})}),s.jsx("section",{className:"bg-white py-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto bg-[#f8f8f8] rounded-xl shadow-lg p-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Ready to get started?"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Join thousands of satisfied travelers already enjoying FastJet Loyalty."}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx(Jt,{to:"/register",children:s.jsx($,{className:"bg-fastjet-yellow hover:bg-fastjet-darkYellow text-gray-800 px-6 py-3",children:"Create Account"})}),s.jsx(Jt,{to:"/login",children:s.jsx($,{variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-100 px-6 py-3 bg-transparent",children:"Sign In"})})]})]})})}),s.jsx("footer",{className:"bg-[#0b0d17] text-white py-16 mt-16",children:s.jsxs("div",{className:"container mx-auto px-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-10",children:[s.jsxs("div",{children:[s.jsx(ui,{variant:"white",className:"mb-4"}),s.jsx("p",{className:"text-sm text-gray-400 leading-relaxed max-w-xs",children:"Elevating your travel experience with comfort, value, and reliability."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4 tracking-wide",children:"Company"}),s.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-fastjet-yellow transition-colors",children:"About Us"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-fastjet-yellow transition-colors",children:"Careers"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-fastjet-yellow transition-colors",children:"Newsroom"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4 tracking-wide",children:"Legal"}),s.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-fastjet-yellow transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-fastjet-yellow transition-colors",children:"Terms of Use"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-fastjet-yellow transition-colors",children:"Cookies"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4 tracking-wide",children:"Support"}),s.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-fastjet-yellow transition-colors",children:"Help Center"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-fastjet-yellow transition-colors",children:"Flight Updates"})})]})]})]}),s.jsx("div",{className:"border-t border-gray-700 mt-12 pt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:[" ",new Date().getFullYear()," FastJet Airlines  All rights reserved"]})})]})})]})},ae=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ae.displayName="Card";const pe=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",e),...t}));pe.displayName="CardHeader";const xe=m.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",e),...t}));xe.displayName="CardTitle";const ke=m.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:We("text-sm text-muted-foreground",e),...t}));ke.displayName="CardDescription";const me=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:We("p-6 pt-0",e),...t}));me.displayName="CardContent";const rr=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",e),...t}));rr.displayName="CardFooter";const je=m.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));je.displayName="Input";var MF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ct=MF.reduce((e,t)=>{const n=m.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?di:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function OF(e,t){e&&Sl.flushSync(()=>e.dispatchEvent(t))}var AF="Label",U1=m.forwardRef((e,t)=>s.jsx(ct.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));U1.displayName=AF;var z1=U1;const IF=Jc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=m.forwardRef(({className:e,...t},n)=>s.jsx(z1,{ref:n,className:We(IF(),e),...t}));Y.displayName=z1.displayName;function at(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function FF(e,t){const n=m.createContext(t),r=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function bi(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];const d=f=>{var x;const{scope:h,children:g,...v}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,w=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:w,children:g})};d.displayName=i+"Provider";function u(f,h){var p;const g=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,LF(a,...t)]}function LF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function $F(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:w,children:g})}function u(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,BF(a,...t)]}function BF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function H1(e){const t=e+"CollectionProvider",[n,r]=$F(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:p}=g,w=A.useRef(null),x=A.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:x,collectionRef:w,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=A.forwardRef((g,v)=>{const{scope:p,children:w}=g,x=i(l,p),y=qt(v,x.collectionRef);return s.jsx(di,{ref:y,children:w})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=A.forwardRef((g,v)=>{const{scope:p,children:w,...x}=g,y=A.useRef(null),b=qt(v,y),j=i(d,p);return A.useEffect(()=>(j.itemMap.set(y,{ref:y,...x}),()=>void j.itemMap.delete(y))),s.jsx(di,{[u]:"",ref:b,children:w})});f.displayName=d;function h(g){const v=i(e+"CollectionConsumer",g);return A.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((j,N)=>x.indexOf(j.ref.current)-x.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,r]}function WF(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:w,children:g})}function u(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,YF(a,...t)]}function YF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var mr=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},UF=fm.useId||(()=>{}),zF=0;function ua(e){const[t,n]=m.useState(UF());return mr(()=>{n(r=>r??String(zF++))},[e]),t?`radix-${t}`:""}function Us(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function va({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=HF({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=Us(n),c=m.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function HF({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,a=m.useRef(r),i=Us(t);return m.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var VF=m.createContext(void 0);function qm(e){const t=m.useContext(VF);return e||t||"ltr"}var oh="rovingFocusGroup.onEntryFocus",qF={bubbles:!1,cancelable:!0},Qm="RovingFocusGroup",[Hp,V1,QF]=H1(Qm),[KF,Km]=WF(Qm,[QF]),[GF,XF]=KF(Qm),q1=m.forwardRef((e,t)=>s.jsx(Hp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Hp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(JF,{...e,ref:t})})}));q1.displayName=Qm;var JF=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=m.useRef(null),g=qt(t,h),v=qm(i),[p=null,w]=va({prop:o,defaultProp:l,onChange:c}),[x,y]=m.useState(!1),b=Us(d),j=V1(n),N=m.useRef(!1),[P,C]=m.useState(0);return m.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(oh,b),()=>S.removeEventListener(oh,b)},[b]),s.jsx(GF,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:p,onItemFocus:m.useCallback(S=>w(S),[w]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>C(S=>S-1),[]),children:s.jsx(ct.div,{tabIndex:x||P===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:at(e.onMouseDown,()=>{N.current=!0}),onFocus:at(e.onFocus,S=>{const O=!N.current;if(S.target===S.currentTarget&&O&&!x){const k=new CustomEvent(oh,qF);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const F=j().filter(q=>q.focusable),B=F.find(q=>q.active),ee=F.find(q=>q.id===p),J=[B,ee,...F].filter(Boolean).map(q=>q.ref.current);G1(J,u)}}N.current=!1}),onBlur:at(e.onBlur,()=>y(!1))})})}),Q1="RovingFocusGroupItem",K1=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,...o}=e,l=ua(),c=i||l,d=XF(Q1,n),u=d.currentTabStopId===c,f=V1(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=d;return m.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),s.jsx(Hp.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(ct.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:at(e.onMouseDown,v=>{r?d.onItemFocus(c):v.preventDefault()}),onFocus:at(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:at(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=t3(v,d.orientation,d.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const y=x.indexOf(v.currentTarget);x=d.loop?n3(x,y+1):x.slice(y+1)}setTimeout(()=>G1(x))}})})})});K1.displayName=Q1;var ZF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function t3(e,t,n){const r=e3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ZF[r]}function G1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function n3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var X1=q1,J1=K1;function Gm(e){const[t,n]=m.useState(void 0);return mr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function Xm(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function r3(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var ja=e=>{const{present:t,children:n}=e,r=s3(t),a=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=qt(r.ref,a3(a));return typeof n=="function"||r.isPresent?m.cloneElement(a,{ref:i}):null};ja.displayName="Presence";function s3(e){const[t,n]=m.useState(),r=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=r3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=$d(r.current);i.current=l==="mounted"?d:"none"},[l]),mr(()=>{const d=r.current,u=a.current;if(u!==e){const h=i.current,g=$d(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),mr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=g=>{const p=$d(r.current).includes(g.animationName);if(g.target===t&&p&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=g=>{g.target===t&&(i.current=$d(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function $d(e){return(e==null?void 0:e.animationName)||"none"}function a3(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kg="Radio",[i3,Z1]=bi(kg),[o3,l3]=i3(kg),eS=m.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,h]=m.useState(null),g=qt(t,w=>h(w)),v=m.useRef(!1),p=f?d||!!f.closest("form"):!0;return s.jsxs(o3,{scope:n,checked:a,disabled:o,children:[s.jsx(ct.button,{type:"button",role:"radio","aria-checked":a,"data-state":rS(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:g,onClick:at(e.onClick,w=>{a||c==null||c(),p&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),p&&s.jsx(c3,{control:f,bubbles:!v.current,name:r,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});eS.displayName=kg;var tS="RadioIndicator",nS=m.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=l3(tS,n);return s.jsx(ja,{present:r||i.checked,children:s.jsx(ct.span,{"data-state":rS(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});nS.displayName=tS;var c3=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=m.useRef(null),o=Xm(n),l=Gm(t);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[o,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rS(e){return e?"checked":"unchecked"}var d3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_g="RadioGroup",[u3,NB]=bi(_g,[Km,Z1]),sS=Km(),aS=Z1(),[m3,f3]=u3(_g),iS=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...h}=e,g=sS(n),v=qm(d),[p,w]=va({prop:i,defaultProp:a,onChange:f});return s.jsx(m3,{scope:n,name:r,required:o,disabled:l,value:p,onValueChange:w,children:s.jsx(X1,{asChild:!0,...g,orientation:c,dir:v,loop:u,children:s.jsx(ct.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...h,ref:t})})})});iS.displayName=_g;var oS="RadioGroupItem",lS=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,i=f3(oS,n),o=i.disabled||r,l=sS(n),c=aS(n),d=m.useRef(null),u=qt(t,d),f=i.value===a.value,h=m.useRef(!1);return m.useEffect(()=>{const g=p=>{d3.includes(p.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),s.jsx(J1,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(eS,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:at(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:at(a.onFocus,()=>{var g;h.current&&((g=d.current)==null||g.click())})})})});lS.displayName=oS;var h3="RadioGroupIndicator",cS=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=aS(n);return s.jsx(nS,{...a,...r,ref:t})});cS.displayName=h3;var dS=iS,uS=lS,p3=cS;const so=m.forwardRef(({className:e,...t},n)=>s.jsx(dS,{className:We("grid gap-2",e),...t,ref:n}));so.displayName=dS.displayName;const $n=m.forwardRef(({className:e,...t},n)=>s.jsx(uS,{ref:n,className:We("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(p3,{className:"flex items-center justify-center",children:s.jsx(hT,{className:"h-2.5 w-2.5 fill-current text-current"})})}));$n.displayName=uS.displayName;function rb(e,[t,n]){return Math.min(n,Math.max(t,e))}function x3(e,t=globalThis==null?void 0:globalThis.document){const n=Us(e);m.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var g3="DismissableLayer",Vp="dismissableLayer.update",y3="dismissableLayer.pointerDownOutside",v3="dismissableLayer.focusOutside",sb,mS=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jm=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(mS),[u,f]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=qt(t,C=>f(C)),p=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(w),y=u?p.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=y>=x,N=j3(C=>{const S=C.target,O=[...d.branches].some(k=>k.contains(S));!j||O||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),P=N3(C=>{const S=C.target;[...d.branches].some(k=>k.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return x3(C=>{y===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),m.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(sb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),ab(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sb)}},[u,h,n,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),ab())},[u,d]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(Vp,C),()=>document.removeEventListener(Vp,C)},[]),s.jsx(ct.div,{...c,ref:v,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:at(e.onFocusCapture,P.onFocusCapture),onBlurCapture:at(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:at(e.onPointerDownCapture,N.onPointerDownCapture)})});Jm.displayName=g3;var b3="DismissableLayerBranch",w3=m.forwardRef((e,t)=>{const n=m.useContext(mS),r=m.useRef(null),a=qt(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(ct.div,{...e,ref:a})});w3.displayName=b3;function j3(e,t=globalThis==null?void 0:globalThis.document){const n=Us(e),r=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){fS(y3,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function N3(e,t=globalThis==null?void 0:globalThis.document){const n=Us(e),r=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!r.current&&fS(v3,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ab(){const e=new CustomEvent(Vp);document.dispatchEvent(e)}function fS(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?OF(a,i):a.dispatchEvent(i)}var lh=0;function Dg(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ib()),document.body.insertAdjacentElement("beforeend",e[1]??ib()),lh++,()=>{lh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lh--}},[])}function ib(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ch="focusScope.autoFocusOnMount",dh="focusScope.autoFocusOnUnmount",ob={bubbles:!1,cancelable:!0},S3="FocusScope",Zm=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=Us(a),u=Us(i),f=m.useRef(null),h=qt(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let p=function(b){if(g.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:Ra(f.current,{select:!0})},w=function(b){if(g.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Ra(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Ra(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",w);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",w),y.disconnect()}}},[r,l,g.paused]),m.useEffect(()=>{if(l){cb.add(g);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(ch,ob);l.addEventListener(ch,d),l.dispatchEvent(x),x.defaultPrevented||(C3(P3(hS(l)),{select:!0}),document.activeElement===p&&Ra(l))}return()=>{l.removeEventListener(ch,d),setTimeout(()=>{const x=new CustomEvent(dh,ob);l.addEventListener(dh,u),l.dispatchEvent(x),x.defaultPrevented||Ra(p??document.body,{select:!0}),l.removeEventListener(dh,u),cb.remove(g)},0)}}},[l,d,u,g]);const v=m.useCallback(p=>{if(!n&&!r||g.paused)return;const w=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(w&&x){const y=p.currentTarget,[b,j]=k3(y);b&&j?!p.shiftKey&&x===j?(p.preventDefault(),n&&Ra(b,{select:!0})):p.shiftKey&&x===b&&(p.preventDefault(),n&&Ra(j,{select:!0})):x===y&&p.preventDefault()}},[n,r,g.paused]);return s.jsx(ct.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Zm.displayName=S3;function C3(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ra(r,{select:t}),document.activeElement!==n)return}function k3(e){const t=hS(e),n=lb(t,e),r=lb(t.reverse(),e);return[n,r]}function hS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function lb(e,t){for(const n of e)if(!_3(n,{upTo:t}))return n}function _3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function D3(e){return e instanceof HTMLInputElement&&"select"in e}function Ra(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&D3(e)&&t&&e.select()}}var cb=E3();function E3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=db(e,t),e.unshift(t)},remove(t){var n;e=db(e,t),(n=e[0])==null||n.resume()}}}function db(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function P3(e){return e.filter(t=>t.tagName!=="A")}var T3="Arrow",pS=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(ct.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});pS.displayName=T3;var R3=pS;function M3(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:w,children:g})}function u(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,O3(a,...t)]}function O3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Eg="Popper",[xS,ef]=M3(Eg),[A3,gS]=xS(Eg),yS=e=>{const{__scopePopper:t,children:n}=e,[r,a]=m.useState(null);return s.jsx(A3,{scope:t,anchor:r,onAnchorChange:a,children:n})};yS.displayName=Eg;var vS="PopperAnchor",bS=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=gS(vS,n),o=m.useRef(null),l=qt(t,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(ct.div,{...a,ref:l})});bS.displayName=vS;var Pg="PopperContent",[I3,F3]=xS(Pg),wS=m.forwardRef((e,t)=>{var Q,te,de,E,Z,W;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...p}=e,w=gS(Pg,n),[x,y]=m.useState(null),b=qt(t,be=>y(be)),[j,N]=m.useState(null),P=Gm(j),C=(P==null?void 0:P.width)??0,S=(P==null?void 0:P.height)??0,O=r+(i!=="center"?"-"+i:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(d)?d:[d],B=F.length>0,ee={padding:k,boundary:F.filter($3),altBoundary:B},{refs:re,floatingStyles:J,placement:q,isPositioned:D,middlewareData:_}=b1({strategy:"fixed",placement:O,whileElementsMounted:(...be)=>y1(...be,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[w1({mainAxis:a+S,alignmentAxis:o}),c&&fA({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hA():void 0,...ee}),c&&j1({...ee}),pA({...ee,apply:({elements:be,rects:Ye,availableWidth:Ze,availableHeight:tt})=>{const{width:Ct,height:Mt}=Ye.reference,I=be.floating.style;I.setProperty("--radix-popper-available-width",`${Ze}px`),I.setProperty("--radix-popper-available-height",`${tt}px`),I.setProperty("--radix-popper-anchor-width",`${Ct}px`),I.setProperty("--radix-popper-anchor-height",`${Mt}px`)}}),j&&N1({element:j,padding:l}),B3({arrowWidth:C,arrowHeight:S}),h&&xA({strategy:"referenceHidden",...ee})]}),[T,L]=SS(q),U=Us(v);mr(()=>{D&&(U==null||U())},[D,U]);const z=(Q=_.arrow)==null?void 0:Q.x,G=(te=_.arrow)==null?void 0:te.y,ye=((de=_.arrow)==null?void 0:de.centerOffset)!==0,[Ce,ge]=m.useState();return mr(()=>{x&&ge(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:D?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(E=_.transformOrigin)==null?void 0:E.x,(Z=_.transformOrigin)==null?void 0:Z.y].join(" "),...((W=_.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(I3,{scope:n,placedSide:T,onArrowChange:N,arrowX:z,arrowY:G,shouldHideArrow:ye,children:s.jsx(ct.div,{"data-side":T,"data-align":L,...p,ref:b,style:{...p.style,animation:D?void 0:"none"}})})})});wS.displayName=Pg;var jS="PopperArrow",L3={top:"bottom",right:"left",bottom:"top",left:"right"},NS=m.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=F3(jS,r),o=L3[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(R3,{...a,ref:n,style:{...a.style,display:"block"}})})});NS.displayName=jS;function $3(e){return e!==null}var B3=e=>({name:"transformOrigin",options:e,fn(t){var w,x,y;const{placement:n,rects:r,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=SS(n),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,g=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let v="",p="";return d==="bottom"?(v=o?f:`${h}px`,p=`${-c}px`):d==="top"?(v=o?f:`${h}px`,p=`${r.floating.height+c}px`):d==="right"?(v=`${-c}px`,p=o?f:`${g}px`):d==="left"&&(v=`${r.floating.width+c}px`,p=o?f:`${g}px`),{data:{x:v,y:p}}}});function SS(e){const[t,n="center"]=e.split("-");return[t,n]}var CS=yS,Tg=bS,kS=wS,_S=NS,W3="Portal",tf=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=m.useState(!1);mr(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Gx.createPortal(s.jsx(ct.div,{...r,ref:t}),o):null});tf.displayName=W3;var Y3="VisuallyHidden",DS=m.forwardRef((e,t)=>s.jsx(ct.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));DS.displayName=Y3;var U3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vo=new WeakMap,Bd=new WeakMap,Wd={},uh=0,ES=function(e){return e&&(e.host||ES(e.parentNode))},z3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=ES(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},H3=function(e,t,n,r){var a=z3(t,Array.isArray(e)?e:[e]);Wd[n]||(Wd[n]=new WeakMap);var i=Wd[n],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var g=h.getAttribute(r),v=g!==null&&g!=="false",p=(vo.get(h)||0)+1,w=(i.get(h)||0)+1;vo.set(h,p),i.set(h,w),o.push(h),p===1&&v&&Bd.set(h,!0),w===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(t),l.clear(),uh++,function(){o.forEach(function(f){var h=vo.get(f)-1,g=i.get(f)-1;vo.set(f,h),i.set(f,g),h||(Bd.has(f)||f.removeAttribute(r),Bd.delete(f)),g||f.removeAttribute(n)}),uh--,uh||(vo=new WeakMap,vo=new WeakMap,Bd=new WeakMap,Wd={})}},Rg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=U3(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),H3(r,a,n,"aria-hidden")):function(){return null}},As=function(){return As=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},As.apply(this,arguments)};function PS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function V3(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var mu="right-scroll-bar-position",fu="width-before-scroll-bar",q3="with-scroll-bars-hidden",Q3="--removed-body-scroll-bar-size";function mh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function K3(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var G3=typeof window<"u"?m.useLayoutEffect:m.useEffect,ub=new WeakMap;function X3(e,t){var n=K3(null,function(r){return e.forEach(function(a){return mh(a,r)})});return G3(function(){var r=ub.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||mh(l,null)}),i.forEach(function(l){a.has(l)||mh(l,o)})}ub.set(n,e)},[e]),n}function J3(e){return e}function Z3(e,t){t===void 0&&(t=J3);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function e5(e){e===void 0&&(e={});var t=Z3(null);return t.options=As({async:!0,ssr:!1},e),t}var TS=function(e){var t=e.sideCar,n=PS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,As({},n))};TS.isSideCarExport=!0;function t5(e,t){return e.useMedium(t),TS}var RS=e5(),fh=function(){},nf=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:fh,onWheelCapture:fh,onTouchMoveCapture:fh}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,v=e.inert,p=e.allowPinchZoom,w=e.as,x=w===void 0?"div":w,y=e.gapMode,b=PS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=X3([n,t]),P=As(As({},b),a);return m.createElement(m.Fragment,null,u&&m.createElement(j,{sideCar:RS,removeScrollBar:d,shards:f,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(l),As(As({},P),{ref:N})):m.createElement(x,As({},P,{className:c,ref:N}),l))});nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nf.classNames={fullWidth:fu,zeroRight:mu};var n5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function r5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n5();return t&&e.setAttribute("nonce",t),e}function s5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function a5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var i5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=r5())&&(s5(t,n),a5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},o5=function(){var e=i5();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},MS=function(){var e=o5(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},l5={left:0,top:0,right:0,gap:0},hh=function(e){return parseInt(e||"",10)||0},c5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[hh(n),hh(r),hh(a)]},d5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return l5;var t=c5(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},u5=MS(),qo="data-scroll-locked",m5=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(q3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(qo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(mu," .").concat(mu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fu," .").concat(fu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qo,`] {
    `).concat(Q3,": ").concat(l,`px;
  }
`)},mb=function(){var e=parseInt(document.body.getAttribute(qo)||"0",10);return isFinite(e)?e:0},f5=function(){m.useEffect(function(){return document.body.setAttribute(qo,(mb()+1).toString()),function(){var e=mb()-1;e<=0?document.body.removeAttribute(qo):document.body.setAttribute(qo,e.toString())}},[])},h5=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;f5();var i=m.useMemo(function(){return d5(a)},[a]);return m.createElement(u5,{styles:m5(i,!t,a,n?"":"!important")})},qp=!1;if(typeof window<"u")try{var Yd=Object.defineProperty({},"passive",{get:function(){return qp=!0,!0}});window.addEventListener("test",Yd,Yd),window.removeEventListener("test",Yd,Yd)}catch{qp=!1}var bo=qp?{passive:!1}:!1,p5=function(e){return e.tagName==="TEXTAREA"},OS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!p5(e)&&n[t]==="visible")},x5=function(e){return OS(e,"overflowY")},g5=function(e){return OS(e,"overflowX")},fb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=AS(e,r);if(a){var i=IS(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},y5=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},v5=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},AS=function(e,t){return e==="v"?x5(t):g5(t)},IS=function(e,t){return e==="v"?y5(t):v5(t)},b5=function(e,t){return e==="h"&&t==="rtl"?-1:1},w5=function(e,t,n,r,a){var i=b5(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,h=0;do{var g=IS(e,l),v=g[0],p=g[1],w=g[2],x=p-w-i*v;(v||x)&&AS(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},Ud=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hb=function(e){return[e.deltaX,e.deltaY]},pb=function(e){return e&&"current"in e?e.current:e},j5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},N5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},S5=0,wo=[];function C5(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),a=m.useState(S5++)[0],i=m.useState(MS)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=V3([e.lockRef.current],(e.shards||[]).map(pb),!0).filter(Boolean);return p.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(p,w){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=Ud(p),y=n.current,b="deltaX"in p?p.deltaX:y[0]-x[0],j="deltaY"in p?p.deltaY:y[1]-x[1],N,P=p.target,C=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in p&&C==="h"&&P.type==="range")return!1;var S=fb(C,P);if(!S)return!0;if(S?N=C:(N=C==="v"?"h":"v",S=fb(C,P)),!S)return!1;if(!r.current&&"changedTouches"in p&&(b||j)&&(r.current=N),!N)return!0;var O=r.current||N;return w5(O,w,p,O==="h"?b:j,!0)},[]),c=m.useCallback(function(p){var w=p;if(!(!wo.length||wo[wo.length-1]!==i)){var x="deltaY"in w?hb(w):Ud(w),y=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&j5(N.delta,x)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(pb).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=b.length>0?l(w,b[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),d=m.useCallback(function(p,w,x,y){var b={name:p,delta:w,target:x,should:y,shadowParent:k5(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),u=m.useCallback(function(p){n.current=Ud(p),r.current=void 0},[]),f=m.useCallback(function(p){d(p.type,hb(p),p.target,l(p,e.lockRef.current))},[]),h=m.useCallback(function(p){d(p.type,Ud(p),p.target,l(p,e.lockRef.current))},[]);m.useEffect(function(){return wo.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,bo),document.addEventListener("touchmove",c,bo),document.addEventListener("touchstart",u,bo),function(){wo=wo.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,bo),document.removeEventListener("touchmove",c,bo),document.removeEventListener("touchstart",u,bo)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(i,{styles:N5(a)}):null,g?m.createElement(h5,{gapMode:e.gapMode}):null)}function k5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _5=t5(RS,C5);var rf=m.forwardRef(function(e,t){return m.createElement(nf,As({},e,{ref:t,sideCar:_5}))});rf.classNames=nf.classNames;var D5=[" ","Enter","ArrowUp","ArrowDown"],E5=[" ","Enter"],ad="Select",[sf,af,P5]=H1(ad),[Tl,SB]=bi(ad,[P5,ef]),of=ef(),[T5,wi]=Tl(ad),[R5,M5]=Tl(ad),FS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:g,form:v}=e,p=of(t),[w,x]=m.useState(null),[y,b]=m.useState(null),[j,N]=m.useState(!1),P=qm(d),[C=!1,S]=va({prop:r,defaultProp:a,onChange:i}),[O,k]=va({prop:o,defaultProp:l,onChange:c}),F=m.useRef(null),B=w?v||!!w.closest("form"):!0,[ee,re]=m.useState(new Set),J=Array.from(ee).map(q=>q.props.value).join(";");return s.jsx(CS,{...p,children:s.jsxs(T5,{required:g,scope:t,trigger:w,onTriggerChange:x,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:ua(),value:O,onValueChange:k,open:C,onOpenChange:S,dir:P,triggerPointerDownPosRef:F,disabled:h,children:[s.jsx(sf.Provider,{scope:t,children:s.jsx(R5,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(q=>{re(D=>new Set(D).add(q))},[]),onNativeOptionRemove:m.useCallback(q=>{re(D=>{const _=new Set(D);return _.delete(q),_})},[]),children:n})}),B?s.jsxs(lC,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:O,onChange:q=>k(q.target.value),disabled:h,form:v,children:[O===void 0?s.jsx("option",{value:""}):null,Array.from(ee)]},J):null]})})};FS.displayName=ad;var LS="SelectTrigger",$S=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=of(n),o=wi(LS,n),l=o.disabled||r,c=qt(t,o.onTriggerChange),d=af(n),u=m.useRef("touch"),[f,h,g]=cC(p=>{const w=d().filter(b=>!b.disabled),x=w.find(b=>b.value===o.value),y=dC(w,p,x);y!==void 0&&o.onValueChange(y.value)}),v=p=>{l||(o.onOpenChange(!0),g()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(Tg,{asChild:!0,...i,children:s.jsx(ct.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":oC(o.value)?"":void 0,...a,ref:c,onClick:at(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&v(p)}),onPointerDown:at(a.onPointerDown,p=>{u.current=p.pointerType;const w=p.target;w.hasPointerCapture(p.pointerId)&&w.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:at(a.onKeyDown,p=>{const w=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(w&&p.key===" ")&&D5.includes(p.key)&&(v(),p.preventDefault())})})})});$S.displayName=LS;var BS="SelectValue",WS=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=wi(BS,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=qt(t,c.onValueNodeChange);return mr(()=>{d(u)},[d,u]),s.jsx(ct.span,{...l,ref:f,style:{pointerEvents:"none"},children:oC(c.value)?s.jsx(s.Fragment,{children:o}):i})});WS.displayName=BS;var O5="SelectIcon",YS=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(ct.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});YS.displayName=O5;var A5="SelectPortal",US=e=>s.jsx(tf,{asChild:!0,...e});US.displayName=A5;var ao="SelectContent",zS=m.forwardRef((e,t)=>{const n=wi(ao,e.__scopeSelect),[r,a]=m.useState();if(mr(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Sl.createPortal(s.jsx(HS,{scope:e.__scopeSelect,children:s.jsx(sf.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(VS,{...e,ref:t})});zS.displayName=ao;var is=10,[HS,ji]=Tl(ao),I5="SelectContentImpl",VS=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:w,...x}=e,y=wi(ao,n),[b,j]=m.useState(null),[N,P]=m.useState(null),C=qt(t,Q=>j(Q)),[S,O]=m.useState(null),[k,F]=m.useState(null),B=af(n),[ee,re]=m.useState(!1),J=m.useRef(!1);m.useEffect(()=>{if(b)return Rg(b)},[b]),Dg();const q=m.useCallback(Q=>{const[te,...de]=B().map(W=>W.ref.current),[E]=de.slice(-1),Z=document.activeElement;for(const W of Q)if(W===Z||(W==null||W.scrollIntoView({block:"nearest"}),W===te&&N&&(N.scrollTop=0),W===E&&N&&(N.scrollTop=N.scrollHeight),W==null||W.focus(),document.activeElement!==Z))return},[B,N]),D=m.useCallback(()=>q([S,b]),[q,S,b]);m.useEffect(()=>{ee&&D()},[ee,D]);const{onOpenChange:_,triggerPointerDownPosRef:T}=y;m.useEffect(()=>{if(b){let Q={x:0,y:0};const te=E=>{var Z,W;Q={x:Math.abs(Math.round(E.pageX)-(((Z=T.current)==null?void 0:Z.x)??0)),y:Math.abs(Math.round(E.pageY)-(((W=T.current)==null?void 0:W.y)??0))}},de=E=>{Q.x<=10&&Q.y<=10?E.preventDefault():b.contains(E.target)||_(!1),document.removeEventListener("pointermove",te),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",de,{capture:!0})}}},[b,_,T]),m.useEffect(()=>{const Q=()=>_(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[_]);const[L,U]=cC(Q=>{const te=B().filter(Z=>!Z.disabled),de=te.find(Z=>Z.ref.current===document.activeElement),E=dC(te,Q,de);E&&setTimeout(()=>E.ref.current.focus())}),z=m.useCallback((Q,te,de)=>{const E=!J.current&&!de;(y.value!==void 0&&y.value===te||E)&&(O(Q),E&&(J.current=!0))},[y.value]),G=m.useCallback(()=>b==null?void 0:b.focus(),[b]),ye=m.useCallback((Q,te,de)=>{const E=!J.current&&!de;(y.value!==void 0&&y.value===te||E)&&F(Q)},[y.value]),Ce=r==="popper"?Qp:qS,ge=Ce===Qp?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:w}:{};return s.jsx(HS,{scope:n,content:b,viewport:N,onViewportChange:P,itemRefCallback:z,selectedItem:S,onItemLeave:G,itemTextRefCallback:ye,focusSelectedItem:D,selectedItemText:k,position:r,isPositioned:ee,searchRef:L,children:s.jsx(rf,{as:di,allowPinchZoom:!0,children:s.jsx(Zm,{asChild:!0,trapped:y.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:at(a,Q=>{var te;(te=y.trigger)==null||te.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(Jm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(Ce,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Q=>Q.preventDefault(),...x,...ge,onPlaced:()=>re(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:at(x.onKeyDown,Q=>{const te=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!te&&Q.key.length===1&&U(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let E=B().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(E=E.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const Z=Q.target,W=E.indexOf(Z);E=E.slice(W+1)}setTimeout(()=>q(E)),Q.preventDefault()}})})})})})})});VS.displayName=I5;var F5="SelectItemAlignedPosition",qS=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=wi(ao,n),o=ji(ao,n),[l,c]=m.useState(null),[d,u]=m.useState(null),f=qt(t,C=>u(C)),h=af(n),g=m.useRef(!1),v=m.useRef(!0),{viewport:p,selectedItem:w,selectedItemText:x,focusSelectedItem:y}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&w&&x){const C=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(i.dir!=="rtl"){const Z=k.left-S.left,W=O.left-Z,be=C.left-W,Ye=C.width+be,Ze=Math.max(Ye,S.width),tt=window.innerWidth-is,Ct=rb(W,[is,Math.max(is,tt-Ze)]);l.style.minWidth=Ye+"px",l.style.left=Ct+"px"}else{const Z=S.right-k.right,W=window.innerWidth-O.right-Z,be=window.innerWidth-C.right-W,Ye=C.width+be,Ze=Math.max(Ye,S.width),tt=window.innerWidth-is,Ct=rb(W,[is,Math.max(is,tt-Ze)]);l.style.minWidth=Ye+"px",l.style.right=Ct+"px"}const F=h(),B=window.innerHeight-is*2,ee=p.scrollHeight,re=window.getComputedStyle(d),J=parseInt(re.borderTopWidth,10),q=parseInt(re.paddingTop,10),D=parseInt(re.borderBottomWidth,10),_=parseInt(re.paddingBottom,10),T=J+q+ee+_+D,L=Math.min(w.offsetHeight*5,T),U=window.getComputedStyle(p),z=parseInt(U.paddingTop,10),G=parseInt(U.paddingBottom,10),ye=C.top+C.height/2-is,Ce=B-ye,ge=w.offsetHeight/2,Q=w.offsetTop+ge,te=J+q+Q,de=T-te;if(te<=ye){const Z=F.length>0&&w===F[F.length-1].ref.current;l.style.bottom="0px";const W=d.clientHeight-p.offsetTop-p.offsetHeight,be=Math.max(Ce,ge+(Z?G:0)+W+D),Ye=te+be;l.style.height=Ye+"px"}else{const Z=F.length>0&&w===F[0].ref.current;l.style.top="0px";const be=Math.max(ye,J+p.offsetTop+(Z?z:0)+ge)+de;l.style.height=be+"px",p.scrollTop=te-ye+p.offsetTop}l.style.margin=`${is}px 0`,l.style.minHeight=L+"px",l.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,i.trigger,i.valueNode,l,d,p,w,x,i.dir,r]);mr(()=>b(),[b]);const[j,N]=m.useState();mr(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const P=m.useCallback(C=>{C&&v.current===!0&&(b(),y==null||y(),v.current=!1)},[b,y]);return s.jsx($5,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:P,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(ct.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});qS.displayName=F5;var L5="SelectPopperPosition",Qp=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=is,...i}=e,o=of(n);return s.jsx(kS,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qp.displayName=L5;var[$5,Mg]=Tl(ao,{}),Kp="SelectViewport",QS=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=ji(Kp,n),o=Mg(Kp,n),l=qt(t,i.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(sf.Slot,{scope:n,children:s.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:at(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const g=Math.abs(c.current-u.scrollTop);if(g>0){const v=window.innerHeight-is*2,p=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(p,w);if(x<v){const y=x+g,b=Math.min(v,y),j=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});QS.displayName=Kp;var KS="SelectGroup",[B5,W5]=Tl(KS),Y5=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=ua();return s.jsx(B5,{scope:n,id:a,children:s.jsx(ct.div,{role:"group","aria-labelledby":a,...r,ref:t})})});Y5.displayName=KS;var GS="SelectLabel",XS=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=W5(GS,n);return s.jsx(ct.div,{id:a.id,...r,ref:t})});XS.displayName=GS;var lm="SelectItem",[U5,JS]=Tl(lm),ZS=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=wi(lm,n),c=ji(lm,n),d=l.value===r,[u,f]=m.useState(i??""),[h,g]=m.useState(!1),v=qt(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,r,a)}),p=ua(),w=m.useRef("touch"),x=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(U5,{scope:n,value:r,disabled:a,textId:p,isSelected:d,onItemTextChange:m.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(sf.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:s.jsx(ct.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:at(o.onFocus,()=>g(!0)),onBlur:at(o.onBlur,()=>g(!1)),onClick:at(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:at(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:at(o.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:at(o.onPointerMove,y=>{var b;w.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:at(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:at(o.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(E5.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});ZS.displayName=lm;var rc="SelectItemText",eC=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=wi(rc,n),l=ji(rc,n),c=JS(rc,n),d=M5(rc,n),[u,f]=m.useState(null),h=qt(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),g=u==null?void 0:u.textContent,v=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:w}=d;return mr(()=>(p(v),()=>w(v)),[p,w,v]),s.jsxs(s.Fragment,{children:[s.jsx(ct.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Sl.createPortal(i.children,o.valueNode):null]})});eC.displayName=rc;var tC="SelectItemIndicator",nC=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return JS(tC,n).isSelected?s.jsx(ct.span,{"aria-hidden":!0,...r,ref:t}):null});nC.displayName=tC;var Gp="SelectScrollUpButton",rC=m.forwardRef((e,t)=>{const n=ji(Gp,e.__scopeSelect),r=Mg(Gp,e.__scopeSelect),[a,i]=m.useState(!1),o=qt(t,r.onScrollButtonChange);return mr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(aC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});rC.displayName=Gp;var Xp="SelectScrollDownButton",sC=m.forwardRef((e,t)=>{const n=ji(Xp,e.__scopeSelect),r=Mg(Xp,e.__scopeSelect),[a,i]=m.useState(!1),o=qt(t,r.onScrollButtonChange);return mr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(aC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});sC.displayName=Xp;var aC=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=ji("SelectScrollButton",n),o=m.useRef(null),l=af(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),mr(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(ct.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:at(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:at(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:at(a.onPointerLeave,()=>{c()})})}),z5="SelectSeparator",iC=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(ct.div,{"aria-hidden":!0,...r,ref:t})});iC.displayName=z5;var Jp="SelectArrow",H5=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=of(n),i=wi(Jp,n),o=ji(Jp,n);return i.open&&o.position==="popper"?s.jsx(_S,{...a,...r,ref:t}):null});H5.displayName=Jp;function oC(e){return e===""||e===void 0}var lC=m.forwardRef((e,t)=>{const{value:n,...r}=e,a=m.useRef(null),i=qt(t,a),o=Xm(n);return m.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const f=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(f)}},[o,n]),s.jsx(DS,{asChild:!0,children:s.jsx("select",{...r,ref:i,defaultValue:n})})});lC.displayName="BubbleSelect";function cC(e){const t=Us(e),n=m.useRef(""),r=m.useRef(0),a=m.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function dC(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=V5(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function V5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var q5=FS,uC=$S,Q5=WS,K5=YS,G5=US,mC=zS,X5=QS,fC=XS,hC=ZS,J5=eC,Z5=nC,pC=rC,xC=sC,gC=iC;const Cn=q5,kn=Q5,yn=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(uC,{ref:r,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(K5,{asChild:!0,children:s.jsx(vN,{className:"h-4 w-4 opacity-50"})})]}));yn.displayName=uC.displayName;const yC=m.forwardRef(({className:e,...t},n)=>s.jsx(pC,{ref:n,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(fT,{className:"h-4 w-4"})}));yC.displayName=pC.displayName;const vC=m.forwardRef(({className:e,...t},n)=>s.jsx(xC,{ref:n,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(vN,{className:"h-4 w-4"})}));vC.displayName=xC.displayName;const vn=m.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(G5,{children:s.jsxs(mC,{ref:a,className:We("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(yC,{}),s.jsx(X5,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(vC,{})]})}));vn.displayName=mC.displayName;const eL=m.forwardRef(({className:e,...t},n)=>s.jsx(fC,{ref:n,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));eL.displayName=fC.displayName;const Ve=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(hC,{ref:r,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Z5,{children:s.jsx(Gi,{className:"h-4 w-4"})})}),s.jsx(J5,{children:t})]}));Ve.displayName=hC.displayName;const tL=m.forwardRef(({className:e,...t},n)=>s.jsx(gC,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));tL.displayName=gC.displayName;const nL=1,rL=1e6;let ph=0;function sL(){return ph=(ph+1)%Number.MAX_SAFE_INTEGER,ph.toString()}const xh=new Map,xb=e=>{if(xh.has(e))return;const t=setTimeout(()=>{xh.delete(e),pc({type:"REMOVE_TOAST",toastId:e})},rL);xh.set(e,t)},aL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,nL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?xb(n):e.toasts.forEach(r=>{xb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},hu=[];let pu={toasts:[]};function pc(e){pu=aL(pu,e),hu.forEach(t=>{t(pu)})}function St({...e}){const t=sL(),n=a=>pc({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>pc({type:"DISMISS_TOAST",toastId:t});return pc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function fn(){const[e,t]=m.useState(pu);return m.useEffect(()=>(hu.push(t),()=>{const n=hu.indexOf(t);n>-1&&hu.splice(n,1)}),[e]),{...e,toast:St,dismiss:n=>pc({type:"DISMISS_TOAST",toastId:n})}}const iL=({onLogin:e})=>{const[t,n]=m.useState("email"),[r,a]=m.useState("+263"),[i,o]=m.useState(""),[l,c]=m.useState(""),[d,u]=m.useState(!1),[f,h]=m.useState(!1),[g,v]=m.useState(""),[p,w]=m.useState(""),[x,y]=m.useState(""),[b,j]=m.useState(!1),[N,P]=m.useState(""),[C,S]=m.useState(""),[O,k]=m.useState(""),[F,B]=m.useState(!1),[ee,re]=m.useState(""),[J,q]=m.useState(""),[D,_]=m.useState(null),T=Br(),L=zs(),{toast:U}=fn(),z=async te=>{var E;te.preventDefault(),u(!0),B(!1);const de=t==="email"?i.trim().toLowerCase():`${r}${i.trim()}`;console.log("Submitting login with identifier:",de),t==="email"?console.log("Email identifier:",i):console.log("Phone identifier:",`${r}${i}`);try{const Z=await fetch(ot.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:de,password:l})}),W=await Z.json();if(console.log("Login response data:",W),Z.ok){if(W.requires_otp){j(!0),P(W.admin_user_id),U({title:"Admin verification required",description:"An OTP has been sent to your email and phone"}),u(!1);return}U({title:"Login successful",description:`Welcome back, ${W.user.first_name}`}),console.log("User data:",W.user);const be=W.user.id||"",Ye=W.token||"",Ze=W.user.first_name||"",tt=W.user.last_name||"",Ct=W.user.email||"",Mt=W.user.user_type||"",I=W.user.is_staff||!1,He=W.user.is_approved||!1;sessionStorage.setItem("user_id",be),sessionStorage.setItem("token",Ye);const gt=[Ze,tt].filter(Boolean).join(" ");sessionStorage.setItem("username",gt||Ct),sessionStorage.setItem("user_type",Mt),sessionStorage.setItem("is_approved",He.toString()),sessionStorage.setItem("is_staff",I?"true":"false"),console.log("onLogin function called"),e(),W.redirect?(console.log("Redirecting to:",W.redirect),T(W.redirect)):(E=L.state)!=null&&E.redirect_after_login?(console.log("Redirecting to:","/client/flights"),T("/client/flights")):W.user.is_staff?(console.log("Redirecting to:","/admin/dashboard"),T("/admin/dashboard")):(console.log("Redirecting to:","/client/dashboard"),T("/client/dashboard"))}else if(W.requires_verification)h(!0),v(W.email),U({variant:"destructive",title:"Email verification required"});else if(W.account_status)B(!0),re(W.error),q(W.approval_comment||""),_(W.account_status==="pending_approval"?"pending":"declined"),U({variant:"destructive",title:"Account Status",description:W.error});else{const be=W.error||"Invalid credentials. Please try again.";U({variant:"destructive",title:"Login failed",description:be})}}catch(Z){console.error("Login error:",Z),U({variant:"destructive",title:"Login failed",description:"Server error or cannot connect."})}finally{u(!1)}},G=async()=>{u(!0),k("");try{const te=await fetch(ot.VERIFY_ADMIN_OTP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({admin_user_id:N,otp_code:C})}),de=await te.json();if(te.ok){U({title:"Admin verification successful!",description:"Welcome to the admin dashboard."}),sessionStorage.setItem("user_id",de.admin_data.id||""),sessionStorage.setItem("token",de.token||"");const E=[de.admin_data.first_name,de.admin_data.last_name].filter(Boolean).join(" ");sessionStorage.setItem("username",E||de.admin_data.email),sessionStorage.setItem("is_staff","true"),e(),T("/admin/dashboard")}else k(de.error||"OTP verification failed")}catch{k("Could not verify OTP. Please try again.")}finally{u(!1)}},ye=async()=>{u(!0),k("");try{const te=await fetch(ot.RESEND_ADMIN_OTP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({admin_user_id:N})}),de=await te.json();te.ok?(U({title:"OTP code sent",description:"A new OTP has been sent to your email and phone."}),S("")):k(de.error||"Failed to resend OTP")}catch(te){console.error("Resend admin OTP error:",te),k("Could not send OTP. Please try again.")}finally{u(!1)}},Ce=async()=>{u(!0),y("");try{const te=await fetch(ot.RESEND_VERIFICATION,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g})}),de=await te.json();te.ok?(U({title:"Verification code sent",description:"A new verification code has been sent to your phone."}),w("")):y(de.error||"Failed to resend verification code")}catch(te){console.error("Resend code error:",te),y("Could not send verification code. Please try again.")}finally{u(!1)}},ge=async()=>{u(!0),y("");try{const te=await fetch(ot.VERIFY_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g,verification_code:p})}),de=await te.json();te.ok?(U({title:"Email verified successfully!",description:"You can now log in."}),Q()):y(de.error||"Email verification failed")}catch{y("Could not verify email. Please try again.")}finally{u(!1)}},Q=()=>{h(!1),B(!1),j(!1),o(""),c(""),w(""),S("")};return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ui,{size:"lg",className:"inline-block"}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:f?"Email Verification":b?"Admin Verification":F?"Account Status":"Welcome back"}),s.jsx("p",{className:"mt-2 text-gray-600",children:f?`Verify your email ${g}`:b?"Enter the OTP sent to your email and phone":F?D==="pending"?"Your account is under review.":"Your account has been declined.":"Sign in to your FastJet account"})]}),s.jsx(ae,{children:f?s.jsxs("div",{children:[s.jsx(pe,{children:s.jsx(xe,{children:"Email Verification"})}),s.jsxs(me,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm",children:"Enter the 6-digit verification code sent to your phone."}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"verification-code",children:"Verification Code"}),s.jsx(je,{id:"verification-code",value:p,onChange:te=>w(te.target.value),maxLength:6,placeholder:"Enter 6-digit code",className:"mb-2"})]}),x&&s.jsx("p",{className:"text-sm text-red-600",children:x})]}),s.jsxs(rr,{className:"flex flex-col gap-2",children:[s.jsx($,{onClick:ge,className:"w-full",disabled:d||p.length!==6,children:d?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify Email"}),s.jsx("div",{className:"w-full text-center",children:s.jsx("button",{type:"button",onClick:Ce,className:"text-sm text-blue-600 hover:underline mt-2",disabled:d,children:"Resend verification code"})}),s.jsx($,{variant:"ghost",onClick:Q,children:"Back to Login"})]})]}):b?s.jsxs("div",{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Admin OTP Verification"}),s.jsx(ke,{children:"Enter the OTP code sent to your email and phone"})]}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"admin-otp-code",children:"OTP Code"}),s.jsx(je,{id:"admin-otp-code",value:C,onChange:te=>S(te.target.value),maxLength:6,placeholder:"Enter 6-digit OTP",className:"mb-2"})]}),O&&s.jsx("p",{className:"text-sm text-red-600",children:O})]}),s.jsxs(rr,{className:"flex flex-col gap-2",children:[s.jsx($,{onClick:G,className:"w-full",disabled:d||C.length!==6,children:d?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify OTP"}),s.jsx("div",{className:"w-full text-center",children:s.jsx("button",{type:"button",onClick:ye,className:"text-sm text-blue-600 hover:underline mt-2",disabled:d,children:"Resend OTP code"})}),s.jsx($,{variant:"ghost",onClick:Q,children:"Cancel"})]})]}):F?s.jsxs("div",{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[D==="pending"?s.jsx(Hu,{className:"h-5 w-5 text-orange-500"}):s.jsx(yN,{className:"h-5 w-5 text-red-500"}),"Account ",D==="pending"?"Under Review":"Declined"]}),s.jsx(ke,{children:ee})]}),J&&s.jsxs(me,{children:[s.jsx(Y,{children:"Admin Comment:"}),s.jsx("p",{className:"text-sm text-gray-700 italic p-2 bg-gray-100 rounded-md",children:J})]}),s.jsx(rr,{children:s.jsx($,{variant:"ghost",onClick:Q,className:"w-full",children:"Back to Login"})})]}):s.jsxs("form",{onSubmit:z,children:[s.jsxs(me,{className:"pt-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Login with"}),s.jsxs(so,{defaultValue:"email",onValueChange:te=>n(te),className:"flex gap-4 mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"email",id:"r-email"}),s.jsx(Y,{htmlFor:"r-email",children:"Email"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"phone",id:"r-phone"}),s.jsx(Y,{htmlFor:"r-phone",children:"Phone Number"})]})]})]}),t==="email"?s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"email",children:"Email"}),s.jsx(je,{id:"email",type:"email",placeholder:"user@example.com",value:i,onChange:te=>o(te.target.value),required:!0})]}):s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"phone",children:"Phone Number"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Cn,{value:r,onValueChange:a,children:[s.jsx(yn,{className:"w-[100px]",children:s.jsx(kn,{placeholder:"Code"})}),s.jsxs(vn,{children:[s.jsx(Ve,{value:"+263",children:"ZW (+263)"}),s.jsx(Ve,{value:"+27",children:"SA (+27)"})]})]}),s.jsx(je,{id:"phone",type:"tel",placeholder:"771234567",value:i,onChange:te=>o(te.target.value),required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Y,{htmlFor:"password",children:"Password"}),s.jsx(Jt,{to:"/forgot-password",className:"text-sm font-medium text-blue-600 hover:underline",children:"Forgot password?"})]}),s.jsx(je,{id:"password",type:"password",placeholder:"Enter your password",value:l,onChange:te=>c(te.target.value),required:!0})]})]}),s.jsxs(rr,{className:"flex flex-col",children:[s.jsx($,{type:"submit",className:"w-full bg-yellow-400 hover:bg-yellow-500 text-gray-800",disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"}),s.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(Jt,{to:"/register",className:"font-medium text-blue-600 hover:underline",children:"Register now"})]})]})]})})]})})},oL=[{code:"+263",name:"Zimbabwe (+263)"},{code:"+1",name:"USA/Canada (+1)"},{code:"+44",name:"UK (+44)"},{code:"+27",name:"South Africa (+27)"},{code:"+254",name:"Kenya (+254)"},{code:"+234",name:"Nigeria (+234)"}],lL=[{value:"Falcon",label:"Falcon"},{value:"St George",label:"St George"},{value:"Other",label:"Other"}],cL=[{value:"BANCABC",label:"BANCABC"},{value:"CBZ",label:"CBZ"}],dL=()=>{const[e,t]=m.useState({registrationType:"individual",firstName:"",lastName:"",email:"",countryCode:"+263",phoneNumberLocal:"",password:"",confirmPassword:"",companyName:"",companyAddress:"",companyRegistrationNumber:"",tinTaxNumber:"",vatCertificate:null,corporateTaxDocument:null,certificateOfIncorporation:null,age:"",institution:"",customInstitution:"",studentId:"",birthCertificate:null,clubName:"",numberOfMembers:"",clubCardBank:"",accountNumber:""}),[n,r]=m.useState(""),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState({}),[h,g]=m.useState(""),[v,p]=m.useState(!0),[w,x]=m.useState(0),y=Br(),{toast:b}=fn(),j=`${oe}/users`,N=[/^(\+263|263|0)(77|78|71|73|74)\d{7}$/,/^(\+263|263|0)(24|25|26|27|28|29)\d{6}$/],P=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,C=T=>P.test(T),S=T=>N.some(L=>L.test(T)),O=()=>{const T={};e.firstName.trim()||(T.firstName="First Name is required."),e.lastName.trim()||(T.lastName="Last Name is required."),C(e.email)||(T.email="Please enter a valid email address.");const L=e.countryCode+e.phoneNumberLocal;return L.trim()?e.countryCode==="+263"&&!S(L)&&(T.phoneNumberLocal="Please enter a valid Zimbabwe phone number (e.g 771234567)."):T.phoneNumberLocal="Phone number is required.",e.password.length<8&&(T.password="Password must be at least 8 characters long."),e.password!==e.confirmPassword&&(T.confirmPassword="Passwords do not match."),e.registrationType==="corporate"&&(e.companyName.trim()||(T.companyName="Company name is required."),e.companyAddress.trim()||(T.companyAddress="Company address is required."),e.companyRegistrationNumber.trim()||(T.companyRegistrationNumber="Company registration number is required."),e.tinTaxNumber.trim()||(T.tinTaxNumber="TIN/TAX number is required."),e.vatCertificate||(T.vatCertificate="VAT Certificate is required."),e.corporateTaxDocument||(T.corporateTaxDocument="Corporate Tax Document is required."),e.certificateOfIncorporation||(T.certificateOfIncorporation="Certificate of Incorporation is required.")),e.registrationType==="student"&&((!e.age||Number.parseInt(e.age)<3||Number.parseInt(e.age)>120)&&(T.age="Age must be between 3 and 120."),e.institution||(T.institution="Institution is required."),e.institution==="Other"&&!e.customInstitution.trim()&&(T.customInstitution="Custom institution name is required if 'Other' is selected."),e.studentId.trim()||(T.studentId="Student ID is required."),e.birthCertificate||(T.birthCertificate="Birth Certificate is required.")),e.registrationType==="club"&&(e.clubName.trim()||(T.clubName="Club name is required."),(!e.numberOfMembers||Number.parseInt(e.numberOfMembers)<1)&&(T.numberOfMembers="Number of members must be at least 1."),e.clubCardBank||(T.clubCardBank="Club card bank is required."),e.accountNumber.trim()||(T.accountNumber="Account number is required.")),f(T),Object.keys(T).length===0},k=T=>{const{name:L,value:U}=T.target;t(z=>({...z,[L]:U})),u[L]&&f(z=>({...z,[L]:void 0}))},F=T=>{const{name:L,files:U}=T.target;U&&U.length>0?(t(z=>({...z,[L]:U[0]})),u[L]&&f(z=>({...z,[L]:void 0}))):t(z=>({...z,[L]:null}))},B=T=>L=>{t(U=>({...U,[T]:L})),u[T]&&f(U=>({...U,[T]:void 0}))},ee=T=>{t(L=>({...L,registrationType:T,companyName:"",companyAddress:"",companyRegistrationNumber:"",tinTaxNumber:"",vatCertificate:null,corporateTaxDocument:null,certificateOfIncorporation:null,age:"",institution:"",customInstitution:"",studentId:"",birthCertificate:null,clubName:"",numberOfMembers:"",clubCardBank:"",accountNumber:""})),f({})},re=async T=>{if(T.preventDefault(),!O()){b({variant:"destructive",title:"Validation Error",description:"Please fix the errors in the form before submitting."});return}l(!0);const L=new FormData;L.append("user_type",e.registrationType),L.append("first_name",e.firstName),L.append("last_name",e.lastName),L.append("email",e.email),L.append("phone_number",e.countryCode+e.phoneNumberLocal),L.append("password",e.password),L.append("confirm_password",e.confirmPassword),e.registrationType==="corporate"?(L.append("company_name",e.companyName),L.append("company_address",e.companyAddress),L.append("company_registration_number",e.companyRegistrationNumber),L.append("tin_tax_number",e.tinTaxNumber),e.vatCertificate&&L.append("vat_certificate",e.vatCertificate),e.corporateTaxDocument&&L.append("corporate_tax_document",e.corporateTaxDocument),e.certificateOfIncorporation&&L.append("certificate_of_incorporation",e.certificateOfIncorporation)):e.registrationType==="student"?(e.age&&L.append("age",e.age),e.institution&&L.append("institution",e.institution),e.institution==="Other"&&e.customInstitution&&L.append("custom_institution",e.customInstitution),e.studentId&&L.append("student_id",e.studentId),e.birthCertificate&&L.append("birth_certificate",e.birthCertificate)):e.registrationType==="club"&&(L.append("club_name",e.clubName),L.append("number_of_members",e.numberOfMembers),L.append("club_card_bank",e.clubCardBank),L.append("account_number",e.accountNumber));try{const U=await fetch(`${j}/register/`,{method:"POST",body:L}),z=await U.json();if(U.ok||z!=null&&z.user_created)b({title:"Registration successful!",description:"Please check your email for the verification code. You've also earned 50 loyalty points!"}),i(!0),D();else{let G="Something went wrong.";typeof z=="object"&&(G=Object.entries(z).map(([ge,Q])=>Array.isArray(Q)?`${ge}: ${Q.join(", ")}`:`${ge}: ${Q}`).join("; ")),b({variant:"destructive",title:"Registration failed",description:G});const ye={};z.email&&(ye.email=z.email[0]),z.phone_number&&(ye.phoneNumberLocal=z.phone_number[0]),z.password&&(ye.password=z.password[0]),z.company_name&&(ye.companyName=z.company_name[0]),z.club_name&&(ye.clubName=z.club_name[0]),z.number_of_members&&(ye.numberOfMembers=z.number_of_members[0]),z.club_card_bank&&(ye.clubCardBank=z.club_card_bank[0]),z.account_number&&(ye.accountNumber=z.account_number[0]),f(ye)}}catch{b({variant:"destructive",title:"Error",description:"Could not connect to backend. Please check your network or server status."})}finally{l(!1)}},J=async()=>{if(!n.trim()){g("Please enter the verification code");return}if(n.length!==6){g("Verification code must be 6 digits");return}l(!0),g("");try{const T=await fetch(`${j}/verify-email/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,verification_code:n})}),L=await T.json();if(T.ok)b({title:"Email verified successfully!",description:"Your account has been created. You can now log in."}),y("/login");else{const U=typeof L=="object"?Object.values(L).flat().join(", "):"Invalid verification code";g(U)}}catch{g("Could not verify code. Please try again.")}finally{l(!1)}},q=async()=>{if(v){d(!0),g("");try{const T=await fetch(`${j}/resend-verification/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email})}),L=await T.json();if(T.ok)b({title:"Code resent!",description:"A new verification code has been sent to your email."}),r(""),D();else{const U=typeof L=="object"?Object.values(L).flat().join(", "):"Could not resend code";g(U)}}catch{g("Could not resend code. Please try again.")}finally{d(!1)}}},D=()=>{p(!1),x(120);const T=setInterval(()=>{x(L=>L<=1?(p(!0),clearInterval(T),0):L-1)},1e3)},_=T=>{const L=Math.floor(T/60),U=T%60;return`${L}:${U.toString().padStart(2,"0")}`};return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ui,{size:"lg",className:"inline-block"}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Create your account"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Join FastJet Loyalty program today"})]}),s.jsx(ae,{children:a?s.jsxs("div",{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(gT,{className:"h-5 w-5"}),"Verify Your Email"]}),s.jsxs(ke,{children:["Enter the 6-digit verification code sent to"," ",s.jsxs("span",{className:"font-medium text-gray-900",children:["(",e.email,",",e.phoneNumberLocal,") "]})]})]}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"code",children:"Verification Code"}),s.jsx(je,{id:"code",name:"code",type:"text",placeholder:"Enter 6-digit code",value:n,onChange:T=>{const L=T.target.value.replace(/\D/g,"").slice(0,6);r(L),g("")},maxLength:6,className:h?"border-red-500":""}),h&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[s.jsx(Ur,{className:"h-4 w-4"}),h]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Didn't receive the code?"}),s.jsx($,{variant:"outline",size:"sm",onClick:q,disabled:!v||c,className:"text-fastjet-blue bg-transparent",children:c?s.jsxs(s.Fragment,{children:[s.jsx(kl,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):v?"Resend Code":`Resend in ${_(w)}`})]})]}),s.jsxs(rr,{className:"flex flex-col space-y-2",children:[s.jsx($,{onClick:J,className:"w-full bg-fastjet-blue hover:bg-fastjet-darkBlue",disabled:o||!n.trim(),children:o?"Verifying...":"Verify Email"}),s.jsx($,{variant:"ghost",onClick:()=>i(!1),children:"Go Back to Registration"})]})]}):s.jsxs("form",{onSubmit:re,children:[s.jsxs(me,{className:"pt-6 space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{className:"text-base font-medium",children:"Registration Type"}),s.jsxs(so,{value:e.registrationType,onValueChange:ee,className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"individual",id:"individual"}),s.jsx(Y,{htmlFor:"individual",children:"Individual"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"corporate",id:"corporate"}),s.jsx(Y,{htmlFor:"corporate",children:"Corporate"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"student",id:"student"}),s.jsx(Y,{htmlFor:"student",children:"Student"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"club",id:"club"}),s.jsx(Y,{htmlFor:"club",children:"Club"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"firstName",children:e.registrationType==="corporate"||e.registrationType==="club"?"Contact First Name":"First Name"}),s.jsx(je,{id:"firstName",name:"firstName",type:"text",value:e.firstName,onChange:k,required:!0,className:u.firstName?"border-red-500":""}),u.firstName&&s.jsx("p",{className:"text-sm text-red-600",children:u.firstName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"lastName",children:e.registrationType==="corporate"||e.registrationType==="club"?"Contact Last Name":"Last Name"}),s.jsx(je,{id:"lastName",name:"lastName",type:"text",value:e.lastName,onChange:k,required:!0,className:u.lastName?"border-red-500":""}),u.lastName&&s.jsx("p",{className:"text-sm text-red-600",children:u.lastName})]})]}),e.registrationType==="corporate"&&s.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Company Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"companyName",children:"Company Name"}),s.jsx(je,{id:"companyName",name:"companyName",type:"text",value:e.companyName,onChange:k,required:!0,className:u.companyName?"border-red-500":""}),u.companyName&&s.jsx("p",{className:"text-sm text-red-600",children:u.companyName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"companyAddress",children:"Company Address"}),s.jsx(je,{id:"companyAddress",name:"companyAddress",type:"text",value:e.companyAddress,onChange:k,required:!0,className:u.companyAddress?"border-red-500":""}),u.companyAddress&&s.jsx("p",{className:"text-sm text-red-600",children:u.companyAddress})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"companyRegistrationNumber",children:"Company Registration Number"}),s.jsx(je,{id:"companyRegistrationNumber",name:"companyRegistrationNumber",type:"text",value:e.companyRegistrationNumber,onChange:k,required:!0,className:u.companyRegistrationNumber?"border-red-500":""}),u.companyRegistrationNumber&&s.jsx("p",{className:"text-sm text-red-600",children:u.companyRegistrationNumber})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"tinTaxNumber",children:"TIN/TAX Number"}),s.jsx(je,{id:"tinTaxNumber",name:"tinTaxNumber",type:"text",value:e.tinTaxNumber,onChange:k,required:!0,className:u.tinTaxNumber?"border-red-500":""}),u.tinTaxNumber&&s.jsx("p",{className:"text-sm text-red-600",children:u.tinTaxNumber})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Company Documents"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"vatCertificate",children:"VAT Certificate"}),s.jsx(je,{id:"vatCertificate",name:"vatCertificate",type:"file",onChange:F,required:!0,className:u.vatCertificate?"border-red-500":""}),u.vatCertificate&&s.jsx("p",{className:"text-sm text-red-600",children:u.vatCertificate})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"corporateTaxDocument",children:"Corporate Tax Document"}),s.jsx(je,{id:"corporateTaxDocument",name:"corporateTaxDocument",type:"file",onChange:F,required:!0,className:u.corporateTaxDocument?"border-red-500":""}),u.corporateTaxDocument&&s.jsx("p",{className:"text-sm text-red-600",children:u.corporateTaxDocument})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"certificateOfIncorporation",children:"Certificate of Incorporation"}),s.jsx(je,{id:"certificateOfIncorporation",name:"certificateOfIncorporation",type:"file",onChange:F,required:!0,className:u.certificateOfIncorporation?"border-red-500":""}),u.certificateOfIncorporation&&s.jsx("p",{className:"text-sm text-red-600",children:u.certificateOfIncorporation})]})]})]}),e.registrationType==="student"&&s.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Student Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"age",children:"Age"}),s.jsx(je,{id:"age",name:"age",type:"number",value:e.age,onChange:k,required:!0,min:"3",max:"120",className:u.age?"border-red-500":""}),u.age&&s.jsx("p",{className:"text-sm text-red-600",children:u.age})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"studentId",children:"Student ID"}),s.jsx(je,{id:"studentId",name:"studentId",type:"text",value:e.studentId,onChange:k,required:!0,className:u.studentId?"border-red-500":""}),u.studentId&&s.jsx("p",{className:"text-sm text-red-600",children:u.studentId})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"institution",children:"Institution"}),s.jsxs(Cn,{value:e.institution,onValueChange:B("institution"),required:!0,children:[s.jsx(yn,{className:u.institution?"border-red-500":"",children:s.jsx(kn,{placeholder:"Select institution"})}),s.jsx(vn,{children:lL.map(T=>s.jsx(Ve,{value:T.value,children:T.label},T.value))})]}),u.institution&&s.jsx("p",{className:"text-sm text-red-600",children:u.institution})]}),e.institution==="Other"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"customInstitution",children:"Specify Institution"}),s.jsx(je,{id:"customInstitution",name:"customInstitution",type:"text",value:e.customInstitution,onChange:k,required:!0,className:u.customInstitution?"border-red-500":""}),u.customInstitution&&s.jsx("p",{className:"text-sm text-red-600",children:u.customInstitution})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"birthCertificate",children:"Birth Certificate"}),s.jsx(je,{id:"birthCertificate",name:"birthCertificate",type:"file",onChange:F,required:!0,className:u.birthCertificate?"border-red-500":""}),u.birthCertificate&&s.jsx("p",{className:"text-sm text-red-600",children:u.birthCertificate})]})]}),e.registrationType==="club"&&s.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Club Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"clubName",children:"Club Registration Name"}),s.jsx(je,{id:"clubName",name:"clubName",type:"text",value:e.clubName,onChange:k,required:!0,className:u.clubName?"border-red-500":""}),u.clubName&&s.jsx("p",{className:"text-sm text-red-600",children:u.clubName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"numberOfMembers",children:"Number of Members"}),s.jsx(je,{id:"numberOfMembers",name:"numberOfMembers",type:"number",value:e.numberOfMembers,onChange:k,required:!0,min:"1",className:u.numberOfMembers?"border-red-500":""}),u.numberOfMembers&&s.jsx("p",{className:"text-sm text-red-600",children:u.numberOfMembers})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"clubCardBank",children:"Club Card Bank"}),s.jsxs(Cn,{value:e.clubCardBank,onValueChange:B("clubCardBank"),required:!0,children:[s.jsx(yn,{className:u.clubCardBank?"border-red-500":"",children:s.jsx(kn,{placeholder:"Select bank"})}),s.jsx(vn,{children:cL.map(T=>s.jsx(Ve,{value:T.value,children:T.label},T.value))})]}),u.clubCardBank&&s.jsx("p",{className:"text-sm text-red-600",children:u.clubCardBank})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"accountNumber",children:"Bank Account Number"}),s.jsx(je,{id:"accountNumber",name:"accountNumber",type:"text",value:e.accountNumber,onChange:k,required:!0,className:u.accountNumber?"border-red-500":""}),u.accountNumber&&s.jsx("p",{className:"text-sm text-red-600",children:u.accountNumber})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"phoneNumberLocal",children:"Phone Number"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Cn,{value:e.countryCode,onValueChange:B("countryCode"),children:[s.jsx(yn,{className:"w-[120px]",children:s.jsx(kn,{placeholder:"Code"})}),s.jsx(vn,{children:oL.map(T=>s.jsx(Ve,{value:T.code,children:T.code},T.code))})]}),s.jsx(je,{id:"phoneNumberLocal",name:"phoneNumberLocal",type:"tel",placeholder:"",value:e.phoneNumberLocal,onChange:k,required:!0,className:u.phoneNumberLocal?"border-red-500":""})]}),u.phoneNumberLocal&&s.jsx("p",{className:"text-sm text-red-600",children:u.phoneNumberLocal}),s.jsx("p",{className:"text-xs text-gray-500",children:"A verification code will be sent to this number."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email",children:"Email Address"}),s.jsx(je,{id:"email",name:"email",type:"email",placeholder:"your.email@domain.com",value:e.email,onChange:k,required:!0,className:u.email?"border-red-500":""}),u.email&&s.jsx("p",{className:"text-sm text-red-600",children:u.email}),s.jsx("p",{className:"text-xs text-gray-500",children:"A verification code will be sent to this email address."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"password",children:"Password"}),s.jsx(je,{id:"password",name:"password",type:"password",value:e.password,onChange:k,required:!0,className:u.password?"border-red-500":""}),u.password&&s.jsx("p",{className:"text-sm text-red-600",children:u.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(je,{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:k,required:!0,className:u.confirmPassword?"border-red-500":""}),u.confirmPassword&&s.jsx("p",{className:"text-sm text-red-600",children:u.confirmPassword})]})]})]}),s.jsxs(rr,{className:"flex flex-col",children:[s.jsx($,{type:"submit",className:"w-full bg-fastjet-blue hover:bg-fastjet-darkBlue",disabled:o,children:o?"Creating Account...":"Create Account"}),s.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Jt,{to:"/login",className:"font-medium text-fastjet-blue hover:underline",children:"Sign in"})]})]})]})})]})})};var Og="Tabs",[uL,CB]=bi(Og,[Km]),bC=Km(),[mL,Ag]=uL(Og),wC=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=qm(l),[f,h]=va({prop:r,onChange:a,defaultProp:i});return s.jsx(mL,{scope:n,baseId:ua(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:c,children:s.jsx(ct.div,{dir:u,"data-orientation":o,...d,ref:t})})});wC.displayName=Og;var jC="TabsList",NC=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=Ag(jC,n),o=bC(n);return s.jsx(X1,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(ct.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});NC.displayName=jC;var SC="TabsTrigger",CC=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=Ag(SC,n),l=bC(n),c=DC(o.baseId,r),d=EC(o.baseId,r),u=r===o.value;return s.jsx(J1,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(ct.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:at(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:at(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:at(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(r)})})})});CC.displayName=SC;var kC="TabsContent",_C=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=Ag(kC,n),c=DC(l.baseId,r),d=EC(l.baseId,r),u=r===l.value,f=m.useRef(u);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(ja,{present:a||u,children:({present:h})=>s.jsx(ct.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});_C.displayName=kC;function DC(e,t){return`${e}-trigger-${t}`}function EC(e,t){return`${e}-content-${t}`}var fL=wC,PC=NC,TC=CC,RC=_C;const es=fL,Fr=m.forwardRef(({className:e,...t},n)=>s.jsx(PC,{ref:n,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Fr.displayName=PC.displayName;const rt=m.forwardRef(({className:e,...t},n)=>s.jsx(TC,{ref:n,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));rt.displayName=TC.displayName;const st=m.forwardRef(({className:e,...t},n)=>s.jsx(RC,{ref:n,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));st.displayName=RC.displayName;const hL=Jc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function it({className:e,variant:t,...n}){return s.jsx("div",{className:We(hL({variant:t}),e),...n})}var Ig="Dialog",[MC,kB]=bi(Ig),[pL,js]=MC(Ig),OC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d=!1,u]=va({prop:r,defaultProp:a,onChange:i});return s.jsx(pL,{scope:t,triggerRef:l,contentRef:c,contentId:ua(),titleId:ua(),descriptionId:ua(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};OC.displayName=Ig;var AC="DialogTrigger",IC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=js(AC,n),i=qt(t,a.triggerRef);return s.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$g(a.open),...r,ref:i,onClick:at(e.onClick,a.onOpenToggle)})});IC.displayName=AC;var Fg="DialogPortal",[xL,FC]=MC(Fg,{forceMount:void 0}),LC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=js(Fg,t);return s.jsx(xL,{scope:t,forceMount:n,children:m.Children.map(r,o=>s.jsx(ja,{present:n||i.open,children:s.jsx(tf,{asChild:!0,container:a,children:o})}))})};LC.displayName=Fg;var cm="DialogOverlay",$C=m.forwardRef((e,t)=>{const n=FC(cm,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=js(cm,e.__scopeDialog);return i.modal?s.jsx(ja,{present:r||i.open,children:s.jsx(gL,{...a,ref:t})}):null});$C.displayName=cm;var gL=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=js(cm,n);return s.jsx(rf,{as:di,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(ct.div,{"data-state":$g(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),io="DialogContent",BC=m.forwardRef((e,t)=>{const n=FC(io,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=js(io,e.__scopeDialog);return s.jsx(ja,{present:r||i.open,children:i.modal?s.jsx(yL,{...a,ref:t}):s.jsx(vL,{...a,ref:t})})});BC.displayName=io;var yL=m.forwardRef((e,t)=>{const n=js(io,e.__scopeDialog),r=m.useRef(null),a=qt(t,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Rg(i)},[]),s.jsx(WC,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:at(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:at(e.onFocusOutside,i=>i.preventDefault())})}),vL=m.forwardRef((e,t)=>{const n=js(io,e.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return s.jsx(WC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),WC=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=js(io,n),c=m.useRef(null),d=qt(t,c);return Dg(),s.jsxs(s.Fragment,{children:[s.jsx(Zm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Jm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$g(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(bL,{titleId:l.titleId}),s.jsx(jL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Lg="DialogTitle",YC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=js(Lg,n);return s.jsx(ct.h2,{id:a.titleId,...r,ref:t})});YC.displayName=Lg;var UC="DialogDescription",zC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=js(UC,n);return s.jsx(ct.p,{id:a.descriptionId,...r,ref:t})});zC.displayName=UC;var HC="DialogClose",VC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=js(HC,n);return s.jsx(ct.button,{type:"button",...r,ref:t,onClick:at(e.onClick,()=>a.onOpenChange(!1))})});VC.displayName=HC;function $g(e){return e?"open":"closed"}var qC="DialogTitleWarning",[_B,QC]=FF(qC,{contentName:io,titleName:Lg,docsSlug:"dialog"}),bL=({titleId:e})=>{const t=QC(qC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},wL="DialogDescriptionWarning",jL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QC(wL).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},KC=OC,GC=IC,XC=LC,lf=$C,cf=BC,df=YC,uf=zC,JC=VC;const Kt=KC,Uc=GC,NL=XC,ZC=m.forwardRef(({className:e,...t},n)=>s.jsx(lf,{ref:n,className:We("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ZC.displayName=lf.displayName;const zt=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(NL,{children:[s.jsx(ZC,{}),s.jsxs(cf,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(JC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Ji,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zt.displayName=cf.displayName;const Ht=({className:e,...t})=>s.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ht.displayName="DialogHeader";const Sn=({className:e,...t})=>s.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Sn.displayName="DialogFooter";const Vt=m.forwardRef(({className:e,...t},n)=>s.jsx(df,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",e),...t}));Vt.displayName=df.displayName;const rn=m.forwardRef(({className:e,...t},n)=>s.jsx(uf,{ref:n,className:We("text-sm text-muted-foreground",e),...t}));rn.displayName=uf.displayName;const SL=Jc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),si=m.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:We(SL({variant:t}),e),...n}));si.displayName="Alert";const xc=m.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:We("mb-1 font-medium leading-none tracking-tight",e),...t}));xc.displayName="AlertTitle";const ai=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:We("text-sm [&_p]:leading-relaxed",e),...t}));ai.displayName="AlertDescription";const Ni=(e={})=>{const{timeout:t=30*60*1e3,warningTime:n=2*60*1e3,onTimeout:r,onWarning:a}=e,i=Br(),{toast:o}=fn(),l=m.useRef(null),c=m.useRef(null),d=m.useRef(Date.now()),u=m.useRef(!1),f=m.useCallback(()=>{sessionStorage.removeItem("token"),sessionStorage.removeItem("user_id"),sessionStorage.removeItem("username"),sessionStorage.removeItem("is_staff"),localStorage.removeItem("admin_dashboard_users"),localStorage.removeItem("admin_dashboard_redemptions"),localStorage.removeItem("admin_flight_stats"),o({title:" Session Expired",description:"You have been logged out due to inactivity. Please log in again.",variant:"destructive",duration:8e3}),r&&r(),i("/login")},[i,o,r]),h=m.useCallback(()=>{if(u.current)return;u.current=!0;const x=Math.floor(n/6e4);o({title:" Session Expiring Soon",description:`Your session will expire in ${x} minute${x>1?"s":""} due to inactivity. Move your mouse or press any key to stay logged in.`,variant:"default",duration:1e4}),a&&a()},[o,n,a]),g=m.useCallback(()=>{const x=Date.now();d.current=x,u.current=!1,l.current&&clearTimeout(l.current),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{h()},t-n),l.current=setTimeout(()=>{f()},t)},[t,n,h,f]),v=m.useCallback(()=>!!sessionStorage.getItem("token"),[]);m.useEffect(()=>{if(!v())return;const x=["mousedown","mousemove","keypress","scroll","touchstart","click"];return x.forEach(y=>{document.addEventListener(y,g)}),g(),()=>{x.forEach(y=>{document.removeEventListener(y,g)}),l.current&&clearTimeout(l.current),c.current&&clearTimeout(c.current)}},[g,v]);const p=m.useCallback(()=>{f()},[f]),w=m.useCallback(()=>{const x=Date.now()-d.current,y=t-x;return Math.max(0,y)},[t]);return{logout:p,resetTimeout:g,getRemainingTime:w}},CL=()=>{const{toast:e}=fn();Ni({timeout:30*60*1e3,warningTime:2*60*1e3});const[t,n]=m.useState([]),[r,a]=m.useState(0),[i,o]=m.useState("User"),[l,c]=m.useState(!0),[d,u]=m.useState(null),[f,h]=m.useState("individual"),[g,v]=m.useState([]),[p,w]=m.useState([]),[x,y]=m.useState([]),[b,j]=m.useState(!1),[N,P]=m.useState(new Date),[C,S]=m.useState(null),[O,k]=m.useState(!1),[F,B]=m.useState(!1),ee=m.useRef(!1),[re,J]=m.useState(!1),[q,D]=m.useState(!1),[_,T]=m.useState("free_flight"),[L,U]=m.useState(""),[z,G]=m.useState(""),[ye,Ce]=m.useState(!1),[ge,Q]=m.useState(null),[te,de]=m.useState(null),[E,Z]=m.useState(!1),W=1e3,be=()=>{const K=sessionStorage.getItem("user_id"),ie=sessionStorage.getItem("token");return!K||!ie?(S("Authentication required"),e({title:"Session Expired",description:"Please log in again.",variant:"destructive"}),null):{userId:K,token:ie}},Ye=(K,ie)=>{console.error(ie,K),S(ie),e({title:"Error",description:ie,variant:"destructive"})},Ze=async(K,ie={})=>{const Fe=be();if(!Fe)return null;const ue=await fetch(K,{...ie,headers:{"Content-Type":"application/json",Authorization:`Token ${Fe.token}`}});if(!ue.ok)throw new Error(`Error ${ue.status}`);return ue.json()},tt=async()=>{try{const K=await Ze(ot.LOGGED_IN_USER);if(!K)return;const ie=K.balances||[];n(ie.map(Fe=>({currency:Fe.currency,balance:parseFloat(Fe.balance)}))),c(K.user.is_approved),u(K.user.approval_comment),h(K.user.user_type),o(K.user.first_name||"User")}catch(K){Ye(K,"Failed to load user data")}},Ct=m.useCallback(async()=>{try{const K=be();if(!K)return;const ie=await fetch(`${ot.LOYALTY_POINTS}?user_id=${K.userId}`,{headers:{Authorization:`Token ${K.token}`}});if(ie.ok){const Fe=await ie.json();a(Fe.points||0)}}catch{}},[]),Mt=async()=>{const K=be();if(K){k(!0);try{const ie=await Ze(`${ot.GET_BOOKINGS}?user_id=${K.userId}`);ie&&v(ie)}catch(ie){Ye(ie,"Failed to load bookings")}finally{k(!1)}}},I=async()=>{const K=be();if(K){J(!0);try{const ie=`${ot.CREDIT_BOOKINGS}?user_id=${K.userId}`,Fe=await Be.get(ie,{headers:{Authorization:`Token ${K.token}`}}),ue=Array.isArray(Fe.data)?Fe.data:[];y(ue.map(Ne=>({...Ne,status:Ne.status==="rejected"?"declined":Ne.status})))}catch(ie){console.error(ie),y([])}finally{J(!1)}}},He=m.useCallback(async()=>{if(ee.current)return;const K=be();if(K){ee.current=!0,B(!0);try{const ie=await Ze(`${ot.LAYBUY_BOOKINGS}?user_id=${K.userId}`);ie&&(w(ie),de(new Date))}catch(ie){Ye(ie,"Failed to load Fast-Bye bookings")}finally{B(!1),ee.current=!1}}},[]),gt=async(K,ie)=>{const Fe=be();if(!Fe)return;const ue=`${K}-${ie}`;Q(ue);try{const Ne=await fetch(ot.PAY_INSTALLMENT,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${Fe.token}`},body:JSON.stringify({booking_id:K,installment_number:ie,payment_method:"wallet"})}),Le=await Ne.json();Ne.ok?(e({title:"Installment Paid",description:Le.message||`Installment ${ie} paid.`}),await Promise.all([He(),tt()])):e({title:"Payment Failed",description:Le.error||"Could not process installment",variant:"destructive"})}catch{e({title:"Error",description:"Unexpected error paying installment",variant:"destructive"})}finally{Q(null)}},Tt=m.useCallback(async()=>{if(!b){j(!0);try{await Promise.all([tt(),Ct(),Mt(),He(),I()]),P(new Date),e({title:"Dashboard Updated",description:"Your dashboard data has been refreshed."})}catch(K){S(K.message||"Failed to refresh dashboard"),e({title:"Refresh Failed",description:"Could not update data.",variant:"destructive"})}finally{j(!1)}}},[b,He,Ct]);m.useEffect(()=>{Tt()},[]);const ln=K=>new Date(K).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),hn=K=>{var ie,Fe;return((Fe=(ie=t.find(ue=>ue.currency===K))==null?void 0:ie.balance)==null?void 0:Fe.toFixed(2))||"0.00"},Ie=K=>{const ie={confirmed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"};return s.jsx(it,{className:ie[K]||ie.pending,children:K})},R=K=>{const ie={pending:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"};return s.jsx(it,{className:ie[K]||ie.pending,children:K})},he=K=>{const ie={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",declined:"bg-red-100 text-red-800"};return s.jsx(it,{className:ie[K]||ie.pending,children:K.charAt(0).toUpperCase()+K.slice(1)})},Te=async()=>{const K=sessionStorage.getItem("token"),ie=sessionStorage.getItem("user_id");if(!(!K||!ie)){Ce(!0);try{if(_==="free_flight"&&r<W){e({title:"Not Eligible",description:`Free flight requires at least ${W} points.`,variant:"destructive"}),Ce(!1);return}const Fe={user_id:ie,redemption_type:_};_==="free_flight"&&(L&&(Fe.flight_route=L),z&&(Fe.preferred_date=z));const ue=await fetch(ot.LOYALTY_REDEMPTIONS,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${K}`},body:JSON.stringify(Fe)}),Ne=await ue.json();ue.ok?(e({title:"Redemption Requested",description:"Awaiting admin approval."}),D(!1),tt()):e({title:"Redemption Failed",description:Ne.error||"Check points",variant:"destructive"})}catch{e({title:"Error",description:"Could not submit redemption",variant:"destructive"})}finally{Ce(!1)}}},{pendingInstallments:Oe,overdueInstallments:De,creditSummary:Re}=m.useMemo(()=>{const K=p.flatMap(ue=>(ue.installments||[]).filter(Ne=>Ne.status==="pending")),ie=p.flatMap(ue=>(ue.installments||[]).filter(Ne=>Ne.status==="overdue")),Fe=x.reduce((ue,Ne)=>(ue[Ne.status]=(ue[Ne.status]||0)+1,ue),{});return{pendingInstallments:K,overdueInstallments:ie,creditSummary:Fe}},[p,x]),qe=m.useMemo(()=>{if(!p.length)return{totalBookings:0,completedBookings:0,activeBookings:0,totalInstallments:0,completedInstallments:0,outstandingInstallments:0,outstandingAmount:0,nextDue:null};let K=0,ie=0,Fe=0,ue=0,Ne=0,Le=null;return p.forEach(Lt=>{const pn=Lt.installments||[],Qe=pn.length,pr=pn.filter(wn=>wn.status==="completed").length,dt=pn.filter(wn=>wn.status==="pending"),Mn=pn.filter(wn=>wn.status==="overdue");K+=Qe,ie+=pr;const Nt=[...dt,...Mn];Fe+=Nt.length,Nt.forEach(wn=>{const kr=parseFloat(wn.amount)||0;ue+=kr}),Qe>0&&pr===Qe&&(Ne+=1);const ts=dt.sort((wn,kr)=>new Date(wn.due_date).getTime()-new Date(kr.due_date).getTime())[0];if(ts){const wn=new Date(ts.due_date);(!Le||wn<Le)&&(Le=wn)}}),{totalBookings:p.length,completedBookings:Ne,activeBookings:p.length-Ne,totalInstallments:K,completedInstallments:ie,outstandingInstallments:Fe,outstandingAmount:parseFloat(ue.toFixed(2)),nextDue:Le}},[p]),Gt=(f==="corporate"||f==="student")&&!l,En={title:"Double Points Weekend",description:"Earn 2x points on all flights this weekend!",points:40};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#FFC20E] to-[#FFE27A] text-gray-900 p-4 mb-6 rounded-lg border border-[#F2B800]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:En.title}),s.jsx("p",{className:"text-gray-700",children:En.description})]}),s.jsxs("div",{className:"bg-white/60 rounded-full px-3 py-1 text-sm font-medium",children:["+",En.points," pts"]})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome, ",i]}),s.jsx("p",{className:"text-gray-600",children:"Manage your rewards and bookings"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Last updated: ",N.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0,day:"numeric",month:"short"})]}),s.jsx($,{variant:"outline",size:"sm",onClick:b?void 0:Tt,disabled:b,className:"flex items-center gap-2",children:b?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Refreshing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kl,{className:"h-4 w-4"}),"Refresh Data"]})})]})]}),C&&s.jsxs(si,{variant:"destructive",className:"mb-6",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsx(xc,{children:"Error"}),s.jsx(ai,{children:C})]}),Gt&&s.jsxs(si,{variant:d?"destructive":"default",className:"mb-6",children:[d?s.jsx(yN,{className:"h-4 w-4"}):s.jsx(Hu,{className:"h-4 w-4"}),s.jsxs(xc,{children:["Account ",d?"Declined":"Under Review"]}),s.jsx(ai,{children:d?s.jsxs(s.Fragment,{children:["Your ",f," account has been declined. Reason: ",s.jsx("span",{className:"font-semibold",children:d}),"."]}):`Your ${f} account is currently under review.`})]}),De.length>0&&s.jsxs(si,{variant:"destructive",className:"mb-6",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsx(xc,{children:"Overdue Installment Payments"}),s.jsxs(ai,{children:["You have ",De.length," overdue installment payment(s)."]})]}),s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-6 mb-8 ${Gt?"opacity-50 pointer-events-none":""}`,children:[s.jsxs(ae,{children:[s.jsxs(pe,{className:"bg-[#FFC20E] rounded-t-md",children:[s.jsx(xe,{className:"text-gray-900",children:"FastJet Wallet"}),s.jsx(ke,{className:"text-gray-700",children:"Manage and top up your balances"})]}),s.jsx(me,{children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:gap-6",children:[s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"USD Wallet"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",hn("USD")]}),s.jsx($,{size:"sm",className:"mt-2",asChild:!0,children:s.jsx(Jt,{to:"/client/wallet?currency=USD",children:"Top Up USD"})})]}),s.jsxs("div",{className:"flex-1 text-center opacity-50 pointer-events-none",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"ZAR Wallet (Disabled)"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-400",children:["R",hn("ZAR")]}),s.jsx($,{size:"sm",className:"mt-2",disabled:!0,children:"Top Up ZAR"})]})]})})]}),s.jsxs(ae,{children:[s.jsxs(pe,{className:"bg-[#FFC20E] rounded-t-md",children:[s.jsxs(xe,{className:"text-gray-900 flex items-center gap-2",children:[s.jsx(ul,{className:"h-5 w-5"}),"Fast Points"]}),s.jsxs(ke,{className:"text-gray-700",children:["Free flight at ",W,"+ pts"]})]}),s.jsxs(me,{className:"pt-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r}),s.jsx("p",{className:"text-sm text-gray-500",children:"Available Points"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress to 2000"}),s.jsxs("span",{children:[Math.min(r,2e3)," / 2000"]})]}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#FFC20E]",style:{width:`${Math.min(r,2e3)/2e3*100}%`}})}),s.jsx("p",{className:"text-xs text-center text-gray-500",children:r>=W?"Eligible for free flight redemption":`Need ${W-r} more points to reach ${W}`}),s.jsxs("div",{className:"pt-4 border-t mt-4",children:[s.jsx($,{size:"sm",className:"w-full",disabled:r<W,onClick:()=>{T("free_flight"),D(!0)},children:"Redeem Free Flight"}),s.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 text-center",children:["Requires at least ",W," points"]})]})]})]})]}),s.jsxs(ae,{children:[s.jsxs(pe,{className:"bg-[#FFC20E] rounded-t-md",children:[s.jsxs(xe,{className:"text-gray-900 flex items-center",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2"}),"FastJet Credit Application"]}),s.jsx(ke,{className:"text-gray-700",children:"These are your credit applications"})]}),s.jsxs(me,{children:[re?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(Dt,{className:"h-5 w-5 animate-spin text-gray-700"})}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-[11px]",children:[s.jsxs("div",{className:"p-2 bg-yellow-50 rounded border",children:[s.jsx("p",{className:"font-semibold",children:"Pending"}),s.jsx("p",{className:"text-sm",children:(Re==null?void 0:Re.pending)||0})]}),s.jsxs("div",{className:"p-2 bg-green-50 rounded border",children:[s.jsx("p",{className:"font-semibold",children:"Approved"}),s.jsx("p",{className:"text-sm",children:(Re==null?void 0:Re.approved)||0})]}),s.jsxs("div",{className:"p-2 bg-red-50 rounded border",children:[s.jsx("p",{className:"font-semibold",children:"Rejected"}),s.jsx("p",{className:"text-sm",children:((Re==null?void 0:Re.rejected)||0)+((Re==null?void 0:Re.declined)||0)})]})]}),x.length===0?s.jsx("p",{className:"text-xs text-gray-600",children:"No applications yet."}):s.jsx("div",{className:"space-y-2 text-[11px]",children:x.slice(0,2).map(K=>s.jsxs("div",{className:"flex justify-between border p-2 rounded",children:[s.jsxs("span",{children:["$",K.amount||"N/A"]}),he(K.status||"pending")]},K.id))})]}),s.jsx($,{variant:"outline",className:"w-full mt-3",asChild:!0,children:s.jsxs(Jt,{to:"/client/credit",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2"}),"New Credit Application"]})})]})]}),s.jsxs(ae,{children:[s.jsxs(pe,{className:"bg-[#FFC20E] rounded-t-md",children:[s.jsxs(xe,{className:"text-gray-900 flex items-center gap-2",children:[s.jsx(Ha,{className:"h-4 w-4"}),"Fast-Bye Application",F&&s.jsx(Dt,{className:"h-3 w-3 animate-spin text-gray-700"})]}),s.jsxs(ke,{className:"text-gray-700 flex items-center justify-between w-full",children:["These are your Lay-Bye bookings (refresh to update)",te&&s.jsxs("span",{className:"text-[10px] text-gray-600 ml-auto",children:["Updated ",te.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsxs(me,{children:[s.jsxs("div",{className:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-3 text-[11px]",children:[s.jsxs("div",{className:"p-2 rounded border bg-white/60",children:[s.jsx("p",{className:"font-semibold",children:"Active"}),s.jsx("p",{className:"text-sm font-bold",children:qe.activeBookings})]}),s.jsxs("div",{className:"p-2 rounded border bg-white/60",children:[s.jsx("p",{className:"font-semibold",children:"Completed"}),s.jsx("p",{className:"text-sm font-bold text-green-600",children:qe.completedBookings})]}),s.jsxs("div",{className:"p-2 rounded border bg-white/60",children:[s.jsx("p",{className:"font-semibold",children:"Outstanding Inst."}),s.jsx("p",{className:"text-sm font-bold text-orange-600",children:qe.outstandingInstallments})]}),s.jsxs("div",{className:"p-2 rounded border bg-white/60",children:[s.jsx("p",{className:"font-semibold",children:"Outstanding $"}),s.jsxs("p",{className:"text-sm font-bold text-red-600",children:["$",qe.outstandingAmount]})]})]}),qe.totalInstallments>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-[10px] mb-1",children:[s.jsx("span",{children:"Overall Progress"}),s.jsxs("span",{children:[qe.completedInstallments,"/",qe.totalInstallments]})]}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500",style:{width:`${qe.completedInstallments/qe.totalInstallments*100}%`}})}),qe.nextDue&&s.jsxs("p",{className:"text-[10px] text-gray-600 mt-1",children:["Next due: ",qe.nextDue.toLocaleDateString([],{month:"short",day:"numeric"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center text-sm mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Active"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:p.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Pending"}),s.jsx("p",{className:"text-lg font-bold text-orange-600",children:Oe.length})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Overdue"}),s.jsx("p",{className:"text-lg font-bold text-red-600",children:De.length})]})]}),p.length===0?s.jsx("p",{className:"text-xs text-gray-500",children:"No Lay-Bye bookings yet."}):s.jsx("div",{className:"space-y-2 max-h-56 overflow-auto pr-1",children:p.slice(0,4).map(K=>{const ie=(K.installments||[]).find(Ne=>Ne.status==="pending"),Fe=K.installments||[],ue=Fe.filter(Ne=>Ne.status==="completed").length;return s.jsxs("div",{className:"border rounded p-2 text-xs flex flex-col gap-1 bg-white/60",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:K.booking_reference}),Ie(K.status)]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[K.from_destination,"  ",K.to_destination]}),K.is_installment&&s.jsx("span",{className:"text-purple-700 font-medium",children:"Laybuy"})]}),K.is_installment&&Fe.length>0&&s.jsx("div",{className:"h-1.5 bg-gray-200 rounded overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#FFC20E]",style:{width:`${ue/Fe.length*100}%`}})}),ie?s.jsxs("div",{className:"flex justify-between items-center mt-1",children:[s.jsxs("span",{children:["Next: #",ie.installment_number," $",ie.amount]}),s.jsx($,{size:"sm",variant:"outline",disabled:ge===`${K.id}-${ie.installment_number}`,onClick:()=>gt(K.id,ie.installment_number),children:ge===`${K.id}-${ie.installment_number}`?s.jsx(Dt,{className:"h-3 w-3 animate-spin"}):"Pay"})]}):K.is_installment&&s.jsx("p",{className:"text-green-700",children:"Installments Complete"})]},K.id)})}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx($,{variant:"outline",className:"w-1/2",asChild:!0,children:s.jsxs(Jt,{to:"/client/flights?type=fast-bye",children:[s.jsx(Fn,{className:"h-4 w-4 mr-2"}),"New Fast-Bye"]})}),s.jsx($,{variant:"outline",className:"w-1/2",onClick:()=>Z(!0),children:"View All"})]})]})]})]}),s.jsxs(es,{defaultValue:"bookings",className:`w-full mt-8 ${Gt?"opacity-50 pointer-events-none":""}`,children:[s.jsxs(Fr,{children:[s.jsx(rt,{value:"bookings",children:"My Bookings"}),s.jsx(rt,{value:"laybuy",children:"Fast-Bye Payments"})]}),s.jsx(st,{value:"bookings",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"h-5 w-5"}),"My Bookings"]}),s.jsx(ke,{children:"Route, date, price & points summary"})]}),s.jsx(me,{children:O?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Dt,{className:"h-8 w-8 animate-spin mx-auto text-gray-600"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading..."})]}):g.length===0?s.jsxs("div",{className:"text-center py-12 text-sm text-gray-500",children:[s.jsx(ms,{className:"h-10 w-10 mx-auto mb-4 text-gray-300"}),"No confirmed bookings yet."]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[s.jsx("th",{className:"p-2 text-left",children:"Route"}),s.jsx("th",{className:"p-2 text-left",children:"Date"}),s.jsx("th",{className:"p-2 text-right",children:"Price (USD)"}),s.jsx("th",{className:"p-2 text-right",children:"Points"})]})}),s.jsx("tbody",{children:g.map(K=>s.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[s.jsxs("td",{className:"p-2 whitespace-nowrap font-medium",children:[K.from_destination,"  ",K.to_destination]}),s.jsx("td",{className:"p-2 text-gray-600 whitespace-nowrap",children:ln(K.departure_date)}),s.jsxs("td",{className:"p-2 text-right font-semibold",children:["$",K.total_amount]}),s.jsxs("td",{className:"p-2 text-right text-green-600 font-medium",children:["+",K.points_earned]})]},K.id))})]})})})]})}),s.jsx(st,{value:"laybuy",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),"Fast-Bye Payments"]}),s.jsx(ke,{children:"Installment schedule & statuses"})]}),s.jsx(me,{children:F?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Dt,{className:"h-8 w-8 animate-spin mx-auto text-gray-600"}),s.jsx("p",{className:"mt-2 text-sm",children:"Loading..."})]}):p.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"No Fast-Bye bookings."}):s.jsx("div",{className:"space-y-6",children:p.map(K=>s.jsx(ae,{className:"border",children:s.jsxs(me,{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:K.booking_reference}),s.jsxs("p",{className:"text-xs text-gray-500",children:[K.from_destination,"  ",K.to_destination]})]}),s.jsx("div",{className:"text-right text-xs font-medium",children:Ie(K.status)})]}),K.installments&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:K.installments.map(ie=>s.jsxs("div",{className:"p-3 rounded-md border text-xs space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"font-medium",children:["Pay ",ie.installment_number]}),R(ie.status)]}),s.jsxs("p",{className:"text-sm font-bold",children:["$",ie.amount]}),s.jsxs("div",{className:"flex items-center text-gray-600 gap-1",children:[s.jsx(Mr,{className:"h-3 w-3"}),"Due: ",ln(ie.due_date)]}),ie.payment_date&&s.jsxs("div",{className:"flex items-center text-green-600 gap-1",children:[s.jsx(wt,{className:"h-3 w-3"}),"Paid: ",ln(ie.payment_date)]}),ie.points_earned>0&&s.jsxs("div",{className:"flex items-center text-green-600 gap-1",children:[s.jsx(aa,{className:"h-3 w-3"}),"+",ie.points_earned," pts"]}),ie.status==="pending"&&s.jsxs($,{size:"sm",variant:"outline",disabled:ge===`${K.id}-${ie.installment_number}`,onClick:()=>gt(K.id,ie.installment_number),className:"w-full mt-1 flex items-center gap-1",children:[ge===`${K.id}-${ie.installment_number}`?s.jsx(Dt,{className:"h-3 w-3 animate-spin"}):s.jsx(SN,{className:"h-3 w-3"}),"Pay"]})]},ie.installment_number))})]})},K.id))})})]})})]})]}),s.jsx(Kt,{open:q,onOpenChange:D,children:s.jsxs(zt,{className:"max-w-md",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Free Flight Redemption"}),s.jsxs(rn,{children:["Request a free flight (admin assigns exact flight). Must have at least ",W," points."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Preferred Route (optional)"}),s.jsx(je,{value:L,onChange:K=>U(K.target.value),placeholder:"eg. HRE  JNB"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Preferred Date (optional)"}),s.jsx(je,{type:"date",value:z,onChange:K=>G(K.target.value)})]}),s.jsxs(Sn,{children:[s.jsx($,{variant:"outline",onClick:()=>D(!1),disabled:ye,children:"Cancel"}),s.jsx($,{onClick:Te,disabled:ye||r<W,children:ye?"Submitting...":"Submit Request"})]}),s.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:"Admin will verify and assign flight."})]})]})}),s.jsx(Kt,{open:E,onOpenChange:Z,children:s.jsxs(zt,{className:"max-w-3xl",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"All Lay-Bye Bookings"}),s.jsx(rn,{children:"Installment progress and payment actions"})]}),s.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-auto pr-1",children:[p.length===0&&s.jsx("p",{className:"text-sm text-gray-500",children:"No Lay-Bye bookings."}),p.map(K=>{const ie=K.installments||[],Fe=ie.filter(ue=>ue.status==="completed").length;return s.jsx(ae,{className:"border",children:s.jsxs(me,{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:K.booking_reference}),s.jsxs("p",{className:"text-xs text-gray-500",children:[K.from_destination,"  ",K.to_destination]}),K.is_installment&&ie.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"h-2 bg-gray-200 rounded overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#FFC20E]",style:{width:`${Fe/ie.length*100}%`}})}),s.jsxs("p",{className:"text-[10px] text-gray-600 mt-1",children:[Fe,"/",ie.length," installments completed"]})]})]}),s.jsx("div",{className:"text-right text-xs font-medium",children:Ie(K.status)})]}),ie.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-[11px]",children:ie.map(ue=>{const Ne=`${K.id}-${ue.installment_number}`,Le=ue.status==="pending";return s.jsxs("div",{className:`p-2 rounded border flex flex-col gap-1 ${ue.status==="completed"?"bg-green-50 border-green-200":ue.status==="overdue"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"font-medium",children:["#",ue.installment_number]}),s.jsxs("span",{children:["$",ue.amount]})]}),s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsx("span",{children:"Due"}),s.jsx("span",{children:ln(ue.due_date)})]}),s.jsx("div",{className:"text-[10px] capitalize",children:ue.status}),Le&&s.jsx($,{size:"sm",variant:"outline",disabled:ge===Ne,onClick:()=>gt(K.id,ue.installment_number),children:ge===Ne?s.jsx(Dt,{className:"h-3 w-3 animate-spin"}):"Pay"})]},Ne)})})]})},K.id)})]}),s.jsx(Sn,{children:s.jsx($,{variant:"outline",onClick:()=>Z(!1),children:"Close"})})]})})]})},ek=()=>{const{toast:e}=fn(),t=m.useRef(null),[n,r]=m.useState({name:"",subdestinations:"",latitude:"",longitude:"",map_link:"",picture:null}),a=o=>{const{name:l,value:c,files:d}=o.target;r(u=>({...u,[l]:d?d[0]:c}))},i=async o=>{var c;o.preventDefault();const l=new FormData;Object.entries(n).forEach(([d,u])=>{u!==null&&u!==""&&l.append(d,u)});try{const d=await Be.post(`${oe}/destination/upload/`,l,{headers:{"Content-Type":"multipart/form-data"}});e({title:"Destination Created",description:`Successfully added ${d.data.name}.`}),r({name:"",subdestinations:"",latitude:"",longitude:"",map_link:"",picture:null}),t.current&&(t.current.value="")}catch(d){const u=typeof((c=d.response)==null?void 0:c.data)=="object"?Object.values(d.response.data).flat().join(", "):"Failed to upload destination.";e({title:"Error",description:u,variant:"destructive"})}};return s.jsxs(ae,{className:"max-w-xl mx-auto",children:[s.jsx(pe,{children:s.jsx(xe,{children:"Create Destination"})}),s.jsx(me,{children:s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsx("input",{type:"text",name:"name",placeholder:"Destination Name",value:n.name,onChange:a,className:"w-full border px-3 py-2 rounded",required:!0}),s.jsx("input",{type:"text",name:"subdestinations",placeholder:"Subdestinations (comma-separated)",value:n.subdestinations,onChange:a,className:"w-full border px-3 py-2 rounded"}),s.jsx("input",{type:"number",name:"latitude",placeholder:"Latitude",value:n.latitude,onChange:a,className:"w-full border px-3 py-2 rounded"}),s.jsx("input",{type:"number",name:"longitude",placeholder:"Longitude",value:n.longitude,onChange:a,className:"w-full border px-3 py-2 rounded"}),s.jsx("input",{type:"url",name:"map_link",placeholder:"Google Maps Link",value:n.map_link,onChange:a,className:"w-full border px-3 py-2 rounded"}),s.jsx("input",{type:"file",name:"picture",accept:"image/*",onChange:a,className:"w-full border px-3 py-2 rounded",ref:t,required:!0}),s.jsx($,{type:"submit",children:"Upload Destination"})]})})]})},tk=()=>{const{toast:e}=fn(),[t,n]=m.useState([]);return m.useEffect(()=>{(async()=>{var a,i;try{const o=await Be.get(`${oe}/destination/destinations/`);n(o.data)}catch(o){e({title:"Error loading destinations",description:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.detail)||"Something went wrong",variant:"destructive"})}})()},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 py-10",children:[s.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"View Destinations"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:t.map(r=>s.jsxs(ae,{className:"shadow-lg hover:shadow-xl transition",children:[s.jsx("img",{src:r.picture,alt:r.name,className:"w-full h-48 object-cover rounded-t"}),s.jsx(pe,{children:s.jsx(xe,{children:r.name})}),s.jsxs(me,{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[s.jsx("strong",{children:"Subdestinations:"})," ",r.subdestinations||"N/A"]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[s.jsx("strong",{children:"Coordinates:"})," ",r.latitude,", ",r.longitude]}),s.jsx("a",{href:r.map_link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-fastjet-blue underline",children:"View on Google Maps"})]})]},r.id))})]})},kL=({user:e,onTopUp:t,onEdit:n,onDelete:r})=>{const[a,i]=m.useState(""),[o,l]=m.useState("USD"),[c,d]=m.useState(!1),{toast:u}=fn(),f=[{code:"USD",name:"US Dollar"},{code:"ZWL",name:"Zimbabwe Dollar"},{code:"EUR",name:"Euro"},{code:"GBP",name:"British Pound"}],h=()=>{const v=Number.parseFloat(a);if(isNaN(v)||v<=0){u({title:"Invalid Amount",description:"Please enter a valid amount greater than 0",variant:"destructive"});return}t(e.id,v,o),i(""),d(!1)},g=()=>{window.confirm(`Are you sure you want to delete ${e.first_name} ${e.last_name}?`)&&r(e.id)};return s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Kt,{open:c,onOpenChange:d,children:[s.jsx(Uc,{asChild:!0,children:s.jsxs($,{size:"sm",variant:"outline",className:"bg-green-100 text-green-700 hover:bg-green-200",children:[s.jsx(bN,{className:"h-4 w-4 mr-1"}),"Top Up"]})}),s.jsxs(zt,{children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Top Up Wallet"}),s.jsxs(rn,{children:["Add funds to ",e.first_name," ",e.last_name,"'s wallet"]})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"currency",children:"Currency"}),s.jsxs(Cn,{value:o,onValueChange:l,children:[s.jsx(yn,{children:s.jsx(kn,{})}),s.jsx(vn,{children:f.map(v=>s.jsxs(Ve,{value:v.code,children:[v.code," - ",v.name]},v.code))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"amount",children:"Amount"}),s.jsx(je,{id:"amount",type:"number",placeholder:"Enter amount",value:a,onChange:v=>i(v.target.value),min:"0",step:"0.01"})]})]}),s.jsxs(Sn,{children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx($,{type:"button",onClick:h,children:"Top Up Wallet"})]})]})]}),s.jsxs($,{size:"sm",variant:"outline",onClick:()=>n(e.id),children:[s.jsx(Cp,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs($,{size:"sm",variant:"outline",onClick:g,className:"border-red-300 text-red-600 hover:bg-red-50 bg-transparent",children:[s.jsx(kp,{className:"h-4 w-4 mr-1"}),"Delete"]})]})};var Bg="Checkbox",[_L,DB]=bi(Bg),[DL,EL]=_L(Bg),nk=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,g]=m.useState(null),v=qt(t,j=>g(j)),p=m.useRef(!1),w=h?u||!!h.closest("form"):!0,[x=!1,y]=va({prop:a,defaultProp:i,onChange:d}),b=m.useRef(x);return m.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const N=()=>y(b.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[h,y]),s.jsxs(DL,{scope:n,state:x,disabled:l,children:[s.jsx(ct.button,{type:"button",role:"checkbox","aria-checked":ii(x)?"mixed":x,"aria-required":o,"data-state":ak(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:at(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:at(e.onClick,j=>{y(N=>ii(N)?!0:!N),w&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),w&&s.jsx(PL,{control:h,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ii(i)?!1:i})]})});nk.displayName=Bg;var rk="CheckboxIndicator",sk=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=EL(rk,n);return s.jsx(ja,{present:r||ii(i.state)||i.state===!0,children:s.jsx(ct.span,{"data-state":ak(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});sk.displayName=rk;var PL=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...i}=e,o=m.useRef(null),l=Xm(n),c=Gm(t);m.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&g){const v=new Event("click",{bubbles:r});u.indeterminate=ii(n),g.call(u,ii(n)?!1:n),u.dispatchEvent(v)}},[l,n,r]);const d=m.useRef(ii(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ii(e){return e==="indeterminate"}function ak(e){return ii(e)?"indeterminate":e?"checked":"unchecked"}var ik=nk,TL=sk;const Wg=m.forwardRef(({className:e,...t},n)=>s.jsx(ik,{ref:n,className:We("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(TL,{className:We("flex items-center justify-center text-current"),children:s.jsx(Gi,{className:"h-4 w-4"})})}));Wg.displayName=ik.displayName;const Kl="http://localhost:8000",RL=()=>{const{toast:e}=fn(),[t,n]=m.useState(!1),[r,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState([]),[f,h]=m.useState({from_destination:"",to_destination:"",price:"",currency:"",point_threshold:"",estimated_time:"",distance:""}),[g,v]=m.useState({basePrice:"",currency:"",pointThreshold:"",estimatedTime:"",distance:"",priceAdjustment:"1.0"});m.useEffect(()=>{p(),w(),x()},[]);const p=async()=>{try{const C=await Be.get(`${Kl}/api/destination/destinations/`);a(Array.isArray(C.data)?C.data:[])}catch(C){console.error("Failed to load destinations:",C),a([]),e({title:"Error",description:"Failed to load destinations.",variant:"destructive"})}},w=async()=>{try{const C=await Be.get(`${Kl}/api/currency/currencies/`);o(Array.isArray(C.data)?C.data:[])}catch(C){console.error("Failed to load currencies:",C),o([]),e({title:"Error",description:"Failed to load currencies.",variant:"destructive"})}},x=async()=>{try{const C=await Be.get(`${Kl}/api/routes/routes/`);c(Array.isArray(C.data)?C.data:[])}catch(C){console.error("Failed to load routes:",C),c([]),e({title:"Error",description:"Failed to load routes.",variant:"destructive"})}},y=C=>{const{name:S,value:O}=C.target;h(k=>({...k,[S]:O}))},b=async C=>{var S,O;C.preventDefault(),n(!0);try{const k={from_destination_id:parseInt(f.from_destination),to_destination_id:parseInt(f.to_destination),price:parseFloat(f.price),currency:f.currency,point_threshold:parseInt(f.point_threshold),estimated_time:parseInt(f.estimated_time),distance:parseFloat(f.distance)};await Be.post(`${Kl}/api/routes/routes/`,k),e({title:"Success",description:"Route created successfully!"}),h({from_destination:"",to_destination:"",price:"",currency:"",point_threshold:"",estimated_time:"",distance:""}),x()}catch(k){e({title:"Error",description:((O=(S=k.response)==null?void 0:S.data)==null?void 0:O.detail)||"Failed to create route.",variant:"destructive"})}finally{n(!1)}},j=C=>{u(S=>S.includes(C)?S.filter(O=>O!==C):[...S,C])},N=async()=>{if(d.length!==0)try{const C=d.map(S=>{const O=l.find(k=>k.id===S);return O?{route_id:S,currency:g.currency||O.currency,price:parseFloat(g.basePrice)||O.price,point_threshold:parseInt(g.pointThreshold)||O.point_threshold,estimated_time:g.estimatedTime||O.estimated_time,distance:g.distance||O.distance}:null}).filter(Boolean);for(const S of C)console.log("Bulk operation for route:",S);e({title:"Bulk Operation Initiated",description:`Processing ${d.length} routes for bulk operations.`}),u([])}catch{e({title:"Bulk Operation Failed",description:"Failed to process bulk route operations.",variant:"destructive"})}},P=async C=>{var S,O;try{const k=l.find(re=>re.id===C);if(!k)return;const F=l.find(re=>re.from_destination.id===k.to_destination.id&&re.to_destination.id===k.from_destination.id);if(F){e({title:"Return Route Exists",description:`Return route already exists: ${F.to_destination.name}  ${F.from_destination.name}`});return}const B=parseFloat(g.priceAdjustment)||1,ee={from_destination_id:k.to_destination.id,to_destination_id:k.from_destination.id,price:k.price*B,currency:k.currency,point_threshold:k.point_threshold,estimated_time:k.estimated_time,distance:k.distance};await Be.post(`${Kl}/api/routes/routes/`,ee),e({title:"Round Trip Created",description:`Return route created: ${k.to_destination.name}  ${k.from_destination.name}`}),x()}catch(k){e({title:"Failed to Create Round Trip",description:((O=(S=k.response)==null?void 0:S.data)==null?void 0:O.detail)||"Could not create return route.",variant:"destructive"})}};return s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs(es,{defaultValue:"single",className:"w-full",children:[s.jsxs(Fr,{className:"grid w-full grid-cols-3",children:[s.jsx(rt,{value:"single",children:"Create Single Route"}),s.jsx(rt,{value:"bulk",children:"Bulk Operations"}),s.jsx(rt,{value:"roundtrip",children:"Round Trip Management"})]}),s.jsx(st,{value:"single",children:s.jsxs(ae,{children:[s.jsx(pe,{children:s.jsx(xe,{children:"Create Single Route"})}),s.jsx(me,{children:s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-sm font-medium",children:"From Destination"}),s.jsxs("select",{name:"from_destination",value:f.from_destination,onChange:y,required:!0,className:"w-full border rounded p-2",children:[s.jsx("option",{value:"",children:"Select origin"}),Array.isArray(r)&&r.map(C=>s.jsxs("option",{value:C.id,children:[C.name," (",C.code,")"]},C.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-sm font-medium",children:"To Destination"}),s.jsxs("select",{name:"to_destination",value:f.to_destination,onChange:y,required:!0,className:"w-full border rounded p-2",children:[s.jsx("option",{value:"",children:"Select destination"}),Array.isArray(r)&&r.map(C=>s.jsxs("option",{value:C.id,children:[C.name," (",C.code,")"]},C.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Price"}),s.jsx("input",{type:"number",name:"price",value:f.price,onChange:y,step:"0.01",required:!0,className:"w-full border rounded p-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Currency"}),s.jsxs("select",{name:"currency",value:f.currency,onChange:y,required:!0,className:"w-full border rounded p-2",children:[s.jsx("option",{value:"",children:"Select currency"}),Array.isArray(i)&&i.map(C=>s.jsx("option",{value:C.code,children:C.code},C.code))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Point Threshold"}),s.jsx("input",{type:"number",name:"point_threshold",value:f.point_threshold,onChange:y,required:!0,className:"w-full border rounded p-2"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Estimated Time (minutes)"}),s.jsx("input",{type:"number",name:"estimated_time",value:f.estimated_time,onChange:y,required:!0,className:"w-full border rounded p-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Distance (km)"}),s.jsx("input",{type:"number",name:"distance",value:f.distance,onChange:y,step:"0.1",required:!0,className:"w-full border rounded p-2"})]})]}),s.jsx($,{type:"submit",className:"w-full",disabled:t,children:t?"Creating...":"Create Route"})]})})]})}),s.jsx(st,{value:"bulk",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Bulk Route Operations"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Select routes for bulk modifications"})]}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded bg-gray-50",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Base Price Adjustment"}),s.jsx("input",{type:"number",placeholder:"Enter new base price",value:g.basePrice,onChange:C=>v(S=>({...S,basePrice:C.target.value})),step:"0.01",className:"w-full border rounded p-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Currency Override"}),s.jsxs("select",{value:g.currency,onChange:C=>v(S=>({...S,currency:C.target.value})),className:"w-full border rounded p-2",children:[s.jsx("option",{value:"",children:"Keep existing"}),Array.isArray(i)&&i.map(C=>s.jsx("option",{value:C.code,children:C.code},C.code))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Point Threshold"}),s.jsx("input",{type:"number",placeholder:"New point threshold",value:g.pointThreshold,onChange:C=>v(S=>({...S,pointThreshold:C.target.value})),className:"w-full border rounded p-2"})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs($,{onClick:N,disabled:d.length===0,className:"w-full",children:["Apply to ",d.length," Routes"]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Available Routes"}),s.jsxs(it,{variant:"secondary",children:[d.length," of ",l.length," selected"]})]}),s.jsx("div",{className:"grid gap-3 max-h-96 overflow-y-auto",children:Array.isArray(l)&&l.map(C=>s.jsx("div",{className:`p-3 border rounded cursor-pointer transition-colors ${d.includes(C.id)?"bg-blue-50 border-blue-300":"bg-white border-gray-200 hover:bg-gray-50"}`,onClick:()=>j(C.id),children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wg,{checked:d.includes(C.id),onChange:()=>{},className:"pointer-events-none"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[C.from_destination.name,"  ",C.to_destination.name]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[C.price," ",C.currency,"  ",C.estimated_time," min  ",C.distance," km"]})]}),s.jsxs(it,{variant:"outline",children:[C.point_threshold," pts"]})]})})]})},C.id))})]})]})})]})}),s.jsx(st,{value:"roundtrip",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Round Trip Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Create return routes for existing one-way routes"})]}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 border rounded bg-gray-50",children:[s.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Return Route Price Adjustment"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",placeholder:"1.0",value:g.priceAdjustment,onChange:C=>v(S=>({...S,priceAdjustment:C.target.value})),step:"0.1",min:"0.1",className:"border rounded p-2 w-32"}),s.jsx("span",{className:"text-sm text-gray-600",children:" original price"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1.0 = same price, 0.9 = 10% discount, 1.1 = 10% premium"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"One-way Routes (Create Returns)"}),Array.isArray(l)&&l.filter(C=>!l.some(S=>S.from_destination.id===C.to_destination.id&&S.to_destination.id===C.from_destination.id)).map(C=>s.jsx("div",{className:"p-3 border rounded bg-white",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[C.from_destination.name,"  ",C.to_destination.name]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[C.price," ",C.currency,"  ",C.estimated_time," min"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(it,{variant:"outline",children:"One-way"}),s.jsx($,{onClick:()=>P(C.id),variant:"outline",size:"sm",children:"Create Return Route"})]})]})},C.id))]})]})})]})})]})})},ML=()=>{const{toast:e}=fn(),[t,n]=m.useState([]),[r,a]=m.useState({code:"",name:""}),i=async()=>{try{const l=await Be.get(`${oe}/currency/currencies/`);n(l.data)}catch{e({variant:"destructive",title:"Error loading currencies",description:"Check if backend is running properly."})}};m.useEffect(()=>{i()},[]);const o=async l=>{var c,d;l.preventDefault();try{const u=await Be.post(`${oe}/currency/currencies/`,r);e({title:"Currency Added",description:`${u.data.name} (${u.data.code}) added successfully.`}),a({code:"",name:""}),i()}catch(u){e({variant:"destructive",title:"Error adding currency",description:((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.detail)||"Currency code might already exist."})}};return s.jsxs(ae,{className:"max-w-2xl mx-auto mt-10",children:[s.jsx(pe,{children:s.jsx(xe,{children:"Currency Management"})}),s.jsxs(me,{className:"space-y-6",children:[s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsx("input",{type:"text",name:"code",placeholder:"Currency Code (e.g., USD)",value:r.code,onChange:l=>a({...r,code:l.target.value.toUpperCase()}),className:"w-full border rounded px-3 py-2",required:!0}),s.jsx("input",{type:"text",name:"name",placeholder:"Currency Name (e.g., US Dollar)",value:r.name,onChange:l=>a({...r,name:l.target.value}),className:"w-full border rounded px-3 py-2",required:!0}),s.jsx($,{type:"submit",className:"bg-fastjet-yellow text-gray-800 hover:bg-fastjet-darkYellow w-full",children:"Add Currency"})]}),s.jsxs("div",{className:"pt-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Available Currencies"}),s.jsx("ul",{className:"space-y-2",children:t.map(l=>s.jsx("li",{className:"flex justify-between items-center p-2 border rounded",children:s.jsxs("span",{children:[l.name," (",l.code,")"]})},l.id))})]})]})]})},mf=m.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));mf.displayName="Textarea";const OL=()=>{const{toast:e}=fn(),[t,n]=m.useState([]),[r,a]=m.useState(!0),[i,o]=m.useState(null),[l,c]=m.useState(null),[d,u]=m.useState(""),[f,h]=m.useState(!1),[g,v]=m.useState(3),[p,w]=m.useState(""),[x,y]=m.useState(!1),[b,j]=m.useState(!1),[N,P]=m.useState(null),[C,S]=m.useState(!1),[O,k]=m.useState(0),F=sessionStorage.getItem("token");m.useEffect(()=>{(async()=>{var te,de;if(F)try{a(!0);const E=await Be.get(ot.CREDIT_BOOKINGS,{headers:{Authorization:`Token ${F}`}});n(E.data)}catch(E){console.error("Error fetching credit bookings:",E),o(((de=(te=E.response)==null?void 0:te.data)==null?void 0:de.detail)||"Failed to fetch credit bookings"),e({title:"Error",description:"Failed to load credit bookings",variant:"destructive"})}finally{a(!1)}})()},[F,e]);const B=Q=>{switch(Q){case"pending":return s.jsx(it,{className:"bg-yellow-100 text-yellow-800",children:"Pending Review"});case"approved":return s.jsx(it,{className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return s.jsx(it,{className:"bg-red-100 text-red-800",children:"Rejected"});default:return s.jsx(it,{children:Q})}},ee=Q=>new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),re=async()=>{var Q,te;if(!(!l||!N))try{y(!0);const de={admin_notes:d};N==="approve"&&f&&(de.convert_to_installments=!0,de.installment_count=g||3);const E=await Be.post(`${ot.CREDIT_BOOKINGS}${l.id}/${N}/`,de,{headers:{Authorization:`Token ${F}`}});n(Z=>Z.map(W=>W.id===l.id?E.data:W)),e({title:N==="approve"?"Booking Approved":"Booking Rejected",description:N==="approve"?"The credit booking has been approved and the flight is confirmed.":"The credit booking has been rejected."}),j(!1),c(null),u(""),P(null)}catch(de){console.error(`Error ${N}ing credit booking:`,de),e({title:"Action Failed",description:((te=(Q=de.response)==null?void 0:Q.data)==null?void 0:te.detail)||`Failed to ${N} booking.`,variant:"destructive"})}finally{y(!1)}},J=(Q,te)=>{c(Q),P(te),u(Q.admin_notes||""),j(!0)},q=(Q,te=0)=>{c(Q),k(te),S(!0)},D=()=>S(!1),_=m.useCallback(()=>{l&&k(Q=>(Q+1)%l.documents.length)},[l]),T=m.useCallback(()=>{l&&k(Q=>(Q-1+l.documents.length)%l.documents.length)},[l]),L=t.filter(Q=>{const te=p.toLowerCase();return Q.booking.booking_reference.toLowerCase().includes(te)||Q.user.username.toLowerCase().includes(te)||Q.user.email.toLowerCase().includes(te)||Q.booking.from_destination.toLowerCase().includes(te)||Q.booking.to_destination.toLowerCase().includes(te)}),U=L.filter(Q=>Q.status==="pending"),z=L.filter(Q=>Q.status==="approved"),G=L.filter(Q=>Q.status==="rejected");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Credit Booking Administration"}),s.jsx("p",{className:"text-gray-500",children:"Review and manage credit booking requests"})]}),s.jsxs("div",{className:"relative w-full md:w-64",children:[s.jsx(dl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),s.jsx(je,{placeholder:"Search bookings...",className:"pl-9",value:p,onChange:Q=>w(Q.target.value)})]})]}),i&&s.jsxs(si,{variant:"destructive",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsx(ai,{children:i})]}),s.jsxs(es,{defaultValue:"pending",className:"w-full",children:[s.jsxs(Fr,{className:"grid grid-cols-3 mb-4",children:[s.jsxs(rt,{value:"pending",className:"relative",children:["Pending",U.length>0&&s.jsx(it,{className:"ml-2 bg-yellow-100 text-yellow-800",children:U.length})]}),s.jsxs(rt,{value:"approved",children:["Approved",z.length>0&&s.jsx(it,{className:"ml-2 bg-green-100 text-green-800",children:z.length})]}),s.jsxs(rt,{value:"rejected",children:["Rejected",G.length>0&&s.jsx(it,{className:"ml-2 bg-red-100 text-red-800",children:G.length})]})]}),r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Dt,{className:"h-8 w-8 animate-spin text-blue-600"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading credit bookings..."})]})}):s.jsxs(s.Fragment,{children:[s.jsx(st,{value:"pending",className:"space-y-4",children:U.length===0?s.jsx(ae,{className:"bg-gray-50 border-dashed",children:s.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(wt,{className:"h-12 w-12 text-green-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No Pending Requests"}),s.jsx("p",{className:"text-gray-500 text-center max-w-md mt-1",children:"There are no credit booking requests waiting for your review."})]})}):ye(U,!0)}),s.jsx(st,{value:"approved",className:"space-y-4",children:z.length===0?s.jsx(ae,{className:"bg-gray-50 border-dashed",children:s.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Qt,{className:"h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No Approved Bookings"}),s.jsx("p",{className:"text-gray-500 text-center max-w-md mt-1",children:"You haven't approved any credit bookings yet."})]})}):ye(z,!1)}),s.jsx(st,{value:"rejected",className:"space-y-4",children:G.length===0?s.jsx(ae,{className:"bg-gray-50 border-dashed",children:s.jsxs(me,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Is,{className:"h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No Rejected Bookings"}),s.jsx("p",{className:"text-gray-500 text-center max-w-md mt-1",children:"You haven't rejected any credit bookings yet."})]})}):ye(G,!1)})]})]}),l&&b&&N&&s.jsx(Kt,{open:b,onOpenChange:j,children:s.jsxs(zt,{className:"max-w-lg",children:[s.jsx(Ht,{children:s.jsxs(Vt,{children:[N==="approve"?"Approve":"Reject"," Credit Booking"]})}),s.jsxs("div",{className:"space-y-4 my-4",children:[s.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Reference"}),s.jsx("p",{className:"font-medium",children:l.booking.booking_reference})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Amount"}),s.jsxs("p",{className:"font-medium",children:["$",parseFloat(l.amount).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Client"}),s.jsxs("p",{className:"font-medium",children:[l.user.first_name," ",l.user.last_name]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Travel Date"}),s.jsx("p",{className:"font-medium",children:ee(l.booking.departure_date)})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"admin-notes",children:["Admin Notes ",N==="reject"&&"(Required)"]}),s.jsx(mf,{id:"admin-notes",placeholder:N==="approve"?"Optional notes for approval":"Please provide a reason for rejection",value:d,onChange:Q=>u(Q.target.value),rows:4,required:N==="reject"})]}),N==="approve"&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("label",{className:"inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:f,onChange:Q=>h(Q.target.checked)}),s.jsx("span",{className:"text-sm",children:"Create installment plan (laybuy) on approval"})]}),f&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{className:"whitespace-nowrap",children:"Installments"}),s.jsx(je,{type:"number",min:1,max:12,value:g,onChange:Q=>v(Number(Q.target.value)),className:"w-20"}),s.jsx("span",{className:"text-sm text-gray-500",children:"months"})]})]}),N==="approve"?s.jsxs(si,{className:"bg-green-50 border-green-200",children:[s.jsx(wt,{className:"h-4 w-4 text-green-600"}),s.jsx(ai,{className:"text-green-700",children:"Approving this booking will confirm the flight and notify the client."})]}):s.jsxs(si,{variant:"destructive",children:[s.jsx(Is,{className:"h-4 w-4"}),s.jsx(ai,{children:"Rejecting this booking will cancel the flight request and notify the client."})]})]}),s.jsxs(Sn,{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>j(!1),disabled:x,children:"Cancel"}),s.jsxs($,{variant:N==="approve"?"default":"destructive",onClick:re,disabled:x||N==="reject"&&!d.trim(),className:"ml-auto",children:[x&&s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),N==="approve"?"Approve Booking":"Reject Booking"]})]})]})}),l&&C&&s.jsx(Kt,{open:C,onOpenChange:S,children:s.jsxs(zt,{className:"max-w-2xl",children:[s.jsx(Ht,{children:s.jsxs(Vt,{children:["Review Documents (",l.documents.length,")"]})}),s.jsx("div",{className:"space-y-4",children:l.documents.length===0?s.jsx("p",{className:"text-sm text-gray-600",children:"No documents uploaded."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 border-b",children:l.documents.map((Q,te)=>s.jsxs("button",{onClick:()=>k(te),className:`min-w-[90px] p-1 border rounded text-xs flex flex-col items-center gap-1 ${te===O?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[Ce(Q.file),s.jsxs("span",{className:"truncate w-full",children:["Doc ",te+1]})]},Q.id))}),l.documents[O]&&s.jsxs("div",{className:"border rounded p-3 bg-gray-50",children:[ge(l.documents[O].file),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mt-3 gap-2 text-xs text-gray-600",children:[s.jsxs("span",{children:[l.documents[O].document_type_name||"Document","  Uploaded ",ee(l.documents[O].uploaded_at)]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx($,{variant:"outline",size:"sm",onClick:T,disabled:l.documents.length<2,children:"Prev"}),s.jsx($,{variant:"outline",size:"sm",onClick:_,disabled:l.documents.length<2,children:"Next"}),s.jsx($,{variant:"outline",size:"sm",onClick:()=>window.open(l.documents[O].file,"_blank"),children:"Open"}),s.jsx($,{size:"sm",onClick:()=>{S(!1),P("approve"),j(!0)},children:"Approve"}),s.jsx($,{size:"sm",variant:"destructive",onClick:()=>{S(!1),P("reject"),j(!0)},children:"Reject"})]})]})]})]})}),s.jsx(Sn,{className:"mt-4",children:s.jsx($,{variant:"outline",onClick:D,children:"Close"})})]})})]});function ye(Q,te){return Q.map(de=>s.jsxs(ae,{className:"overflow-hidden",children:[s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-lg",children:de.booking.booking_reference}),s.jsxs(ke,{children:[de.booking.from_destination,"  ",de.booking.to_destination]})]}),B(de.status)]})}),s.jsxs(me,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(Xi,{className:"h-3 w-3"})," Client"]}),s.jsxs("p",{className:"font-medium",children:[de.user.first_name," ",de.user.last_name]}),s.jsx("p",{className:"text-xs text-gray-500",children:de.user.email})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(Mr,{className:"h-3 w-3"})," Travel Date"]}),s.jsx("p",{className:"font-medium",children:ee(de.booking.departure_date)})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(Qt,{className:"h-3 w-3"})," Amount"]}),s.jsxs("p",{className:"font-medium",children:["$",parseFloat(de.amount).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[s.jsx(ec,{className:"h-3 w-3"})," Documents"]}),s.jsxs("p",{className:"font-medium",children:[de.documents.length," uploaded"]}),s.jsx($,{variant:"link",className:"p-0 h-auto text-xs",onClick:()=>q(de,0),disabled:de.documents.length===0,children:"Review Documents"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded border text-sm mb-4",children:[s.jsx("h4",{className:"font-medium mb-1",children:"Business Purpose"}),s.jsx("p",{className:"text-gray-700",children:de.reason})]}),de.admin_notes&&s.jsxs("div",{className:`p-3 rounded border text-sm ${de.status==="approved"?"bg-green-50 border-green-200":de.status==="rejected"?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("h4",{className:"font-medium mb-1",children:"Admin Notes"}),s.jsx("p",{className:"text-gray-700",children:de.admin_notes})]})]}),te&&s.jsxs(rr,{className:"bg-gray-50 border-t flex justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(Fn,{className:"h-4 w-4 mr-1"}),"Submitted ",ee(de.created_at)]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:()=>J(de,"reject"),children:[s.jsx(Ji,{className:"h-4 w-4 mr-2"})," Reject"]}),s.jsxs($,{size:"sm",onClick:()=>J(de,"approve"),children:[s.jsx(Gi,{className:"h-4 w-4 mr-2"})," Approve"]})]})]})]},de.id))}function Ce(Q){var Z;const te=(Z=Q.split("?")[0].split(".").pop())==null?void 0:Z.toLowerCase(),de=["png","jpg","jpeg","gif","bmp","webp"].includes(te||""),E=te==="pdf";return de?s.jsx("img",{src:Q,alt:"thumb",className:"w-16 h-12 object-cover rounded"}):E?s.jsx("div",{className:"w-16 h-12 flex items-center justify-center bg-red-50 text-red-600 text-[10px] font-medium rounded",children:"PDF"}):s.jsx("div",{className:"w-16 h-12 flex items-center justify-center bg-gray-100 text-gray-600 text-[10px] font-medium rounded",children:"FILE"})}function ge(Q){var Z;const te=(Z=Q.split("?")[0].split(".").pop())==null?void 0:Z.toLowerCase(),de=["png","jpg","jpeg","gif","bmp","webp"].includes(te||""),E=te==="pdf";return de?s.jsx("img",{src:Q,alt:"preview",className:"max-h-[420px] w-full object-contain bg-white rounded"}):E?s.jsx("iframe",{title:"document",src:Q,className:"w-full h-[420px] bg-white rounded"}):s.jsxs("div",{className:"p-6 text-center text-sm text-gray-600",children:[s.jsx("p",{children:"Preview not available for this file type."}),s.jsx($,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>window.open(Q,"_blank"),children:"Open File"})]})}},AL=({users:e,onWalletUpdate:t})=>{const[n,r]=m.useState(null),[a,i]=m.useState(""),[o,l]=m.useState("USD"),[c,d]=m.useState(!1),[u,f]=m.useState(!1),{toast:h}=fn(),g=[{code:"USD",name:"US Dollar"},{code:"ZWL",name:"Zimbabwe Dollar"},{code:"EUR",name:"Euro"},{code:"GBP",name:"British Pound"}],v=b=>{r(b),d(!0)},p=async()=>{var j,N;if(!n)return;const b=Number.parseFloat(a);if(isNaN(b)||b<=0){h({title:"Invalid Amount",description:"Please enter a valid amount greater than 0",variant:"destructive"});return}f(!0);try{const P=sessionStorage.getItem("token");if(!P){h({title:"Authentication Error",description:"Please log in again",variant:"destructive"});return}const C=await Be.post(ot.TOP_UP_WALLET(n.id,o),{amount:b},{headers:{Authorization:`Token ${P}`,"Content-Type":"application/json"}});if(C.status===200){let S=C.data;if(!S.wallet_balance){const O=Array.isArray(n.wallet_balance)?[...n.wallet_balance]:[],k=O.findIndex(F=>(typeof F.currency=="object"?F.currency.code:F.currency)===o);if(k>=0){const F=O[k],B=Number(F.balance)||0;O[k]={...F,currency:F.currency,balance:(B+b).toFixed(2)}}else O.push({currency:o,balance:b.toFixed(2)});S={...n,...S,wallet_balance:O}}h({title:"Wallet Topped Up",description:`Successfully added ${o} ${b} to ${n.first_name}'s wallet`}),t(S),i(""),d(!1),r(null)}}catch(P){console.error("Top-up failed:",P),h({title:"Top-up Failed",description:((N=(j=P.response)==null?void 0:j.data)==null?void 0:N.error)||"Could not top up wallet",variant:"destructive"})}finally{f(!1)}},w=(b,j)=>{if(!Array.isArray(b.wallet_balance))return"0.00";const N=b.wallet_balance.find(P=>(typeof P.currency=="object"?P.currency.code:P.currency)===j);return N?Number(N.balance).toFixed(2):"0.00"},y=(()=>{const b=new Set;return e.forEach(j=>{Array.isArray(j.wallet_balance)&&j.wallet_balance.forEach(N=>{const P=typeof N.currency=="object"?N.currency.code:N.currency;b.add(P)})}),Array.from(b)})();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(b=>{const j=e.reduce((N,P)=>N+Number.parseFloat(w(P,b.code)),0);return s.jsxs(ae,{children:[s.jsxs(pe,{className:"pb-2",children:[s.jsx(xe,{className:"text-lg",children:b.code}),s.jsx(ke,{children:b.name})]}),s.jsxs(me,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[b.code," ",j.toFixed(2)]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total across all users"})]})]},b.code)})}),s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"User Wallet Balances"}),s.jsx(ke,{children:"Manage individual user wallet balances"})]}),s.jsx(me,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"User"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Email"}),y.map(b=>s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:b},b)),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:e.map(b=>s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"py-4 px-4 font-medium",children:[b.first_name," ",b.last_name]}),s.jsx("td",{className:"py-4 px-4",children:b.email}),y.map(j=>s.jsx("td",{className:"py-4 px-4",children:w(b,j)},j)),s.jsx("td",{className:"py-4 px-4",children:s.jsxs($,{size:"sm",onClick:()=>v(b),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(vT,{className:"h-4 w-4 mr-1"}),"Top Up"]})})]},b.id))})]})})})]}),s.jsx(Kt,{open:c,onOpenChange:d,children:s.jsxs(zt,{children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Top Up Wallet"}),s.jsx(rn,{children:n&&`Add funds to ${n.first_name} ${n.last_name}'s wallet`})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"currency",children:"Currency"}),s.jsxs(Cn,{value:o,onValueChange:l,children:[s.jsx(yn,{children:s.jsx(kn,{})}),s.jsx(vn,{children:g.map(b=>s.jsxs(Ve,{value:b.code,children:[b.code," - ",b.name]},b.code))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"amount",children:"Amount"}),s.jsx(je,{id:"amount",type:"number",placeholder:"Enter amount",value:a,onChange:b=>i(b.target.value),min:"0",step:"0.01"})]})]}),s.jsxs(Sn,{children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>{d(!1),r(null),i("")},children:"Cancel"}),s.jsx($,{type:"button",onClick:p,disabled:u,children:u?"Processing...":"Top Up Wallet"})]})]})})]})};var Je=function(){return Je=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Je.apply(this,arguments)};function IL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function ok(e,t,n){for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function id(e){return e.mode==="multiple"}function od(e){return e.mode==="range"}function ff(e){return e.mode==="single"}var FL={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function LL(e,t){return pt(e,"LLLL y",t)}function $L(e,t){return pt(e,"d",t)}function BL(e,t){return pt(e,"LLLL",t)}function WL(e){return"".concat(e)}function YL(e,t){return pt(e,"cccccc",t)}function UL(e,t){return pt(e,"yyyy",t)}var zL=Object.freeze({__proto__:null,formatCaption:LL,formatDay:$L,formatMonthCaption:BL,formatWeekNumber:WL,formatWeekdayName:YL,formatYearCaption:UL}),HL=function(e,t,n){return pt(e,"do MMMM (EEEE)",n)},VL=function(){return"Month: "},qL=function(){return"Go to next month"},QL=function(){return"Go to previous month"},KL=function(e,t){return pt(e,"cccc",t)},GL=function(e){return"Week n. ".concat(e)},XL=function(){return"Year: "},JL=Object.freeze({__proto__:null,labelDay:HL,labelMonthDropdown:VL,labelNext:qL,labelPrevious:QL,labelWeekNumber:GL,labelWeekday:KL,labelYearDropdown:XL});function ZL(){var e="buttons",t=FL,n=F1,r={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:zL,labels:JL,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function e$(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=Cr(r):t&&(i=new Date(t,0,1)),a?o=Ng(a):n&&(o=new Date(n,11,31)),{fromDate:i?gl(i):void 0,toDate:o?gl(o):void 0}}var lk=m.createContext(void 0);function t$(e){var t,n=e.initialProps,r=ZL(),a=e$(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(ff(n)||id(n)||od(n))&&(c=n.onSelect);var d=Je(Je(Je({},r),n),{captionLayout:l,classNames:Je(Je({},r.classNames),n.classNames),components:Je({},n.components),formatters:Je(Je({},r.formatters),n.formatters),fromDate:i,labels:Je(Je({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Je(Je({},r.modifiers),n.modifiers),modifiersClassNames:Je(Je({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Je(Je({},r.styles),n.styles),toDate:o});return s.jsx(lk.Provider,{value:d,children:e.children})}function en(){var e=m.useContext(lk);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function ck(e){var t=en(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function n$(e){return s.jsx("svg",Je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function dk(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=en(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:n$;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function r$(e){var t,n=en(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(TF(r,a))for(var h=Cr(r),g=r.getMonth();g<=a.getMonth();g++)f.push(ih(h,g));else for(var h=Cr(new Date),g=0;g<=11;g++)f.push(ih(h,g));var v=function(w){var x=Number(w.target.value),y=ih(Cr(e.displayMonth),x);e.onChange(y)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:dk;return s.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(w){return s.jsx("option",{value:w.getMonth(),children:l(w,{locale:o})},w.getMonth())})})}function s$(e){var t,n=e.displayMonth,r=en(),a=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var g=a.getFullYear(),v=i.getFullYear(),p=g;p<=v;p++)h.push(nb(A1(new Date),p));var w=function(y){var b=nb(Cr(n),Number(y.target.value));e.onChange(b)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:dk;return s.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:n.getFullYear(),caption:u(n,{locale:o}),children:h.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function a$(e,t){var n=m.useState(e),r=n[0],a=n[1],i=t===void 0?r:t;return[i,a]}function i$(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Yc(i,a)<0){var d=-1*(c-1);a=vs(i,d)}return o&&Yc(a,o)<0&&(a=o),Cr(a)}function o$(){var e=en(),t=i$(e),n=a$(t,e.month),r=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=Cr(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function l$(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=Cr(e),i=Cr(vs(a,r)),o=Yc(i,a),l=[],c=0;c<o;c++){var d=vs(a,c);l.push(d)}return n&&(l=l.reverse()),l}function c$(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=Cr(e);if(!n)return vs(l,o);var c=Yc(n,e);if(!(c<i))return vs(l,o)}}function d$(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=Cr(e);if(!n)return vs(l,-o);var c=Yc(l,n);if(!(c<=0))return vs(l,-o)}}var uk=m.createContext(void 0);function u$(e){var t=en(),n=o$(),r=n[0],a=n[1],i=l$(r,t),o=c$(r,t),l=d$(r,t),c=function(f){return i.some(function(h){return Cg(f,h)})},d=function(f,h){c(f)||(h&&Y1(f,h)?a(vs(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(uk.Provider,{value:u,children:e.children})}function ld(){var e=m.useContext(uk);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function gb(e){var t,n=en(),r=n.classNames,a=n.styles,i=n.components,o=ld().goToMonth,l=function(u){o(vs(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:ck,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(r$,{onChange:l,displayMonth:e.displayMonth}),s.jsx(s$,{onChange:l,displayMonth:e.displayMonth})]})}function m$(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function f$(e){return s.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var dm=m.forwardRef(function(e,t){var n=en(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),l=Je(Je({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Je({},e,{ref:t,type:"button",className:o,style:l}))});function h$(e){var t,n,r=en(),a=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=d(e.previousMonth,{locale:i}),g=[o.nav_button,o.nav_button_previous].join(" "),v=u(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),w=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:f$,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:m$;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(dm,{name:"previous-month","aria-label":h,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(w,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(dm,{name:"next-month","aria-label":v,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(w,{className:o.nav_icon,style:l.nav_icon})})]})}function yb(e){var t=en().numberOfMonths,n=ld(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(v){return Cg(e.displayMonth,v)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),h=function(){r&&i(r)},g=function(){a&&i(a)};return s.jsx(h$,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:r,onPreviousClick:h,onNextClick:g})}function p$(e){var t,n=en(),r=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:ck,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(gb,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(gb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(yb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(yb,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:i.caption,children:d})}function x$(e){var t=en(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function g$(e,t,n){for(var r=n?ro(new Date):Ys(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=lr(r,i);a.push(o)}return a}function y$(){var e=en(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=g$(a,i,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function v$(){var e,t=en(),n=t.classNames,r=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:y$;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(i,{})})}function b$(e){var t=en(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var Yg=m.createContext(void 0);function w$(e){if(!id(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Yg.Provider,{value:t,children:e.children})}return s.jsx(j$,{initialProps:e.initialProps,children:e.children})}function j$(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o=function(d,u,f){var h,g;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,f);var v=!!(u.selected&&a&&(r==null?void 0:r.length)===a);if(!v){var p=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var w=r?ok([],r):[];if(u.selected){var x=w.findIndex(function(y){return vr(d,y)});w.splice(x,1)}else w.push(d);(g=t.onSelect)===null||g===void 0||g.call(t,w,d,u,f)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=i&&r.length>i-1,f=r.some(function(h){return vr(h,d)});return!!(u&&!f)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(Yg.Provider,{value:c,children:n})}function Ug(){var e=m.useContext(Yg);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function N$(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?vr(a,e)&&vr(r,e)?void 0:vr(a,e)?{from:a,to:void 0}:vr(r,e)?void 0:zp(r,e)?{from:e,to:a}:{from:r,to:e}:a?zp(e,a)?{from:a,to:e}:{from:e,to:a}:r?Y1(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var zg=m.createContext(void 0);function S$(e){if(!od(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(zg.Provider,{value:t,children:e.children})}return s.jsx(C$,{initialProps:e.initialProps,children:e.children})}function C$(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(g,v,p){var w,x;(w=t.onDayClick)===null||w===void 0||w.call(t,g,v,p);var y=N$(g,r);(x=t.onSelect)===null||x===void 0||x.call(t,y,g,v,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],vr(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:ah(i,l-1),before:lr(i,l-1)}),i&&o&&u.disabled.push({after:i,before:lr(i,l-1)}),!i&&o&&u.disabled.push({after:ah(o,l-1),before:lr(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:lr(i,-c+1)}),u.disabled.push({after:lr(i,c-1)})),i&&o){var f=Ls(o,i)+1,h=c-f;u.disabled.push({before:ah(i,h)}),u.disabled.push({after:lr(o,h)})}!i&&o&&(u.disabled.push({before:lr(o,-c+1)}),u.disabled.push({after:lr(o,c-1)}))}return s.jsx(zg.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function Hg(){var e=m.useContext(zg);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function xu(e){return Array.isArray(e)?ok([],e):e!==void 0?[e]:[]}function k$(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=xu(a)}),t}var bs;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(bs||(bs={}));var _$=bs.Selected,Ks=bs.Disabled,D$=bs.Hidden,E$=bs.Today,gh=bs.RangeEnd,yh=bs.RangeMiddle,vh=bs.RangeStart,P$=bs.Outside;function T$(e,t,n){var r,a=(r={},r[_$]=xu(e.selected),r[Ks]=xu(e.disabled),r[D$]=xu(e.hidden),r[E$]=[e.today],r[gh]=[],r[yh]=[],r[vh]=[],r[P$]=[],r);return e.fromDate&&a[Ks].push({before:e.fromDate}),e.toDate&&a[Ks].push({after:e.toDate}),id(e)?a[Ks]=a[Ks].concat(t.modifiers[Ks]):od(e)&&(a[Ks]=a[Ks].concat(n.modifiers[Ks]),a[vh]=n.modifiers[vh],a[yh]=n.modifiers[yh],a[gh]=n.modifiers[gh]),a}var mk=m.createContext(void 0);function R$(e){var t=en(),n=Ug(),r=Hg(),a=T$(t,n,r),i=k$(t.modifiers),o=Je(Je({},a),i);return s.jsx(mk.Provider,{value:o,children:e.children})}function fk(){var e=m.useContext(mk);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function M$(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function O$(e){return!!(e&&typeof e=="object"&&"from"in e)}function A$(e){return!!(e&&typeof e=="object"&&"after"in e)}function I$(e){return!!(e&&typeof e=="object"&&"before"in e)}function F$(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function L$(e,t){var n,r=t.from,a=t.to;if(r&&a){var i=Ls(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var o=Ls(e,r)>=0&&Ls(a,e)>=0;return o}return a?vr(a,e):r?vr(r,e):!1}function $$(e){return jg(e)}function B$(e){return Array.isArray(e)&&e.every(jg)}function W$(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if($$(n))return vr(e,n);if(B$(n))return n.includes(e);if(O$(n))return L$(e,n);if(F$(n))return n.dayOfWeek.includes(e.getDay());if(M$(n)){var r=Ls(n.before,e),a=Ls(n.after,e),i=r>0,o=a<0,l=zp(n.before,n.after);return l?o&&i:i||o}return A$(n)?Ls(e,n.after)>0:I$(n)?Ls(n.before,e)>0:typeof n=="function"?n(e):!1})}function Vg(e,t,n){var r=Object.keys(t).reduce(function(i,o){var l=t[o];return W$(e,l)&&i.push(o),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!Cg(e,n)&&(a.outside=!0),a}function Y$(e,t){for(var n=Cr(e[0]),r=Ng(e[e.length-1]),a,i,o=n;o<=r;){var l=Vg(o,t),c=!l.disabled&&!l.hidden;if(!c){o=lr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=lr(o,1)}return i||a}var U$=365;function hk(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,h={day:lr,week:Up,month:vs,year:_I,startOfWeek:function(w){return a.ISOWeek?ro(w):Ys(w,{locale:f,weekStartsOn:c})},endOfWeek:function(w){return a.ISOWeek?I1(w):Sg(w,{locale:f,weekStartsOn:c})}},g=h[n](e,r==="after"?1:-1);r==="before"&&d?g=DI([d,g]):r==="after"&&u&&(g=EI([u,g]));var v=!0;if(i){var p=Vg(g,i);v=!p.disabled&&!p.hidden}return v?g:l.count>U$?l.lastFocused:hk(g,{moveBy:n,direction:r,context:a,modifiers:i,retry:Je(Je({},l),{count:l.count+1})})}var pk=m.createContext(void 0);function z$(e){var t=ld(),n=fk(),r=m.useState(),a=r[0],i=r[1],o=m.useState(),l=o[0],c=o[1],d=Y$(t.displayMonths,n),u=a??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},h=function(w){i(w)},g=en(),v=function(w,x){if(a){var y=hk(a,{moveBy:w,direction:x,context:g,modifiers:n});vr(a,y)||(t.goToDate(y,a),h(y))}},p={focusedDay:a,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return s.jsx(pk.Provider,{value:p,children:e.children})}function qg(){var e=m.useContext(pk);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function H$(e,t){var n=fk(),r=Vg(e,n,t);return r}var Qg=m.createContext(void 0);function V$(e){if(!ff(e.initialProps)){var t={selected:void 0};return s.jsx(Qg.Provider,{value:t,children:e.children})}return s.jsx(q$,{initialProps:e.initialProps,children:e.children})}function q$(e){var t=e.initialProps,n=e.children,r=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:r};return s.jsx(Qg.Provider,{value:a,children:n})}function xk(){var e=m.useContext(Qg);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Q$(e,t){var n=en(),r=xk(),a=Ug(),i=Hg(),o=qg(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,h=o.focus,g=o.focusMonthBefore,v=o.focusMonthAfter,p=o.focusYearBefore,w=o.focusYearAfter,x=o.focusStartOfWeek,y=o.focusEndOfWeek,b=function(D){var _,T,L,U;ff(n)?(_=r.onDayClick)===null||_===void 0||_.call(r,e,t,D):id(n)?(T=a.onDayClick)===null||T===void 0||T.call(a,e,t,D):od(n)?(L=i.onDayClick)===null||L===void 0||L.call(i,e,t,D):(U=n.onDayClick)===null||U===void 0||U.call(n,e,t,D)},j=function(D){var _;h(e),(_=n.onDayFocus)===null||_===void 0||_.call(n,e,t,D)},N=function(D){var _;f(),(_=n.onDayBlur)===null||_===void 0||_.call(n,e,t,D)},P=function(D){var _;(_=n.onDayMouseEnter)===null||_===void 0||_.call(n,e,t,D)},C=function(D){var _;(_=n.onDayMouseLeave)===null||_===void 0||_.call(n,e,t,D)},S=function(D){var _;(_=n.onDayPointerEnter)===null||_===void 0||_.call(n,e,t,D)},O=function(D){var _;(_=n.onDayPointerLeave)===null||_===void 0||_.call(n,e,t,D)},k=function(D){var _;(_=n.onDayTouchCancel)===null||_===void 0||_.call(n,e,t,D)},F=function(D){var _;(_=n.onDayTouchEnd)===null||_===void 0||_.call(n,e,t,D)},B=function(D){var _;(_=n.onDayTouchMove)===null||_===void 0||_.call(n,e,t,D)},ee=function(D){var _;(_=n.onDayTouchStart)===null||_===void 0||_.call(n,e,t,D)},re=function(D){var _;(_=n.onDayKeyUp)===null||_===void 0||_.call(n,e,t,D)},J=function(D){var _;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),d();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),u();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?p():g();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?w():v();break;case"Home":D.preventDefault(),D.stopPropagation(),x();break;case"End":D.preventDefault(),D.stopPropagation(),y();break}(_=n.onDayKeyDown)===null||_===void 0||_.call(n,e,t,D)},q={onClick:b,onFocus:j,onBlur:N,onKeyDown:J,onKeyUp:re,onMouseEnter:P,onMouseLeave:C,onPointerEnter:S,onPointerLeave:O,onTouchCancel:k,onTouchEnd:F,onTouchMove:B,onTouchStart:ee};return q}function K$(){var e=en(),t=xk(),n=Ug(),r=Hg(),a=ff(e)?t.selected:id(e)?n.selected:od(e)?r.selected:void 0;return a}function G$(e){return Object.values(bs).includes(e)}function X$(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(G$(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function J$(e,t){var n=Je({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=Je(Je({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function Z$(e,t,n){var r,a,i,o=en(),l=qg(),c=H$(e,t),d=Q$(e,c),u=K$(),f=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var P;c.outside||l.focusedDay&&f&&vr(l.focusedDay,e)&&((P=n.current)===null||P===void 0||P.focus())},[l.focusedDay,e,n,f,c.outside]);var h=X$(o,c).join(" "),g=J$(o,c),v=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:b$,w=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),x={style:g,className:h,children:w,role:"gridcell"},y=l.focusTarget&&vr(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&vr(l.focusedDay,e),j=Je(Je(Je({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||y?0:-1,r)),d),N={isButton:f,isHidden:v,activeModifiers:c,selectedDays:u,buttonProps:j,divProps:x};return N}function e6(e){var t=m.useRef(null),n=Z$(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(dm,Je({name:"day",ref:t},n.buttonProps)):s.jsx("div",Je({},n.divProps))}function t6(e){var t=e.number,n=e.dates,r=en(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),h=function(g){a(t,n,g)};return s.jsx(dm,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:u})}function n6(e){var t,n,r=en(),a=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:e6,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:t6,u;return o&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},DF(f))})]})}function vb(e,t,n){for(var r=n!=null&&n.ISOWeek?I1(t):Sg(t,n),a=n!=null&&n.ISOWeek?ro(e):Ys(e,n),i=Ls(r,a),o=[],l=0;l<=i;l++)o.push(lr(a,l));var c=o.reduce(function(d,u){var f=n!=null&&n.ISOWeek?L1(u):B1(u,n),h=d.find(function(g){return g.weekNumber===f});return h?(h.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function r6(e,t){var n=vb(Cr(e),Ng(e),t);if(t!=null&&t.useFixedWeeks){var r=PF(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=Up(i,6-r),l=vb(Up(i,1),o,t);n.push.apply(n,l)}}return n}function s6(e){var t,n,r,a=en(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,g=a.ISOWeek,v=r6(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:g,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:v$,w=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:n6,x=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:x$;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(y){return s.jsx(w,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function a6(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var i6=a6()?m.useLayoutEffect:m.useEffect,bh=!1,o6=0;function bb(){return"react-day-picker-".concat(++o6)}function l6(e){var t,n=e??(bh?bb():null),r=m.useState(n),a=r[0],i=r[1];return i6(function(){a===null&&i(bb())},[]),m.useEffect(function(){bh===!1&&(bh=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function c6(e){var t,n,r=en(),a=r.dir,i=r.classNames,o=r.styles,l=r.components,c=ld().displayMonths,d=l6(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,g=e.displayIndex===0,v=e.displayIndex===c.length-1,p=!g&&!v;a==="rtl"&&(t=[g,v],v=t[0],g=t[1]),g&&(f.push(i.caption_start),h=Je(Je({},h),o.caption_start)),v&&(f.push(i.caption_end),h=Je(Je({},h),o.caption_end)),p&&(f.push(i.caption_between),h=Je(Je({},h),o.caption_between));var w=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:p$;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(w,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(s6,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function d6(e){var t=en(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function u6(e){var t,n,r=e.initialProps,a=en(),i=qg(),o=ld(),l=m.useState(!1),c=l[0],d=l[1];m.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=Je(Je({},a.styles.root),a.style),h=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,p){var w;return Je(Je({},v),(w={},w[p]=r[p],w))},{}),g=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:d6;return s.jsx("div",Je({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:s.jsx(g,{children:o.displayMonths.map(function(v,p){return s.jsx(c6,{displayIndex:p,displayMonth:v},p)})})}))}function m6(e){var t=e.children,n=IL(e,["children"]);return s.jsx(t$,{initialProps:n,children:s.jsx(u$,{children:s.jsx(V$,{initialProps:n,children:s.jsx(w$,{initialProps:n,children:s.jsx(S$,{initialProps:n,children:s.jsx(R$,{children:s.jsx(z$,{children:t})})})})})})})}function f6(e){return s.jsx(m6,Je({},e,{children:s.jsx(u6,{initialProps:e})}))}function oi({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(f6,{showOutsideDays:n,className:We("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:We(Np({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:We(Np({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(hc,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(zu,{className:"h-4 w-4"})},...r})}oi.displayName="Calendar";var Kg="Popover",[gk,EB]=bi(Kg,[ef]),cd=ef(),[h6,Si]=gk(Kg),yk=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=cd(t),c=m.useRef(null),[d,u]=m.useState(!1),[f=!1,h]=va({prop:r,defaultProp:a,onChange:i});return s.jsx(CS,{...l,children:s.jsx(h6,{scope:t,contentId:ua(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:n})})};yk.displayName=Kg;var vk="PopoverAnchor",p6=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Si(vk,n),i=cd(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Tg,{...i,...r,ref:t})});p6.displayName=vk;var bk="PopoverTrigger",wk=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Si(bk,n),i=cd(n),o=qt(t,a.triggerRef),l=s.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":kk(a.open),...r,ref:o,onClick:at(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Tg,{asChild:!0,...i,children:l})});wk.displayName=bk;var Gg="PopoverPortal",[x6,g6]=gk(Gg,{forceMount:void 0}),jk=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=Si(Gg,t);return s.jsx(x6,{scope:t,forceMount:n,children:s.jsx(ja,{present:n||i.open,children:s.jsx(tf,{asChild:!0,container:a,children:r})})})};jk.displayName=Gg;var yl="PopoverContent",Nk=m.forwardRef((e,t)=>{const n=g6(yl,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=Si(yl,e.__scopePopover);return s.jsx(ja,{present:r||i.open,children:i.modal?s.jsx(y6,{...a,ref:t}):s.jsx(v6,{...a,ref:t})})});Nk.displayName=yl;var y6=m.forwardRef((e,t)=>{const n=Si(yl,e.__scopePopover),r=m.useRef(null),a=qt(t,r),i=m.useRef(!1);return m.useEffect(()=>{const o=r.current;if(o)return Rg(o)},[]),s.jsx(rf,{as:di,allowPinchZoom:!0,children:s.jsx(Sk,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:at(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:at(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),v6=m.forwardRef((e,t)=>{const n=Si(yl,e.__scopePopover),r=m.useRef(!1),a=m.useRef(!1);return s.jsx(Sk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Sk=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,h=Si(yl,n),g=cd(n);return Dg(),s.jsx(Zm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Jm,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(kS,{"data-state":kk(h.open),role:"dialog",id:h.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ck="PopoverClose",b6=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Si(Ck,n);return s.jsx(ct.button,{type:"button",...r,ref:t,onClick:at(e.onClick,()=>a.onOpenChange(!1))})});b6.displayName=Ck;var w6="PopoverArrow",j6=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=cd(n);return s.jsx(_S,{...a,...r,ref:t})});j6.displayName=w6;function kk(e){return e?"open":"closed"}var N6=yk,S6=wk,C6=jk,_k=Nk;const vl=N6,bl=S6,oo=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(C6,{children:s.jsx(_k,{ref:a,align:t,sideOffset:n,className:We("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));oo.displayName=_k.displayName;var Xg="Switch",[k6,PB]=bi(Xg),[_6,D6]=k6(Xg),Dk=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,g]=m.useState(null),v=qt(t,b=>g(b)),p=m.useRef(!1),w=h?u||!!h.closest("form"):!0,[x=!1,y]=va({prop:a,defaultProp:i,onChange:d});return s.jsxs(_6,{scope:n,checked:x,disabled:l,children:[s.jsx(ct.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":Tk(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:at(e.onClick,b=>{y(j=>!j),w&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),w&&s.jsx(E6,{control:h,bubbles:!p.current,name:r,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Dk.displayName=Xg;var Ek="SwitchThumb",Pk=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=D6(Ek,n);return s.jsx(ct.span,{"data-state":Tk(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});Pk.displayName=Ek;var E6=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=m.useRef(null),o=Xm(n),l=Gm(t);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Tk(e){return e?"checked":"unchecked"}var Rk=Dk,P6=Pk;const No=m.forwardRef(({className:e,...t},n)=>s.jsx(Rk,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(P6,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));No.displayName=Rk.displayName;const Zp=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:We("w-full caption-bottom text-sm",e),...t})}));Zp.displayName="Table";const ex=m.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:We("[&_tr]:border-b",e),...t}));ex.displayName="TableHeader";const tx=m.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:We("[&_tr:last-child]:border-0",e),...t}));tx.displayName="TableBody";const T6=m.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:We("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));T6.displayName="TableFooter";const sc=m.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:We("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));sc.displayName="TableRow";const Xn=m.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:We("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Xn.displayName="TableHead";const Jn=m.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Jn.displayName="TableCell";const R6=m.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:We("mt-4 text-sm text-muted-foreground",e),...t}));R6.displayName="TableCaption";const M6=()=>{var gt,Tt,ln,hn,Ie;const{toast:e}=fn(),t=`${oe}/routes/routes`,n=`${oe}/booking`,[r,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState(null),[f,h]=m.useState(null),[g,v]=m.useState(!1),[p,w]=m.useState(!1),[x,y]=m.useState({flightNumber:"",routeId:0,aircraftType:"Boeing 737",aircraftRegistration:"",flightDuration:"02:00:00",maxPassengers:150,hasBusinessClass:!1,hasEconomyClass:!0,businessClassSeats:0,economyClassSeats:150,isActive:!0,isSeasonal:!1,operationalDays:[],notes:""}),[b,j]=m.useState({flightId:0,departureDate:void 0,departureTime:"08:00",arrivalDate:void 0,arrivalTime:"10:00",totalSeats:150,priceMultiplier:1,gateNumber:"",isActive:!0}),[N,P]=m.useState(!0),[C,S]=m.useState(!0),[O,k]=m.useState(!0),[F,B]=m.useState(!1),[ee,re]=m.useState(!1),[J,q]=m.useState({selectedFlight:"",startDate:"",endDate:"",departureTime:"08:00",operationalDays:[],totalSeats:150,priceMultiplier:1});m.useEffect(()=>{D(),_(),T()},[]);const D=async()=>{try{const R=await fetch(`${t}/`);if(R.ok){const he=await R.json();a(he)}else e({variant:"destructive",title:"Error",description:"Failed to load routes"})}catch{e({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{P(!1)}},_=async()=>{S(!0);try{const R=await fetch(`${n}/flights/`);if(R.ok){const he=await R.json();o(he)}else e({variant:"destructive",title:"Error",description:"Failed to load flights"})}catch{e({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{S(!1)}},T=async()=>{k(!0);try{const R=await fetch(`${n}/flight-schedules/`);if(R.ok){const he=await R.json();c(he)}else e({variant:"destructive",title:"Error",description:"Failed to load schedules"})}catch{e({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{k(!1)}},L=(R,he)=>{y(Te=>{const Oe={...Te,[R]:he};return R==="businessClassSeats"&&he===0&&(Oe.hasBusinessClass=!1),R==="businessClassSeats"&&he>0&&(Oe.hasBusinessClass=!0),R==="economyClassSeats"&&he===0&&(Oe.hasEconomyClass=!1),R==="economyClassSeats"&&he>0&&(Oe.hasEconomyClass=!0),Oe})},U=(R,he)=>{j(Te=>({...Te,[R]:he}))},z=(R,he)=>{y(Te=>({...Te,operationalDays:he?[...Te.operationalDays,R].sort():Te.operationalDays.filter(Oe=>Oe!==R)}))},G=()=>{y({flightNumber:"",routeId:0,aircraftType:"Boeing 737",aircraftRegistration:"",flightDuration:"02:00:00",maxPassengers:150,hasBusinessClass:!1,hasEconomyClass:!0,businessClassSeats:0,economyClassSeats:150,isActive:!0,isSeasonal:!1,operationalDays:[],notes:""}),v(!1),u(null)},ye=()=>{j({flightId:0,departureDate:void 0,departureTime:"08:00",arrivalDate:void 0,arrivalTime:"10:00",totalSeats:150,priceMultiplier:1,gateNumber:"",isActive:!0}),w(!1),h(null)},Ce=()=>x.flightNumber.trim()?x.routeId?x.maxPassengers<=0?(e({variant:"destructive",title:"Validation Error",description:"Maximum passengers must be greater than zero"}),!1):x.businessClassSeats+x.economyClassSeats>x.maxPassengers?(e({variant:"destructive",title:"Validation Error",description:"Total seats cannot exceed maximum passenger capacity"}),!1):!x.hasBusinessClass&&!x.hasEconomyClass?(e({variant:"destructive",title:"Validation Error",description:"At least one service class must be enabled"}),!1):!0:(e({variant:"destructive",title:"Validation Error",description:"Please select a route"}),!1):(e({variant:"destructive",title:"Validation Error",description:"Please enter a flight number"}),!1),ge=()=>{if(!b.flightId)return e({variant:"destructive",title:"Validation Error",description:"Please select a flight"}),!1;if(!b.departureDate)return e({variant:"destructive",title:"Validation Error",description:"Please select a departure date"}),!1;if(!b.arrivalDate)return e({variant:"destructive",title:"Validation Error",description:"Please select an arrival date"}),!1;const R=new Date(`${pt(b.departureDate,"yyyy-MM-dd")}T${b.departureTime}:00`),he=new Date(`${pt(b.arrivalDate,"yyyy-MM-dd")}T${b.arrivalTime}:00`);return R>=he?(e({variant:"destructive",title:"Validation Error",description:"Departure time must be before arrival time"}),!1):!0},Q=async R=>{var he;if(R.preventDefault(),!!Ce()){B(!0);try{const Te={flight_number:x.flightNumber,route:x.routeId,aircraft_type:x.aircraftType,aircraft_registration:x.aircraftRegistration,flight_duration:x.flightDuration,max_passengers:x.maxPassengers,has_business_class:x.hasBusinessClass,has_economy_class:x.hasEconomyClass,business_class_seats:x.businessClassSeats,economy_class_seats:x.economyClassSeats,is_active:x.isActive,is_seasonal:x.isSeasonal,operational_days:x.operationalDays.length>0?x.operationalDays:null,notes:x.notes};let Oe;if(g&&d?Oe=await fetch(`${n}/flights/${d.id}/`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Te)}):Oe=await fetch(`${n}/flights/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Te)}),Oe.ok){const De=await Oe.json();e({title:g?"Flight updated successfully":"Flight created successfully",description:`Flight ${((he=De.flight)==null?void 0:he.flight_number)||x.flightNumber} has been ${g?"updated":"created"}.`}),G(),_()}else{const De=await Oe.json(),Re=typeof De=="object"?Object.values(De).flat().join(", "):"Operation failed";e({variant:"destructive",title:g?"Failed to update flight":"Failed to create flight",description:Re})}}catch{e({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{B(!1)}}},te=async R=>{if(R.preventDefault(),!!ge()){B(!0);try{const he=new Date(`${pt(b.departureDate,"yyyy-MM-dd")}T${b.departureTime}:00`).toISOString(),Te=new Date(`${pt(b.arrivalDate,"yyyy-MM-dd")}T${b.arrivalTime}:00`).toISOString(),Oe={flight_id:b.flightId,departure_time:he,arrival_time:Te,total_seats:b.totalSeats,price_multiplier:b.priceMultiplier,gate_number:b.gateNumber,is_active:b.isActive};let De;if(p&&f?De=await fetch(`${n}/flight-schedules/${f.id}/`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Oe)}):De=await fetch(`${n}/flight-schedules/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Oe)}),De.ok){const Re=await De.json();e({title:p?"Schedule updated successfully":"Schedule created successfully",description:`Schedule has been ${p?"updated":"created"}.`}),ye(),T()}else{const Re=await De.json(),qe=typeof Re=="object"?Object.values(Re).flat().join(", "):"Operation failed";e({variant:"destructive",title:p?"Failed to update schedule":"Failed to create schedule",description:qe})}}catch{e({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{B(!1)}}},de=R=>{u(R),v(!0),y({flightNumber:R.flight_number,routeId:R.route.id,aircraftType:R.aircraft_type,aircraftRegistration:R.aircraft_registration,flightDuration:R.flight_duration,maxPassengers:R.max_passengers,hasBusinessClass:R.has_business_class,hasEconomyClass:R.has_economy_class,businessClassSeats:R.business_class_seats,economyClassSeats:R.economy_class_seats,isActive:R.is_active,isSeasonal:R.is_seasonal,operationalDays:R.operational_days||[],notes:R.notes})},E=R=>{h(R),w(!0);const he=new Date(R.departure_time),Te=new Date(R.arrival_time);j({flightId:R.flight.id,departureDate:he,departureTime:pt(he,"HH:mm"),arrivalDate:Te,arrivalTime:pt(Te,"HH:mm"),totalSeats:R.total_seats,priceMultiplier:Number.parseFloat(R.price_multiplier),gateNumber:R.gate_number,isActive:R.is_active})},Z=async R=>{re(!0);try{const he=await fetch(`${n}/flights/${R}/`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(he.ok)e({title:"Flight deleted",description:"The flight has been deleted successfully."}),_();else{const Te=await he.json();e({variant:"destructive",title:"Failed to delete flight",description:Te.error||"Operation failed"})}}catch{e({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{re(!1)}},W=async R=>{re(!0);try{const he=await fetch(`${n}/flight-schedules/${R}/`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(he.ok)e({title:"Schedule deleted",description:"The schedule has been deleted successfully."}),T();else{const Te=await he.json();e({variant:"destructive",title:"Failed to delete schedule",description:Te.error||"Operation failed"})}}catch{e({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{re(!1)}},be=R=>r.find(he=>he.id===R),Ye=R=>i.find(he=>he.id===R),Ze=R=>pt(new Date(R),"MMM d, yyyy HH:mm"),tt=[{value:0,label:"Monday"},{value:1,label:"Tuesday"},{value:2,label:"Wednesday"},{value:3,label:"Thursday"},{value:4,label:"Friday"},{value:5,label:"Saturday"},{value:6,label:"Sunday"}],Ct=(R,he)=>{q(Te=>({...Te,[R]:he}))},Mt=(R,he)=>{q(Te=>({...Te,operationalDays:he?[...Te.operationalDays,R].sort():Te.operationalDays.filter(Oe=>Oe!==R)}))},I=()=>{if(!J.startDate||!J.endDate)return 0;const R=new Date(J.startDate),he=new Date(J.endDate),Te=J.operationalDays;let Oe=0;const De=new Date(R);for(;De<=he;){const Re=De.getDay()===0?6:De.getDay()-1;(Te.length===0||Te.includes(Re))&&Oe++,De.setDate(De.getDate()+1)}return Oe},He=async R=>{if(R.preventDefault(),!J.selectedFlight){e({variant:"destructive",title:"Validation Error",description:"Please select a flight"});return}if(!J.startDate||!J.endDate){e({variant:"destructive",title:"Validation Error",description:"Please select start and end dates"});return}const he=I();if(he===0){e({variant:"destructive",title:"No Schedules",description:"No schedules would be created with these parameters"});return}B(!0);try{const Te=i.find(Gt=>Gt.id===parseInt(J.selectedFlight));if(!Te)throw new Error("Flight not found");const Oe=new Date(J.startDate),De=new Date(J.endDate),Re=[],qe=new Date(Oe);for(;qe<=De;){const Gt=qe.getDay()===0?6:qe.getDay()-1;if(J.operationalDays.length===0||J.operationalDays.includes(Gt)){const En=new Date(`${qe.toISOString().split("T")[0]}T${J.departureTime}:00`),K=Te.flight_duration.split(":"),ie=(parseInt(K[0])*60+parseInt(K[1]))*60*1e3,Fe=new Date(En.getTime()+ie),ue={flight_id:parseInt(J.selectedFlight),departure_time:En.toISOString(),arrival_time:Fe.toISOString(),total_seats:J.totalSeats,price_multiplier:J.priceMultiplier,is_active:!0};try{const Ne=await fetch(`${n}/flight-schedules/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(ue)});Ne.ok?Re.push(await Ne.json()):console.warn(`Failed to create schedule for ${En.toISOString()}`)}catch(Ne){console.warn(`Error creating schedule for ${En.toISOString()}:`,Ne)}}qe.setDate(qe.getDate()+1)}e({title:"Bulk Schedules Created",description:`Successfully created ${Re.length} out of ${he} schedules`}),q({selectedFlight:"",startDate:"",endDate:"",departureTime:"08:00",operationalDays:[],totalSeats:150,priceMultiplier:1}),T()}catch(Te){console.error("Bulk schedule creation error:",Te),e({variant:"destructive",title:"Bulk Creation Failed",description:"Failed to create bulk schedules. Please try again."})}finally{B(!1)}};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Flight Management"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage flights and schedules for booking"})]}),s.jsxs(es,{defaultValue:"create-flight",children:[s.jsxs(Fr,{className:"mb-6",children:[s.jsx(rt,{value:"create-flight",children:"Create Flight"}),s.jsx(rt,{value:"create-schedule",children:"Create Schedule"}),s.jsx(rt,{value:"bulk-schedules",children:"Bulk Schedule Creation"}),s.jsx(rt,{value:"manage-flights",children:"Manage Flights"}),s.jsx(rt,{value:"manage-schedules",children:"Manage Schedules"})]}),s.jsx(st,{value:"create-flight",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:g?"Edit Flight":"Create New Flight"}),s.jsx(ke,{children:g?"Update the details of an existing flight":"Add a new flight that can be scheduled for customers to book"})]}),s.jsxs("form",{onSubmit:Q,children:[s.jsxs(me,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"flightNumber",children:"Flight Number"}),s.jsx(je,{id:"flightNumber",placeholder:"e.g., FJ001",value:x.flightNumber,onChange:R=>L("flightNumber",R.target.value),disabled:F,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"route",children:"Route"}),s.jsxs(Cn,{value:x.routeId.toString(),onValueChange:R=>L("routeId",Number.parseInt(R)),disabled:N||F,children:[s.jsx(yn,{children:s.jsx(kn,{placeholder:N?"Loading routes...":"Select a route"})}),s.jsx(vn,{children:r.map(R=>s.jsxs(Ve,{value:R.id.toString(),children:[R.from_destination.name,"  ",R.to_destination.name," (",R.from_destination.code," -"," ",R.to_destination.code,")"]},R.id))})]}),x.routeId>0&&s.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Price"}),s.jsxs("p",{className:"text-base",children:[(gt=be(x.routeId))==null?void 0:gt.price," ",(Tt=be(x.routeId))==null?void 0:Tt.currency]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Estimated Time"}),s.jsx("p",{className:"text-base",children:(ln=be(x.routeId))==null?void 0:ln.estimated_time})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Distance"}),s.jsx("p",{className:"text-base",children:(hn=be(x.routeId))==null?void 0:hn.distance})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Points Threshold"}),s.jsxs("p",{className:"text-base",children:[(Ie=be(x.routeId))==null?void 0:Ie.point_threshold," points"]})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"aircraftType",children:"Aircraft Type"}),s.jsxs(Cn,{value:x.aircraftType,onValueChange:R=>L("aircraftType",R),disabled:F,children:[s.jsx(yn,{children:s.jsx(kn,{})}),s.jsxs(vn,{children:[s.jsx(Ve,{value:"Boeing 737",children:"Boeing 737"}),s.jsx(Ve,{value:"Boeing 747",children:"Boeing 747"}),s.jsx(Ve,{value:"Boeing 777",children:"Boeing 777"}),s.jsx(Ve,{value:"Boeing 787",children:"Boeing 787"}),s.jsx(Ve,{value:"Airbus A320",children:"Airbus A320"}),s.jsx(Ve,{value:"Airbus A330",children:"Airbus A330"}),s.jsx(Ve,{value:"Airbus A350",children:"Airbus A350"}),s.jsx(Ve,{value:"Airbus A380",children:"Airbus A380"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"aircraftRegistration",children:"Aircraft Registration"}),s.jsx(je,{id:"aircraftRegistration",placeholder:"e.g., Z-ABC",value:x.aircraftRegistration,onChange:R=>L("aircraftRegistration",R.target.value),disabled:F})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"flightDuration",children:"Flight Duration (HH:MM:SS)"}),s.jsx(je,{id:"flightDuration",type:"time",step:"1",value:x.flightDuration,onChange:R=>L("flightDuration",R.target.value+":00"),disabled:F})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"maxPassengers",children:"Maximum Passengers"}),s.jsx(je,{id:"maxPassengers",type:"number",min:"1",max:"1000",value:x.maxPassengers,onChange:R=>L("maxPassengers",Number.parseInt(R.target.value)),disabled:F})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Service Classes"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(No,{id:"hasBusinessClass",checked:x.hasBusinessClass,onCheckedChange:R=>L("hasBusinessClass",R),disabled:F}),s.jsx(Y,{htmlFor:"hasBusinessClass",children:"Business Class"})]}),x.hasBusinessClass&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"businessClassSeats",children:"Business Class Seats"}),s.jsx(je,{id:"businessClassSeats",type:"number",min:"0",value:x.businessClassSeats,onChange:R=>L("businessClassSeats",Number.parseInt(R.target.value)||0),disabled:F})]})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(No,{id:"hasEconomyClass",checked:x.hasEconomyClass,onCheckedChange:R=>L("hasEconomyClass",R),disabled:F}),s.jsx(Y,{htmlFor:"hasEconomyClass",children:"Economy Class"})]}),x.hasEconomyClass&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"economyClassSeats",children:"Economy Class Seats"}),s.jsx(je,{id:"economyClassSeats",type:"number",min:"0",value:x.economyClassSeats,onChange:R=>L("economyClassSeats",Number.parseInt(R.target.value)||0),disabled:F})]})]})]}),s.jsx("div",{className:"p-3 bg-blue-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Total Seats:"})," ",x.businessClassSeats+x.economyClassSeats," /"," ",x.maxPassengers]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Operational Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(No,{id:"isActive",checked:x.isActive,onCheckedChange:R=>L("isActive",R),disabled:F}),s.jsx(Y,{htmlFor:"isActive",children:"Active Flight"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:x.isActive?"Flight is operational and can be scheduled":"Flight is inactive and cannot be scheduled"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(No,{id:"isSeasonal",checked:x.isSeasonal,onCheckedChange:R=>L("isSeasonal",R),disabled:F}),s.jsx(Y,{htmlFor:"isSeasonal",children:"Seasonal Flight"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:x.isSeasonal?"Flight operates only during specific seasons":"Flight operates year-round"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Operational Days"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Select the days of the week this flight operates. Leave empty for daily operation."}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2",children:tt.map(R=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wg,{id:`day-${R.value}`,checked:x.operationalDays.includes(R.value),onCheckedChange:he=>z(R.value,!!he),disabled:F}),s.jsx(Y,{htmlFor:`day-${R.value}`,className:"text-sm",children:R.label})]},R.value))}),x.operationalDays.length===0&&s.jsx("p",{className:"text-sm text-blue-600",children:"Flight will operate daily"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"notes",children:"Notes"}),s.jsx("textarea",{id:"notes",className:"w-full min-h-[100px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes about this flight...",value:x.notes,onChange:R=>L("notes",R.target.value),disabled:F})]})]}),s.jsxs(rr,{className:"flex justify-between",children:[s.jsx($,{variant:"outline",onClick:G,disabled:F,children:g?"Cancel":"Reset"}),s.jsx($,{type:"submit",disabled:F,children:F?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),g?"Updating...":"Creating..."]}):s.jsx(s.Fragment,{children:g?"Update Flight":"Create Flight"})})]})]})]})}),s.jsx(st,{value:"create-schedule",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:p?"Edit Schedule":"Create Flight Schedule"}),s.jsx(ke,{children:p?"Update the details of an existing flight schedule":"Schedule a specific departure for an existing flight"})]}),s.jsxs("form",{onSubmit:te,children:[s.jsxs(me,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"flight",children:"Flight"}),s.jsxs(Cn,{value:b.flightId.toString(),onValueChange:R=>{const he=Number.parseInt(R);U("flightId",he);const Te=Ye(he);Te&&U("totalSeats",Te.total_seats)},disabled:C||F,children:[s.jsx(yn,{children:s.jsx(kn,{placeholder:C?"Loading flights...":"Select a flight"})}),s.jsx(vn,{children:i.filter(R=>R.is_active).map(R=>{var he,Te,Oe,De;return s.jsxs(Ve,{value:R.id.toString(),children:[R.flight_number," - ",((Te=(he=R.route)==null?void 0:he.from_destination)==null?void 0:Te.name)??"?"," "," ",((De=(Oe=R.route)==null?void 0:Oe.to_destination)==null?void 0:De.name)??"?"]},R.id)})})]}),b.flightId>0&&s.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:(()=>{const R=Ye(b.flightId);return R?s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Aircraft"}),s.jsx("p",{className:"text-base",children:R.aircraft_type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Capacity"}),s.jsxs("p",{className:"text-base",children:[R.total_seats," seats"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),s.jsx("p",{className:"text-base",children:R.flight_duration})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Operational Days"}),s.jsx("p",{className:"text-base",children:R.operational_days_display})]})]}):null})()})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Departure Date"}),s.jsxs(vl,{children:[s.jsx(bl,{asChild:!0,children:s.jsxs($,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:F,children:[s.jsx(Mr,{className:"mr-2 h-4 w-4"}),b.departureDate?pt(b.departureDate,"PPP"):s.jsx("span",{children:"Select date"})]})}),s.jsx(oo,{className:"w-auto p-0",children:s.jsx(oi,{mode:"single",selected:b.departureDate,onSelect:R=>{U("departureDate",R),(!b.arrivalDate||R&&b.arrivalDate<R)&&U("arrivalDate",R)},initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"departureTime",children:"Departure Time"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fn,{className:"mr-2 h-4 w-4 text-gray-500"}),s.jsx(je,{id:"departureTime",type:"time",value:b.departureTime,onChange:R=>U("departureTime",R.target.value),disabled:F})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Arrival Date"}),s.jsxs(vl,{children:[s.jsx(bl,{asChild:!0,children:s.jsxs($,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:F,children:[s.jsx(Mr,{className:"mr-2 h-4 w-4"}),b.arrivalDate?pt(b.arrivalDate,"PPP"):s.jsx("span",{children:"Select date"})]})}),s.jsx(oo,{className:"w-auto p-0",children:s.jsx(oi,{mode:"single",selected:b.arrivalDate,onSelect:R=>U("arrivalDate",R),initialFocus:!0,disabled:R=>b.departureDate?R<b.departureDate:!1})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"arrivalTime",children:"Arrival Time"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fn,{className:"mr-2 h-4 w-4 text-gray-500"}),s.jsx(je,{id:"arrivalTime",type:"time",value:b.arrivalTime,onChange:R=>U("arrivalTime",R.target.value),disabled:F})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"totalSeats",children:"Total Seats"}),s.jsx(je,{id:"totalSeats",type:"number",min:"1",value:b.totalSeats,onChange:R=>U("totalSeats",Number.parseInt(R.target.value)),disabled:F})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"priceMultiplier",children:"Price Multiplier"}),s.jsx(je,{id:"priceMultiplier",type:"number",min:"0.1",max:"10",step:"0.1",value:b.priceMultiplier,onChange:R=>U("priceMultiplier",Number.parseFloat(R.target.value)),disabled:F}),s.jsx("p",{className:"text-xs text-gray-500",children:"Multiplier for base route price (e.g., 1.5 for peak times)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"gateNumber",children:"Gate Number"}),s.jsx(je,{id:"gateNumber",placeholder:"e.g., A1",value:b.gateNumber,onChange:R=>U("gateNumber",R.target.value),disabled:F})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(No,{id:"scheduleActive",checked:b.isActive,onCheckedChange:R=>U("isActive",R),disabled:F}),s.jsx(Y,{htmlFor:"scheduleActive",children:"Active Schedule"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:b.isActive?"Schedule will be available for booking":"Schedule will not be shown in search results"})]})]}),s.jsxs(rr,{className:"flex justify-between",children:[s.jsx($,{variant:"outline",onClick:ye,disabled:F,children:p?"Cancel":"Reset"}),s.jsx($,{type:"submit",disabled:F,children:F?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),p?"Updating...":"Creating..."]}):s.jsx(s.Fragment,{children:p?"Update Schedule":"Create Schedule"})})]})]})]})}),s.jsx(st,{value:"bulk-schedules",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Bulk Schedule Creation"}),s.jsx(ke,{children:"Create multiple flight schedules for a month or specified date range with operational day patterns."})]}),s.jsx(me,{children:s.jsxs("form",{onSubmit:He,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bulk-flight-select",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Flight *"}),s.jsxs("select",{id:"bulk-flight-select",value:J.selectedFlight,onChange:R=>Ct("selectedFlight",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Choose a flight..."}),i.map(R=>{const he=be(R.route.id);return s.jsxs("option",{value:R.id,children:[R.flight_number," - ",he?`${he.from_destination.name}  ${he.to_destination.name}`:"Route not found"]},R.id)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bulk-start-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),s.jsx("input",{id:"bulk-start-date",type:"date",value:J.startDate,onChange:R=>Ct("startDate",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bulk-end-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),s.jsx("input",{id:"bulk-end-date",type:"date",value:J.endDate,onChange:R=>Ct("endDate",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bulk-departure-time",className:"block text-sm font-medium text-gray-700 mb-2",children:"Departure Time *"}),s.jsx("input",{id:"bulk-departure-time",type:"time",value:J.departureTime,onChange:R=>Ct("departureTime",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bulk-total-seats",className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Seats"}),s.jsx("input",{id:"bulk-total-seats",type:"number",min:"1",max:"500",value:J.totalSeats,onChange:R=>Ct("totalSeats",parseInt(R.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bulk-price-multiplier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Multiplier"}),s.jsx("input",{id:"bulk-price-multiplier",type:"number",step:"0.1",min:"0.5",max:"3.0",value:J.priceMultiplier,onChange:R=>Ct("priceMultiplier",parseFloat(R.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Operational Days (leave unchecked for all days)"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2",children:tt.map(({value:R,label:he})=>s.jsxs("label",{className:"flex items-center space-x-2 p-2 border rounded hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",checked:J.operationalDays.includes(R),onChange:Te=>Mt(R,Te.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm",children:he})]},R))})]}),J.startDate&&J.endDate&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Schedule Preview"}),s.jsxs("div",{className:"text-sm text-blue-700",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Schedules to create:"})," ",I()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date range:"})," ",J.startDate," to ",J.endDate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Departure time:"})," ",J.departureTime]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Operational days:"})," ",J.operationalDays.length===0?"All days":J.operationalDays.map(R=>tt[R].label).join(", ")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Seats per flight:"})," ",J.totalSeats]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Price multiplier:"})," ",J.priceMultiplier,"x"]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>q({selectedFlight:"",startDate:"",endDate:"",departureTime:"08:00",operationalDays:[],totalSeats:150,priceMultiplier:1}),children:"Reset Form"}),s.jsx($,{type:"submit",disabled:F||I()===0,className:"bg-blue-600 hover:bg-blue-700 text-white",children:F?"Creating Schedules...":`Create ${I()} Schedules`})]})]})})]})}),s.jsx(st,{value:"manage-flights",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Manage Flights"}),s.jsx(ke,{children:"View, edit, and delete flight definitions"})]}),s.jsx(me,{children:C?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Dt,{className:"h-8 w-8 animate-spin text-gray-400"})}):i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ms,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No flights found"}),s.jsx("p",{className:"text-gray-500",children:"Create your first flight to get started"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Zp,{children:[s.jsx(ex,{children:s.jsxs(sc,{children:[s.jsx(Xn,{children:"Flight Number"}),s.jsx(Xn,{children:"Route"}),s.jsx(Xn,{children:"Aircraft"}),s.jsx(Xn,{children:"Capacity"}),s.jsx(Xn,{children:"Operational Days"}),s.jsx(Xn,{children:"Status"}),s.jsx(Xn,{className:"text-right",children:"Actions"})]})}),s.jsx(tx,{children:i.map(R=>{var he,Te,Oe,De;return s.jsxs(sc,{children:[s.jsx(Jn,{className:"font-medium",children:R.flight_number}),s.jsxs(Jn,{children:[((Te=(he=R.route)==null?void 0:he.from_destination)==null?void 0:Te.code)??"?","  ",((De=(Oe=R.route)==null?void 0:Oe.to_destination)==null?void 0:De.code)??"?"]}),s.jsx(Jn,{children:R.aircraft_type}),s.jsxs(Jn,{children:[R.total_seats," seats"]}),s.jsx(Jn,{children:R.operational_days_display}),s.jsx(Jn,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(it,{variant:R.is_active?"default":"secondary",children:R.is_active?"Active":"Inactive"}),R.is_seasonal&&s.jsx(it,{variant:"outline",children:"Seasonal"})]})}),s.jsx(Jn,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>de(R),title:"Edit",children:s.jsx(Cp,{className:"h-4 w-4"})}),s.jsxs(Kt,{children:[s.jsx(Uc,{asChild:!0,children:s.jsx($,{variant:"ghost",size:"icon",title:"Delete",children:s.jsx(kp,{className:"h-4 w-4"})})}),s.jsxs(zt,{children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Delete Flight"}),s.jsxs(rn,{children:["Are you sure you want to delete flight ",R.flight_number,"? This action cannot be undone."]})]}),s.jsxs(Sn,{children:[s.jsx($,{variant:"outline",onClick:()=>{},children:"Cancel"}),s.jsx($,{variant:"destructive",onClick:()=>Z(R.id),disabled:ee,children:ee?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})]})]})})]},R.id)})})]})})})]})}),s.jsx(st,{value:"manage-schedules",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Manage Flight Schedules"}),s.jsx(ke,{children:"View, edit, and delete flight schedules"})]}),s.jsx(me,{children:O?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(Dt,{className:"h-8 w-8 animate-spin text-gray-400"})}):l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(oi,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No schedules found"}),s.jsx("p",{className:"text-gray-500",children:"Create your first flight schedule to get started"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Zp,{children:[s.jsx(ex,{children:s.jsxs(sc,{children:[s.jsx(Xn,{children:"Flight"}),s.jsx(Xn,{children:"Route"}),s.jsx(Xn,{children:"Departure"}),s.jsx(Xn,{children:"Arrival"}),s.jsx(Xn,{children:"Seats"}),s.jsx(Xn,{children:"Gate"}),s.jsx(Xn,{children:"Status"}),s.jsx(Xn,{className:"text-right",children:"Actions"})]})}),s.jsx(tx,{children:l.map(R=>{var he,Te,Oe,De;return s.jsxs(sc,{children:[s.jsx(Jn,{className:"font-medium",children:R.flight.flight_number}),s.jsxs(Jn,{children:[((Te=(he=R.flight.route)==null?void 0:he.from_destination)==null?void 0:Te.code)??"?"," "," ",((De=(Oe=R.flight.route)==null?void 0:Oe.to_destination)==null?void 0:De.code)??"?"]}),s.jsx(Jn,{children:Ze(R.departure_time)}),s.jsx(Jn,{children:Ze(R.arrival_time)}),s.jsxs(Jn,{children:[R.available_seats,"/",R.total_seats]}),s.jsx(Jn,{children:R.gate_number||"-"}),s.jsx(Jn,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(it,{variant:R.is_active?"default":"secondary",children:R.is_active?"Active":"Inactive"}),R.is_delayed&&s.jsx(it,{variant:"destructive",children:"Delayed"})]})}),s.jsx(Jn,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>E(R),title:"Edit",children:s.jsx(Cp,{className:"h-4 w-4"})}),s.jsxs(Kt,{children:[s.jsx(Uc,{asChild:!0,children:s.jsx($,{variant:"ghost",size:"icon",title:"Delete",children:s.jsx(kp,{className:"h-4 w-4"})})}),s.jsxs(zt,{children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Delete Schedule"}),s.jsx(rn,{children:"Are you sure you want to delete this schedule? This action cannot be undone."})]}),s.jsxs(Sn,{children:[s.jsx($,{variant:"outline",onClick:()=>{},children:"Cancel"}),s.jsx($,{variant:"destructive",onClick:()=>W(R.id),disabled:ee,children:ee?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})]})]})})]},R.id)})})]})})})]})})]})]})},O6=()=>{const{toast:e}=fn(),[t,n]=m.useState(!0),[r,a]=m.useState(!1),[i,o]=m.useState([]),[l,c]=m.useState({total_transactions:0,successful:0,failed:0,pending:0,total_amount:0,verified:0,unverified:0,success_rate:0}),[d,u]=m.useState([]),[f,h]=m.useState(()=>{const I=new Date;return I.setDate(I.getDate()-7),I.toISOString().split("T")[0]}),[g,v]=m.useState(()=>new Date().toISOString().split("T")[0]),[p,w]=m.useState(""),[x,y]=m.useState("all"),[b,j]=m.useState(null),[N,P]=m.useState(!1),[C,S]=m.useState(!1),[O,k]=m.useState([]),[F,B]=m.useState({total_calls:0,successful_calls:0,failed_calls:0,validation_errors:0,success_rate:0,auto_credited_count:0,auto_credit_total:"0",total_points_awarded:0,avg_response_time_ms:0,recent_calls_24h:0,recent_auto_credits_24h:0}),[ee,re]=m.useState([]),[J,q]=m.useState({page:1,page_size:20,total_pages:1,total_records:0}),[D,_]=m.useState({endpoint:"",status:"",auto_credited:"",search:""}),[T,L]=m.useState(null),[U,z]=m.useState(!1),G=sessionStorage.getItem("token");m.useEffect(()=>{ye(),Ce(),ge()},[f,g]);const ye=async()=>{if(G){n(!0);try{const I=new URLSearchParams({date_from:f,date_to:g}),[He,gt,Tt]=await Promise.all([Be.get(`${oe}/wallets/bancabc/api/stats/?${I}`,{headers:{Authorization:`Token ${G}`}}),Be.get(`${oe}/wallets/bancabc/transactions/?${I}&limit=100`,{headers:{Authorization:`Token ${G}`}}),Be.get(`${oe}/wallets/bancabc/api/stats/?${I}&branch_breakdown=true`,{headers:{Authorization:`Token ${G}`}})]);c(He.data),o(gt.data.results||gt.data),u(Tt.data.branch_stats||[])}catch(I){console.error("Error fetching BancABC data:",I),e({title:"Error",description:"Failed to load BancABC dashboard data",variant:"destructive"})}finally{n(!1)}}},Ce=async(I=1)=>{if(G)try{const He=new URLSearchParams({date_from:f,date_to:g,page:I.toString(),page_size:J.page_size.toString()});D.endpoint&&He.append("endpoint",D.endpoint),D.status&&He.append("status",D.status),D.auto_credited&&He.append("auto_credited",D.auto_credited),D.search&&He.append("search",D.search);const gt=await Be.get(`${oe}/wallets/bancabc/api/logs/?${He}`,{headers:{Authorization:`Token ${G}`}});gt.data.status==="success"&&(k(gt.data.logs),q(gt.data.pagination))}catch(He){console.error("Error fetching API logs:",He)}},ge=async()=>{if(G)try{const I=new URLSearchParams({date_from:f,date_to:g}),He=await Be.get(`${oe}/wallets/bancabc/api/stats/?${I}`,{headers:{Authorization:`Token ${G}`}});He.data.status==="success"&&(B(He.data.stats),re(He.data.endpoint_breakdown||[]))}catch(I){console.error("Error fetching API stats:",I)}},Q=async I=>{if(G)try{const He=await Be.get(`${oe}/wallets/bancabc/api/logs/${I}/`,{headers:{Authorization:`Token ${G}`}});He.data.status==="success"&&(L(He.data.log),z(!0))}catch(He){console.error("Error fetching API log detail:",He),e({title:"Error",description:"Failed to load log details",variant:"destructive"})}},te=async()=>{a(!0),await Promise.all([ye(),Ce(),ge()]),a(!1),e({title:"Refreshed",description:"Dashboard data updated successfully"})},de=async I=>{var He,gt;if(G)try{await Be.post(`${oe}/wallets/bancabc/api/verify/${I}/`,{},{headers:{Authorization:`Token ${G}`}}),e({title:"Transaction Verified",description:"Payment has been manually verified"}),S(!1),ye()}catch(Tt){e({title:"Verification Failed",description:((gt=(He=Tt.response)==null?void 0:He.data)==null?void 0:gt.error)||"Could not verify transaction",variant:"destructive"})}},E=async()=>{if(G)try{const I=new URLSearchParams({date_from:f,date_to:g,status:x!=="all"?x:"",search:p}),He=await Be.get(`${oe}/wallets/bancabc/export/csv/?${I}`,{headers:{Authorization:`Token ${G}`},responseType:"blob"}),gt=window.URL.createObjectURL(new Blob([He.data])),Tt=document.createElement("a");Tt.href=gt,Tt.setAttribute("download",`bancabc_transactions_${f}_${g}.csv`),document.body.appendChild(Tt),Tt.click(),Tt.remove(),e({title:"Export Successful",description:"Transactions exported to CSV"})}catch{e({title:"Export Failed",description:"Could not export transactions",variant:"destructive"})}},Z=I=>{j(I),P(!0)},W=I=>{j(I),S(!0)},be=I=>{switch(I){case"SUCCESS":return s.jsxs(it,{className:"bg-green-100 text-green-800",children:[s.jsx(wt,{className:"h-3 w-3 mr-1"}),"Success"]});case"FAILED":return s.jsxs(it,{className:"bg-red-100 text-red-800",children:[s.jsx(Is,{className:"h-3 w-3 mr-1"}),"Failed"]});case"PENDING":return s.jsxs(it,{className:"bg-yellow-100 text-yellow-800",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Pending"]});default:return s.jsx(it,{variant:"secondary",children:I})}},Ye=I=>{switch(I){case"success":return s.jsxs(it,{className:"bg-green-100 text-green-800",children:[s.jsx(wt,{className:"h-3 w-3 mr-1"}),"Success"]});case"failed":case"error":return s.jsxs(it,{className:"bg-red-100 text-red-800",children:[s.jsx(Is,{className:"h-3 w-3 mr-1"}),"Failed"]});case"validation_error":return s.jsxs(it,{className:"bg-orange-100 text-orange-800",children:[s.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Validation Error"]});case"duplicate":return s.jsxs(it,{className:"bg-blue-100 text-blue-800",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Duplicate"]});case"pending":return s.jsxs(it,{className:"bg-yellow-100 text-yellow-800",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Pending"]});default:return s.jsx(it,{variant:"secondary",children:I})}},Ze=I=>I>=200&&I<300?s.jsx(it,{className:"bg-green-100 text-green-800",children:I}):I>=400&&I<500?s.jsx(it,{className:"bg-orange-100 text-orange-800",children:I}):I>=500?s.jsx(it,{className:"bg-red-100 text-red-800",children:I}):s.jsx(it,{variant:"secondary",children:I}),tt=I=>{const He={wallet_validation:"bg-blue-100 text-blue-800",payment_notify:"bg-purple-100 text-purple-800",wallet_credit:"bg-green-100 text-green-800",transaction_report:"bg-gray-100 text-gray-800"},gt={wallet_validation:"Validation",payment_notify:"Payment Notify",wallet_credit:"Credit Push",transaction_report:"Report"};return s.jsx(it,{className:He[I]||"bg-gray-100 text-gray-800",children:gt[I]||I})},Ct=i.filter(I=>{var Tt,ln;const He=x==="all"||I.payment_status===x,gt=!p||I.transaction_id.toLowerCase().includes(p.toLowerCase())||((Tt=I.bancabc_reference)==null?void 0:Tt.toLowerCase().includes(p.toLowerCase()))||I.user.phone_number.includes(p)||((ln=I.branch_code)==null?void 0:ln.toLowerCase().includes(p.toLowerCase()));return He&&gt}),Mt=I=>new Date(I).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return t?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading BancABC dashboard..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"BancABC Integration Dashboard"}),s.jsx("p",{className:"text-gray-500",children:"Monitor wallet funding transactions from BancABC channels"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:te,disabled:r,children:[s.jsx(kl,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]}),s.jsxs($,{variant:"outline",size:"sm",onClick:E,children:[s.jsx(wN,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),s.jsx(ae,{children:s.jsx(me,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"date-from",children:"From Date"}),s.jsx(je,{id:"date-from",type:"date",value:f,onChange:I=>h(I.target.value)})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"date-to",children:"To Date"}),s.jsx(je,{id:"date-to",type:"date",value:g,onChange:I=>v(I.target.value)})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"filter-status",children:"Status Filter"}),s.jsxs("select",{id:"filter-status",value:x,onChange:I=>y(I.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"SUCCESS",children:"Success"}),s.jsx("option",{value:"PENDING",children:"Pending"}),s.jsx("option",{value:"FAILED",children:"Failed"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(dl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),s.jsx(je,{id:"search",placeholder:"Reference, phone...",className:"pl-9",value:p,onChange:I=>w(I.target.value)})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:l.total_transactions}),s.jsx(ke,{children:"Total Transactions"})]}),s.jsx(bN,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:l.successful}),s.jsx(ke,{children:"Successful"})]}),s.jsx(wt,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(xe,{className:"text-2xl font-bold",children:["$",Number(l.total_amount).toFixed(2)]}),s.jsx(ke,{children:"Total Amount (USD)"})]}),s.jsx(_p,{className:"h-8 w-8 text-purple-500"})]})})}),s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:l.unverified}),s.jsx(ke,{children:"Pending Verification"})]}),s.jsx(Ur,{className:"h-8 w-8 text-orange-500"})]})})})]}),s.jsxs(es,{defaultValue:"api-logs",children:[s.jsxs(Fr,{className:"grid w-full grid-cols-3",children:[s.jsx(rt,{value:"api-logs",children:"API Logs"}),s.jsx(rt,{value:"transactions",children:"Transactions"}),s.jsx(rt,{value:"branches",children:"Branch Performance"})]}),s.jsxs(st,{value:"api-logs",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:F.total_calls}),s.jsx(ke,{children:"Total API Calls"})]}),s.jsx(wT,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(xe,{className:"text-2xl font-bold",children:[F.success_rate,"%"]}),s.jsx(ke,{children:"Success Rate"})]}),s.jsx(lT,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:F.auto_credited_count}),s.jsx(ke,{children:"Auto-Credits"})]}),s.jsx(Jv,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:F.total_points_awarded}),s.jsx(ke,{children:"Points Awarded"})]}),s.jsx(gN,{className:"h-8 w-8 text-purple-500"})]})})})]}),s.jsx(ae,{className:"mb-4",children:s.jsx(me,{className:"pt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"api-endpoint",children:"Endpoint"}),s.jsxs("select",{id:"api-endpoint",value:D.endpoint,onChange:I=>{_({...D,endpoint:I.target.value}),setTimeout(()=>Ce(1),100)},className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Endpoints"}),s.jsx("option",{value:"wallet_validation",children:"Wallet Validation"}),s.jsx("option",{value:"payment_notify",children:"Payment Notify"}),s.jsx("option",{value:"wallet_credit",children:"Wallet Credit"}),s.jsx("option",{value:"transaction_report",children:"Transaction Report"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"api-status",children:"Status"}),s.jsxs("select",{id:"api-status",value:D.status,onChange:I=>{_({...D,status:I.target.value}),setTimeout(()=>Ce(1),100)},className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"success",children:"Success"}),s.jsx("option",{value:"failed",children:"Failed"}),s.jsx("option",{value:"validation_error",children:"Validation Error"}),s.jsx("option",{value:"error",children:"Error"}),s.jsx("option",{value:"duplicate",children:"Duplicate"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"api-auto-credited",children:"Auto-Credited"}),s.jsxs("select",{id:"api-auto-credited",value:D.auto_credited,onChange:I=>{_({...D,auto_credited:I.target.value}),setTimeout(()=>Ce(1),100)},className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"true",children:"Yes"}),s.jsx("option",{value:"false",children:"No"})]})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"api-search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(dl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),s.jsx(je,{id:"api-search",placeholder:"Phone, reference...",className:"pl-9",value:D.search,onChange:I=>_({...D,search:I.target.value}),onKeyDown:I=>{I.key==="Enter"&&Ce(1)}})]})]})]})})}),ee.length>0&&s.jsxs(ae,{className:"mb-4",children:[s.jsx(pe,{children:s.jsx(xe,{className:"text-lg",children:"Endpoint Breakdown"})}),s.jsx(me,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:ee.map(I=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"mb-2",children:tt(I.endpoint)}),s.jsx("div",{className:"text-2xl font-bold",children:I.count}),s.jsxs("div",{className:"text-xs text-gray-500",children:[s.jsxs("span",{className:"text-green-600",children:[I.successful," "]})," / ",s.jsxs("span",{className:"text-red-600",children:[I.failed," "]})]})]},I.endpoint))})})]}),s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"API Call Logs"}),s.jsxs(ke,{children:["Showing ",O.length," of ",J.total_records," logs"]})]}),s.jsxs(me,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-2 font-medium",children:"Timestamp"}),s.jsx("th",{className:"text-left py-3 px-2 font-medium",children:"Endpoint"}),s.jsx("th",{className:"text-left py-3 px-2 font-medium",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-2 font-medium",children:"HTTP"}),s.jsx("th",{className:"text-left py-3 px-2 font-medium",children:"Phone"}),s.jsx("th",{className:"text-left py-3 px-2 font-medium",children:"Amount"}),s.jsx("th",{className:"text-left py-3 px-2 font-medium",children:"Response Time"}),s.jsx("th",{className:"text-left py-3 px-2 font-medium",children:"Auto-Credit"}),s.jsx("th",{className:"text-left py-3 px-2 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:O.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"py-8 text-center text-gray-500",children:"No API logs found for the selected filters"})}):O.map(I=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-2 text-xs",children:new Date(I.created_at).toLocaleString()}),s.jsx("td",{className:"py-3 px-2",children:tt(I.endpoint)}),s.jsx("td",{className:"py-3 px-2",children:Ye(I.status)}),s.jsx("td",{className:"py-3 px-2",children:Ze(I.response_status_code)}),s.jsx("td",{className:"py-3 px-2 font-mono text-xs",children:I.phone_number||"-"}),s.jsx("td",{className:"py-3 px-2",children:I.amount?`${I.currency||"USD"} ${I.amount}`:"-"}),s.jsx("td",{className:"py-3 px-2",children:I.response_time_ms?`${I.response_time_ms}ms`:"-"}),s.jsx("td",{className:"py-3 px-2 text-center",children:I.auto_credited?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wt,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{className:"text-xs text-green-700",children:["$",I.auto_credit_amount]})]}):s.jsx(Is,{className:"h-4 w-4 text-gray-300"})}),s.jsx("td",{className:"py-3 px-2",children:s.jsx($,{variant:"ghost",size:"sm",onClick:()=>Q(I.id),children:s.jsx(pT,{className:"h-4 w-4"})})})]},I.id))})]})}),J.total_pages>1&&s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",J.page," of ",J.total_pages]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{variant:"outline",size:"sm",disabled:J.page<=1,onClick:()=>Ce(J.page-1),children:[s.jsx(hc,{className:"h-4 w-4"}),"Previous"]}),s.jsxs($,{variant:"outline",size:"sm",disabled:J.page>=J.total_pages,onClick:()=>Ce(J.page+1),children:["Next",s.jsx(zu,{className:"h-4 w-4"})]})]})]})]})]})]}),s.jsx(st,{value:"transactions",className:"space-y-4",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Recent Transactions"}),s.jsxs(ke,{children:["Showing ",Ct.length," of ",i.length," transactions"]})]}),s.jsx(me,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Reference"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Customer"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Amount"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Branch"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Verified"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:Ct.map(I=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:Mt(I.created_at)}),s.jsxs("td",{className:"py-3 px-4 font-mono text-xs",children:[I.bancabc_reference||I.transaction_id.substring(0,12),"..."]}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium",children:[I.user.first_name," ",I.user.last_name]}),s.jsx("div",{className:"text-gray-500",children:I.user.phone_number})]})}),s.jsxs("td",{className:"py-3 px-4 font-medium",children:["$",Number(I.amount).toFixed(2)," ",I.currency]}),s.jsx("td",{className:"py-3 px-4",children:I.branch_code||"-"}),s.jsx("td",{className:"py-3 px-4",children:be(I.payment_status)}),s.jsx("td",{className:"py-3 px-4",children:I.payment_verified?s.jsx(wt,{className:"h-5 w-5 text-green-500"}):s.jsx(Is,{className:"h-5 w-5 text-gray-400"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:()=>Z(I),children:s.jsx(jN,{className:"h-4 w-4"})}),I.payment_status==="SUCCESS"&&!I.payment_verified&&s.jsx($,{variant:"outline",size:"sm",onClick:()=>W(I),children:"Verify"})]})})]},I.id))})]})})})]})}),s.jsx(st,{value:"branches",className:"space-y-4",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Branch Performance"}),s.jsx(ke,{children:"Top performing BancABC branches"})]}),s.jsx(me,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Branch Code"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Total Transactions"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Successful"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Failed"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Total Amount"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Success Rate"})]})}),s.jsx("tbody",{children:d.map((I,He)=>{const gt=I.total>0?(I.successful/I.total*100).toFixed(1):"0";return s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 font-medium",children:I.branch_code||"Unknown"}),s.jsx("td",{className:"py-3 px-4",children:I.total}),s.jsx("td",{className:"py-3 px-4 text-green-600",children:I.successful}),s.jsx("td",{className:"py-3 px-4 text-red-600",children:I.failed}),s.jsxs("td",{className:"py-3 px-4 font-medium",children:["$",Number(I.amount||0).toFixed(2)]}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${gt}%`}})}),s.jsxs("span",{className:"text-xs font-medium",children:[gt,"%"]})]})})]},He)})})]})})})]})})]}),b&&s.jsx(Kt,{open:N,onOpenChange:P,children:s.jsxs(zt,{className:"max-w-2xl",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Transaction Details"}),s.jsxs(rn,{children:["Reference: ",b.bancabc_reference||b.transaction_id]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Customer"}),s.jsxs("p",{className:"font-medium",children:[b.user.first_name," ",b.user.last_name]}),s.jsx("p",{className:"text-sm text-gray-600",children:b.user.phone_number})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Amount"}),s.jsxs("p",{className:"font-medium text-lg",children:["$",Number(b.amount).toFixed(2)," ",b.currency]})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:be(b.payment_status)})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Payment Method"}),s.jsx("p",{className:"font-medium",children:b.payment_method||"N/A"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Branch Code"}),s.jsx("p",{className:"font-medium",children:b.branch_code||"N/A"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Operator ID"}),s.jsx("p",{className:"font-medium",children:b.operator_id||"N/A"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Created At"}),s.jsx("p",{className:"text-sm",children:Mt(b.created_at)})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Payment Date"}),s.jsx("p",{className:"text-sm",children:b.payment_date?Mt(b.payment_date):"N/A"})]})]}),b.failure_reason&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:[s.jsx(Y,{className:"text-red-700",children:"Failure Reason"}),s.jsx("p",{className:"text-sm text-red-600",children:b.failure_reason})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded",children:[s.jsx(Y,{children:"Verified:"}),b.payment_verified?s.jsxs(it,{className:"bg-green-100 text-green-800",children:[s.jsx(wt,{className:"h-3 w-3 mr-1"}),"Verified"]}):s.jsx(it,{variant:"secondary",children:"Not Verified"})]})]}),s.jsx(Sn,{children:s.jsx($,{variant:"outline",onClick:()=>P(!1),children:"Close"})})]})}),b&&s.jsx(Kt,{open:C,onOpenChange:S,children:s.jsxs(zt,{children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Verify Transaction"}),s.jsx(rn,{children:"Manually verify this payment transaction from BancABC"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx(Ur,{className:"h-4 w-4 inline mr-1"}),"Verification confirms that the payment has been received and processed by BancABC. This action cannot be undone."]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Reference:"}),s.jsx("span",{className:"font-medium",children:b.bancabc_reference})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Amount:"}),s.jsxs("span",{className:"font-medium",children:["$",Number(b.amount).toFixed(2)," ",b.currency]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Customer:"}),s.jsx("span",{className:"font-medium",children:b.user.phone_number})]})]})]}),s.jsxs(Sn,{children:[s.jsx($,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),s.jsx($,{onClick:()=>de(b.id),children:"Verify Payment"})]})]})}),T&&s.jsx(Kt,{open:U,onOpenChange:z,children:s.jsxs(zt,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"API Log Details"}),s.jsxs(rn,{children:["Log ID: ",T.id," | ",new Date(T.created_at).toLocaleString()]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Endpoint"}),s.jsx("div",{className:"mt-1",children:tt(T.endpoint)})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:Ye(T.status)})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"HTTP Code"}),s.jsx("div",{className:"mt-1",children:Ze(T.response_status_code)})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Response Time"}),s.jsxs("p",{className:"font-medium",children:[T.response_time_ms,"ms"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Phone Number"}),s.jsx("p",{className:"font-medium",children:T.phone_number||"N/A"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Amount"}),s.jsx("p",{className:"font-medium",children:T.amount?`${T.currency||"USD"} ${T.amount}`:"N/A"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Transaction Reference"}),s.jsx("p",{className:"font-medium font-mono text-sm",children:T.transaction_reference||"N/A"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"IP Address"}),s.jsx("p",{className:"font-medium font-mono text-sm",children:T.ip_address||"N/A"})]})]}),T.auto_credited&&s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Jv,{className:"h-5 w-5 text-green-600"}),s.jsx(Y,{className:"text-green-800 font-semibold",children:"Auto-Credit Applied"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Amount Credited:"}),s.jsxs("span",{className:"ml-2 font-bold text-green-700",children:["$",T.auto_credit_amount]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Points Awarded:"}),s.jsxs("span",{className:"ml-2 font-bold text-green-700",children:[T.points_awarded," pts"]})]})]})]}),T.error_message&&s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Y,{className:"text-red-700",children:"Error Message"}),s.jsx("p",{className:"text-sm text-red-600 mt-1",children:T.error_message})]}),T.request_body&&s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Request Body"}),s.jsx("pre",{className:"mt-1 p-3 bg-gray-900 text-green-400 rounded-lg text-xs overflow-x-auto max-h-40",children:JSON.stringify(T.request_body,null,2)})]}),T.response_body&&s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"Response Body"}),s.jsx("pre",{className:"mt-1 p-3 bg-gray-900 text-blue-400 rounded-lg text-xs overflow-x-auto max-h-40",children:JSON.stringify(T.response_body,null,2)})]}),T.user_agent&&s.jsxs("div",{children:[s.jsx(Y,{className:"text-gray-500",children:"User Agent"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1 break-all",children:T.user_agent})]})]}),s.jsx(Sn,{children:s.jsx($,{variant:"outline",onClick:()=>z(!1),children:"Close"})})]})})]})},A6=()=>{var de;const{toast:e}=fn();Ni({timeout:30*60*1e3,warningTime:2*60*1e3});const[t,n]=m.useState([]),[r,a]=m.useState([]),[i,o]=m.useState({totalFlights:0,activeFlights:0,totalBookings:0,todaysFlights:0}),[l,c]=m.useState(!0),[d,u]=m.useState(new Date),[f,h]=m.useState(!1),[g,v]=m.useState([]),[p,w]=m.useState(!1),[x,y]=m.useState(null),[b,j]=m.useState(""),[N,P]=m.useState(!1),C=()=>{const E=sessionStorage.getItem("token"),Z=sessionStorage.getItem("is_staff")==="true";return!E||!Z?(e({title:"Access Denied",description:"Admin authentication required.",variant:"destructive"}),null):E},S=async(E,Z="GET",W=null)=>{const be=C();if(!be)return null;const Ye={method:Z,url:E,headers:{Authorization:`Token ${be}`,"Content-Type":"application/json"},data:W};try{return(await Be(Ye)).data}catch(Ze){return q(Ze,`Failed to ${Z} ${E}`,"Could not complete the request."),null}},O=async()=>{const E=await S(ot.GET_USERS);E&&n(E)},k=async()=>{const E=await S(ot.LOYALTY_ADMIN_REDEMPTIONS);E&&a(E)},F=async(E,Z,W="USD")=>{await S(ot.TOP_UP_WALLET(E,W),"POST",{amount:Z})&&(e({title:"Wallet Topped Up",description:`Successfully added ${W} ${Z} to user's wallet`}),O())},B=async()=>{const E=await S(`${oe}/booking/flight-schedules/`);if(E){const W=(Array.isArray(E)?E:[]).filter(be=>be.is_active&&new Date(be.departure_time)>new Date);W.sort((be,Ye)=>new Date(be.departure_time).getTime()-new Date(Ye.departure_time).getTime()),v(W.slice(0,100))}},ee=E=>{y(E),j(""),B(),w(!0)},re=async(E,Z)=>{if((x==null?void 0:x.redemption_type)==="free_flight"&&!Z){e({title:"Flight Required",description:"Select a flight schedule to assign.",variant:"destructive"});return}P(!0);const W={action:"approve",notes:"Approved by admin"};Z&&(W.flight_schedule_id=Z);const be=await S(`${oe}/loyalty/admin/redemptions/${E}/action/`,"PATCH",W);P(!1),be&&(e({title:"Redemption Approved",description:be.booking_reference?`Booking ${be.booking_reference} created.`:"Approved."}),k(),w(!1),y(null))},J=async(E,Z)=>{await S(`${oe}/loyalty/admin/redemptions/${E}/action/`,"PATCH",{action:"reject",notes:Z})&&(e({title:"Redemption Rejected",description:"The redemption has been rejected."}),k())},q=(E,Z,W)=>{var be,Ye,Ze;console.error(Z,E),((be=E.response)==null?void 0:be.status)===401?(e({title:"Authentication Error",description:"Your session has expired. Please log in again.",variant:"destructive"}),sessionStorage.clear(),window.location.href="/login"):e({title:"Error",description:((Ze=(Ye=E.response)==null?void 0:Ye.data)==null?void 0:Ze.detail)||W,variant:"destructive"})},D=m.useCallback(async()=>{h(!0);try{await Promise.all([O(),k(),_()]),u(new Date),e({title:"Dashboard Refreshed",description:"All data has been updated successfully."})}catch(E){console.error("Error refreshing dashboard data:",E),e({title:"Refresh Failed",description:"Could not update dashboard data. Please try again.",variant:"destructive"})}finally{h(!1)}},[]),_=async()=>{try{const[E,Z]=await Promise.all([S(`${oe}/booking/flights/stats/`),S(`${oe}/booking/bookings/stats/`)]);E&&Z&&(o({totalFlights:E.total_flights||0,activeFlights:E.active_flights||0,totalBookings:Z.total_bookings||0,todaysFlights:E.todays_flights||0}),localStorage.setItem("admin_flight_stats",JSON.stringify({totalFlights:E.total_flights||0,activeFlights:E.active_flights||0,totalBookings:Z.total_bookings||0,todaysFlights:E.todays_flights||0,timestamp:new Date().getTime()})))}catch(E){console.error("Failed to fetch flight stats:",E);const Z=localStorage.getItem("admin_flight_stats");if(Z){const W=JSON.parse(Z);if(W.timestamp&&new Date().getTime()-W.timestamp<36e5){o({totalFlights:W.totalFlights,activeFlights:W.activeFlights,totalBookings:W.totalBookings,todaysFlights:W.todaysFlights});return}}o({totalFlights:25,activeFlights:18,totalBookings:142,todaysFlights:8})}};m.useEffect(()=>{(async()=>{c(!0);try{const W=localStorage.getItem("admin_dashboard_users"),be=localStorage.getItem("admin_dashboard_redemptions"),Ye=localStorage.getItem("admin_flight_stats");if(W&&n(JSON.parse(W)),be&&a(JSON.parse(be)),Ye){const Ze=JSON.parse(Ye);Ze.timestamp&&new Date().getTime()-Ze.timestamp<18e5&&o({totalFlights:Ze.totalFlights,activeFlights:Ze.activeFlights,totalBookings:Ze.totalBookings,todaysFlights:Ze.todaysFlights})}await D()}catch(W){console.error("Error initializing dashboard:",W)}finally{c(!1)}})();const Z=setInterval(()=>{D()},3e5);return()=>clearInterval(Z)},[]),m.useEffect(()=>{t.length>0&&localStorage.setItem("admin_dashboard_users",JSON.stringify(t))},[t]),m.useEffect(()=>{r.length>0&&localStorage.setItem("admin_dashboard_redemptions",JSON.stringify(r))},[r]);const T=t.filter(E=>!E.is_staff),L=t.filter(E=>E.is_staff),U=t.filter(E=>(E.user_type==="corporate"||E.user_type==="student"||E.user_type==="club")&&!E.is_approved),z=r.filter(E=>E.status==="pending"),G=r.filter(E=>E.status==="approved"),ye=E=>{e({title:`Edit user ${E}`,description:"Edit functionality placeholder"})},Ce=async E=>{await S(`${ot.GET_USERS}/users/${E}/`,"DELETE")!==null&&(n(W=>W.filter(be=>be.id!==E)),e({title:`Deleted user ${E}`,description:"User successfully removed"}))},ge=async E=>{await S(ot.USER_APPROVAL(E),"PATCH",{is_approved:!0,comment:null})&&(e({title:"User Approved",description:"Account has been approved."}),O())},Q=async(E,Z,W)=>{if(!Z.trim()){e({title:"Decline Failed",description:"Comment is required when declining an account.",variant:"destructive"});return}await S(ot.USER_APPROVAL(E),"PATCH",{is_approved:!1,comment:Z})&&(e({title:"User Declined",description:"Account has been declined with comment."}),O())},te=E=>{const Z=[];if(E.user_type==="corporate"?(E.vat_certificate&&Z.push({name:"VAT Certificate",url:E.vat_certificate}),E.corporate_tax_document&&Z.push({name:"Corporate Tax Document",url:E.corporate_tax_document}),E.certificate_of_incorporation&&Z.push({name:"Certificate of Incorporation",url:E.certificate_of_incorporation})):E.user_type==="student"&&E.birth_certificate&&Z.push({name:"Birth Certificate",url:E.birth_certificate}),Z.length===0){e({title:"No Documents",description:"No documents uploaded for this user.",variant:"default"});return}Z.forEach(W=>{const be=W.url.startsWith("http")?W.url:`${oe.replace(/\/api$/,"")}${W.url}`;window.open(be,"_blank")}),e({title:"Opening Documents",description:`Opening ${Z.length} document(s) for ${E.first_name} ${E.last_name}.`})};return l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading admin dashboard..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Manage users, flights, destinations and redemptions"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",d.toLocaleTimeString()]}),s.jsxs($,{variant:"outline",size:"sm",onClick:D,disabled:f,className:"flex items-center gap-2",children:[s.jsx(kl,{className:`h-4 w-4 ${f?"animate-spin":""}`}),f?"Refreshing...":"Refresh Data"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(ae,{className:"hover:shadow-md transition-shadow",children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:T.length}),s.jsx(ke,{children:"Total Users"})]}),s.jsx(Io,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(ae,{className:"hover:shadow-md transition-shadow",children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:i.activeFlights}),s.jsx(ke,{children:"Active Flights"})]}),s.jsx(ms,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(ae,{className:"hover:shadow-md transition-shadow",children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:i.totalBookings}),s.jsx(ke,{children:"Total Bookings"})]}),s.jsx(ps,{className:"h-8 w-8 text-purple-500"})]})})}),s.jsx(ae,{className:"hover:shadow-md transition-shadow",children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:z.length}),s.jsx(ke,{children:"Pending Redemptions"})]}),s.jsx(Qt,{className:"h-8 w-8 text-orange-500"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(ae,{className:"hover:shadow-md transition-shadow",children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-xl font-bold",children:L.length}),s.jsx(ke,{children:"Staff Members"})]}),s.jsx(Io,{className:"h-6 w-6 text-gray-500"})]})})}),s.jsx(ae,{className:"hover:shadow-md transition-shadow",children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-xl font-bold",children:U.length}),s.jsx(ke,{children:"Pending Approvals"})]}),s.jsx(Hu,{className:"h-6 w-6 text-orange-500"})]})})}),s.jsx(ae,{className:"hover:shadow-md transition-shadow",children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-lg font-bold",children:(()=>{const E={};return t.forEach(Z=>{Array.isArray(Z.wallet_balance)&&Z.wallet_balance.forEach(W=>{const be=typeof W.currency=="object"?W.currency.code:W.currency;E[be]=(E[be]||0)+Number.parseFloat(W.balance||0)})}),Object.entries(E).map(([Z,W])=>`${Z}: ${W.toFixed(2)}`).join(" | ")||"No balances"})()}),s.jsx(ke,{children:"Total Wallet Balances"})]}),s.jsx(Qt,{className:"h-6 w-6 text-green-500"})]})})})]}),s.jsxs(es,{defaultValue:"users",className:"w-full",children:[s.jsxs(Fr,{className:"grid w-full grid-cols-6 lg:grid-cols-12",children:[s.jsx(rt,{value:"users",children:"Users"}),s.jsx(rt,{value:"pending-approvals",children:"Pending Approvals"}),s.jsx(rt,{value:"redemptions",children:"Redemptions"}),s.jsx(rt,{value:"flights",children:"Flights"}),s.jsx(rt,{value:"staff",children:"Staff"}),s.jsx(rt,{value:"destination",children:"Destinations"}),s.jsx(rt,{value:"view-destinations",children:"View Destinations"}),s.jsx(rt,{value:"routes",children:"Routes"}),s.jsx(rt,{value:"currency",children:"Currency"}),s.jsx(rt,{value:"wallets",children:"Wallets"}),s.jsx(rt,{value:"credit-bookings",children:"Credit Bookings"}),s.jsx(rt,{value:"bancabc",children:"BancABC"})]}),s.jsx(st,{value:"users",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"All Regular Users"]}),s.jsx(ke,{children:"Manage customer accounts and wallet balances"})]}),s.jsx(me,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Phone"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Email"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Approved"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Wallet Balance"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:T.map(E=>s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"py-4 px-4 font-medium",children:E.user_type==="corporate"&&E.company_name?E.company_name:E.user_type==="club"&&E.club_name?E.club_name:`${E.first_name} ${E.last_name}`}),s.jsx("td",{className:"py-4 px-4",children:E.phone_number}),s.jsx("td",{className:"py-4 px-4",children:E.email}),s.jsx("td",{className:"py-4 px-4 capitalize",children:E.user_type}),s.jsx("td",{className:"py-4 px-4",children:E.is_approved?s.jsx(Gi,{className:"h-5 w-5 text-green-500"}):s.jsx(Ji,{className:"h-5 w-5 text-red-500"})}),s.jsx("td",{className:"py-4 px-4",children:Array.isArray(E.wallet_balance)&&E.wallet_balance.length>0?s.jsx("div",{className:"space-y-1",children:E.wallet_balance.map((Z,W)=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium",children:[Z.currency,":"]})," ",Number(Z.balance).toFixed(2)]},W))}):s.jsx("span",{className:"text-gray-400",children:"No balance"})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx(kL,{user:E,onTopUp:F,onEdit:ye,onDelete:Ce})})]},E.id))})]})})})]})}),s.jsx(st,{value:"pending-approvals",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Hu,{className:"h-5 w-5 text-orange-500"}),"Pending Account Approvals"]}),s.jsx(ke,{children:"Review and approve corporate, student, and club accounts."})]}),s.jsx(me,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Phone"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Email"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:U.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"No pending approvals."})}):U.map(E=>s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"py-4 px-4 font-medium",children:E.user_type==="corporate"&&E.company_name?E.company_name:E.user_type==="club"&&E.club_name?E.club_name:`${E.first_name} ${E.last_name}`}),s.jsx("td",{className:"py-4 px-4",children:E.phone_number}),s.jsx("td",{className:"py-4 px-4",children:E.email}),s.jsx("td",{className:"py-4 px-4 capitalize",children:E.user_type}),s.jsxs("td",{className:"py-4 px-4 flex gap-2",children:[s.jsxs($,{size:"sm",onClick:()=>ge(E.id),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Gi,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(Kt,{children:[s.jsx(Uc,{asChild:!0,children:s.jsxs($,{size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50 bg-transparent",children:[s.jsx(Ji,{className:"h-4 w-4 mr-1"}),"Decline"]})}),s.jsxs(zt,{children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Decline Account"}),s.jsxs(rn,{children:["Provide a reason for declining ",E.user_type," account for ",E.first_name," ",E.last_name,". This comment will be visible to the user."]})]}),s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`decline-comment-${E.id}`,children:"Comment"}),s.jsx(mf,{id:`decline-comment-${E.id}`,placeholder:"e.g., Documents are not legible, missing required information.",className:"min-h-[80px]"})]})}),s.jsxs(Sn,{children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>{},children:"Cancel"}),s.jsx($,{type:"button",onClick:()=>{const Z=document.getElementById(`decline-comment-${E.id}`);Q(E.id,Z.value)},children:"Decline Account"})]})]})]}),(E.user_type==="corporate"||E.user_type==="student")&&(E.vat_certificate||E.corporate_tax_document||E.certificate_of_incorporation||E.birth_certificate)&&s.jsxs($,{size:"sm",variant:"outline",onClick:()=>te(E),className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:[s.jsx(jN,{className:"h-4 w-4 mr-1"}),"Review Docs"]})]})]},E.id))})]})})})]})}),s.jsx(st,{value:"redemptions",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(ps,{className:"h-5 w-5"}),"Point Redemptions"]}),s.jsx(ke,{children:"Approve free flight requests by assigning an available flight."})]}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2 text-sm uppercase tracking-wide text-gray-600",children:["Pending (",z.length,")"]}),z.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"No pending redemptions."}):s.jsx("div",{className:"overflow-x-auto border rounded-md",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-xs uppercase text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"ID"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"User"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Type"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Points Req."}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Requested"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Action"})]})}),s.jsx("tbody",{children:z.map(E=>{var Z;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:E.id}),s.jsx("td",{className:"px-3 py-2",children:E.user_email||E.user_name||E.user||""}),s.jsx("td",{className:"px-3 py-2 capitalize",children:(Z=E.redemption_type)==null?void 0:Z.replace("_"," ")}),s.jsx("td",{className:"px-3 py-2",children:E.points_required}),s.jsxs("td",{className:"px-3 py-2 flex items-center gap-1",children:[s.jsx(Fn,{className:"h-4 w-4"}),new Date(E.created_at).toLocaleString()]}),s.jsx("td",{className:"px-3 py-2",children:E.redemption_type==="free_flight"?s.jsx($,{size:"sm",onClick:()=>ee(E),children:"Assign Flight"}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{size:"sm",onClick:()=>re(E.id),children:"Approve"}),s.jsx($,{size:"sm",variant:"destructive",onClick:()=>J(E.id,"Not eligible"),children:"Reject"})]})})]},E.id)})})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2 text-sm uppercase tracking-wide text-gray-600",children:["Approved (",G.length,")"]}),G.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"No approved redemptions yet."}):s.jsx("div",{className:"overflow-x-auto border rounded-md",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 text-xs uppercase text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"ID"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"User"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Type"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Points Used"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Approved"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Booking Ref"})]})}),s.jsx("tbody",{children:G.map(E=>{var Z;return s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-3 py-2",children:E.id}),s.jsx("td",{className:"px-3 py-2",children:E.user_email||E.user_name||E.user||""}),s.jsx("td",{className:"px-3 py-2 capitalize",children:(Z=E.redemption_type)==null?void 0:Z.replace("_"," ")}),s.jsx("td",{className:"px-3 py-2",children:E.points_required}),s.jsx("td",{className:"px-3 py-2",children:E.approved_at?new Date(E.approved_at).toLocaleString():""}),s.jsx("td",{className:"px-3 py-2",children:E.booking_reference||"-"})]},E.id)})})]})})]})]})})]})}),s.jsx(st,{value:"flights",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"h-5 w-5"}),"Flight Management"]}),s.jsx(ke,{children:"Create and manage flight schedules for customer bookings"})]}),s.jsx(me,{className:"p-0",children:s.jsx(M6,{})})]})}),s.jsx(st,{value:"staff",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Io,{className:"h-5 w-5"}),"Staff Users"]}),s.jsx(ke,{children:"View and manage administrative staff accounts"})]}),s.jsx(me,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Phone"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Email"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Role"})]})}),s.jsx("tbody",{children:L.map(E=>s.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"py-4 px-4 font-medium",children:[E.first_name," ",E.last_name]}),s.jsx("td",{className:"py-4 px-4",children:E.phone_number}),s.jsx("td",{className:"py-4 px-4",children:E.email}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Administrator"})})]},E.id))})]})})})]})}),s.jsx(st,{value:"destination",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(nu,{className:"h-5 w-5"}),"Create Destination"]}),s.jsx(ke,{children:"Add new destinations for flight routes"})]}),s.jsx(me,{children:s.jsx(ek,{})})]})}),s.jsx(st,{value:"view-destinations",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(nu,{className:"h-5 w-5"}),"View Destinations"]}),s.jsx(ke,{children:"Manage existing destinations and their details"})]}),s.jsx(me,{children:s.jsx(tk,{})})]})}),s.jsx(st,{value:"routes",className:"animate-fade-in",children:s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-6",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(nu,{className:"h-5 w-5"}),"Route Management"]}),s.jsx(ke,{children:"Create routes with bulk operations and round-trip support"})]}),s.jsx(me,{children:s.jsx(RL,{})})]})})})}),s.jsx(st,{value:"currency",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Qt,{className:"h-5 w-5"}),"Manage Currency"]}),s.jsx(ke,{children:"Configure supported currencies and exchange rates"})]}),s.jsx(me,{children:s.jsx(ML,{})})]})}),s.jsx(st,{value:"wallets",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Qt,{className:"h-5 w-5"}),"Manage Wallets"]}),s.jsx(ke,{children:"View and manage user wallet balances across currencies"})]}),s.jsx(me,{children:s.jsx(AL,{users:T,onWalletUpdate:E=>n(Z=>Z.map(W=>W.id===E.id?E:W))})})]})}),s.jsx(st,{value:"credit-bookings",className:"animate-fade-in",children:s.jsx(OL,{})}),s.jsx(st,{value:"bancabc",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Qt,{className:"h-5 w-5"}),"BancABC Integration"]}),s.jsx(ke,{children:"Monitor wallet top-ups from BancABC channels and branches"})]}),s.jsx(me,{children:s.jsx(O6,{})})]})})]}),s.jsx(Kt,{open:p,onOpenChange:w,children:s.jsxs(zt,{className:"max-w-lg",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Assign Free Flight"}),s.jsx(rn,{children:"Select an upcoming active flight schedule to grant the free ticket."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm bg-gray-50 p-3 rounded-md border",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Redemption:"})," #",x==null?void 0:x.id]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"User:"})," ",(x==null?void 0:x.user_email)||(x==null?void 0:x.user_name)||(x==null?void 0:x.user)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Type:"})," ",(de=x==null?void 0:x.redemption_type)==null?void 0:de.replace("_"," ")]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Points Required:"})," ",x==null?void 0:x.points_required]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Flight Schedule"}),s.jsxs("select",{value:b,onChange:E=>j(E.target.value),className:"w-full border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select flight..."}),g.map(E=>{var Ye,Ze,tt;const Z=new Date(E.departure_time).toLocaleString(),W=(Ye=E.flight)==null?void 0:Ye.route,be=`${((Ze=W==null?void 0:W.from_destination)==null?void 0:Ze.name)||""}  ${((tt=W==null?void 0:W.to_destination)==null?void 0:tt.name)||""} | ${Z}`;return s.jsx("option",{value:E.id,children:be},E.id)})]}),g.length===0&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No upcoming flights available."})]})]}),s.jsxs(Sn,{className:"mt-4",children:[s.jsx($,{variant:"outline",type:"button",onClick:()=>w(!1),children:"Cancel"}),s.jsx($,{type:"button",disabled:!b||N,onClick:()=>x&&re(x.id,b),children:N?"Assigning...":"Approve & Assign"})]})]})})]})})},I6=()=>{const{toast:e}=fn();Ni({timeout:30*60*1e3,warningTime:2*60*1e3});const[t,n]=m.useState([{id:1,name:"John Doe",phone:"1234567890",points:680,wallet:150,joined:"2023-08-15"},{id:2,name:"Jane Smith",phone:"9876543210",points:320,wallet:75,joined:"2023-09-22"},{id:3,name:"Robert Johnson",phone:"5556667777",points:980,wallet:220,joined:"2023-07-30"},{id:4,name:"Sarah Williams",phone:"3334445555",points:150,wallet:50,joined:"2023-10-05"},{id:5,name:"Michael Brown",phone:"7778889999",points:450,wallet:100,joined:"2023-11-12"},{id:6,name:"Emily Davis",phone:"1112223333",points:820,wallet:180,joined:"2023-06-20"}]),r=(i,o)=>{n(l=>l.map(c=>c.id===i?{...c,points:c.points+o}:c)),e({title:"Points Added",description:`Added ${o} points to the user's account`})},a=(i,o)=>{n(l=>l.map(c=>c.id===i?{...c,wallet:c.wallet+o}:c)),e({title:"Wallet Topped Up",description:`You've added $${o} to the user's wallet`})};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),s.jsx("p",{className:"text-gray-600",children:"View and manage all registered users"})]}),s.jsxs(ae,{children:[s.jsx(pe,{children:s.jsx(xe,{children:"All Users"})}),s.jsx(me,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Phone"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Points"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Wallet"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Joined"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),s.jsx("tbody",{children:t.map(i=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-4",children:i.name}),s.jsx("td",{className:"py-4 px-4",children:i.phone}),s.jsx("td",{className:"py-4 px-4",children:i.points}),s.jsxs("td",{className:"py-4 px-4",children:["$",i.wallet.toFixed(2)]}),s.jsx("td",{className:"py-4 px-4",children:i.joined}),s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs($,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>r(i.id,100),children:[s.jsx(Xi,{className:"h-4 w-4"}),s.jsx("span",{children:"+100 Points"})]}),s.jsxs($,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>a(i.id,50),children:[s.jsx(Qt,{className:"h-4 w-4"}),s.jsx("span",{children:"Add $50"})]})]})})]},i.id))})]})})})]})]})})},F6=""+new URL("inbucks-logo.png",import.meta.url).href,L6=""+new URL("ecocash-logo.png",import.meta.url).href,$6=""+new URL("omari-logo.png",import.meta.url).href,B6=""+new URL("cabs-logo.png",import.meta.url).href,W6=""+new URL("bancabc-logo.png",import.meta.url).href,Y6=""+new URL("fbc-logo.png",import.meta.url).href,U6=""+new URL("wiremit-logo.png",import.meta.url).href,z6=""+new URL("mukuru-logo.png",import.meta.url).href,H6=""+new URL("mamamoney-logo.png",import.meta.url).href,Gs={inbucks:F6,ecocash:L6,omari:$6,cabs:B6,bancabc:W6,fbc:Y6,wiremit:U6,mukuru:z6,mamamoney:H6},Xs=1e3,wb={mobile:{key:"mobile",label:"Mobile Money",methods:[{name:"EcoCash",logo:Gs.ecocash,showName:!1},{name:"InnBucks",logo:Gs.inbucks,showName:!0},{name:"Omari",logo:Gs.omari,showName:!0}]},bank:{key:"bank",label:"Bank",methods:[{name:"CABS",link:"https://www.cabs.co.zw",logo:Gs.cabs,showName:!1},{name:"BancABC",link:"https://www.bancabc.co.zw",logo:Gs.bancabc,showName:!1},{name:"FBC",link:"https://ibanking.fbc.co.zw",logo:Gs.fbc,showName:!1,customScale:"scale-150"}]},remittance:{key:"remittance",label:"Remittance",methods:[{name:"Wiremit",link:"https://wiremit.com",logo:Gs.wiremit,showName:!0},{name:"Mukuru",link:"https://www.mukuru.com/",logo:Gs.mukuru,showName:!0},{name:"MamaMoney",link:"https://www.mamamoney.co.za/",logo:Gs.mamamoney,showName:!0,customTextStyle:"font-medium text-[#FF4081]"}]},international:{key:"international",label:"International Cards",methods:[],comingSoon:!0}},V6=()=>{Ni({timeout:30*60*1e3,warningTime:2*60*1e3});const[e,t]=m.useState(()=>sessionStorage.getItem("username")||"Guest"),[n,r]=m.useState([]),[a,i]=m.useState(null),[o,l]=m.useState(0),[c,d]=m.useState([]),[u,f]=m.useState(!1),[h,g]=m.useState(!1),[v,p]=m.useState("USD"),[w,x]=m.useState(!1),[y,b]=m.useState(!1),[j,N]=m.useState("free_flight"),[P,C]=m.useState(!1),[S,O]=m.useState(""),[k,F]=m.useState(""),[B,ee]=m.useState(!1),[re,J]=m.useState(new Date),[q,D]=m.useState(""),[_,T]=m.useState(""),[L,U]=m.useState("+263"),[z,G]=m.useState("mobile"),[ye,Ce]=m.useState(!1),[ge,Q]=m.useState(""),[te,de]=m.useState(""),[E,Z]=m.useState(""),[W,be]=m.useState(""),[Ye,Ze]=m.useState("USD"),[tt,Ct]=m.useState(!1),[Mt,I]=m.useState(!1),[He,gt]=m.useState(!1),[Tt,ln]=m.useState(""),[hn,Ie]=m.useState(0),[R,he]=m.useState(6e5),[Te,Oe]=m.useState(!1),[De,Re]=m.useState("success"),[qe,Gt]=m.useState(""),[En,K]=m.useState(""),[ie,Fe]=m.useState(""),[ue,Ne]=m.useState(!1),[Le,Lt]=m.useState(null),[pn,Qe]=m.useState(!1),pr=[{code:"+263",label:"Zimbabwe (+263)",currency:"USD",placeholder:"7XXXXXXXX"},{code:"+27",label:"South Africa (+27)",currency:"ZAR",placeholder:"8XXXXXXXX"}],dt=m.useCallback(async()=>{var se;try{const $e=sessionStorage.getItem("token"),Me=sessionStorage.getItem("user_id");if(!$e||!Me)return;const Se=(((se=(await Be.get(ot.USER_WALLET(Number(Me)),{headers:{Authorization:`Token ${$e}`}})).data)==null?void 0:se.balances)||[]).map(Xt=>({currency:typeof Xt.currency=="object"?Xt.currency.code:Xt.currency,balance:(typeof Xt.balance=="number"?Xt.balance:parseFloat(Xt.balance||"0")).toFixed(2)}));r(Se)}catch{St({title:"Error",description:"Failed to fetch wallet balances.",variant:"destructive"})}},[]),Mn=async()=>{const se=sessionStorage.getItem("user_id"),$e=sessionStorage.getItem("token");if(!(!se||!$e))try{const Me=await fetch(`${ot.LOYALTY_POINTS}?user_id=${se}`,{headers:{Authorization:`Token ${$e}`}});if(Me.ok){const et=await Me.json();l(et.points||0)}}catch{}},Nt=async()=>{const se=sessionStorage.getItem("user_id"),$e=sessionStorage.getItem("token");if(!(!se||!$e)){f(!0);try{const Me=await fetch(`${ot.LOYALTY_TRANSACTIONS}?user_id=${se}`,{headers:{Authorization:`Token ${$e}`}});Me.ok&&d(await Me.json())}finally{f(!1)}}},ts=m.useCallback(async()=>{ee(!0);try{await Promise.all([dt(),Mn()]),J(new Date),St({title:"Wallet Updated",description:"Your wallet data has been refreshed."})}catch{St({title:"Refresh Failed",description:"Could not update wallet data",variant:"destructive"})}finally{ee(!1)}},[dt]);m.useEffect(()=>{(async()=>(await dt(),Mn()))()},[dt]),m.useEffect(()=>{let se;return tt&&hn>0&&(se=setInterval(()=>{const $e=Date.now()-hn,Me=Math.max(0,6e5-$e);he(Me),Me<=0&&clearInterval(se)},1e3)),()=>{se&&clearInterval(se)}},[tt,hn]),m.useEffect(()=>{(async()=>{const $e=sessionStorage.getItem("bancabc_transaction_id");if($e)try{const Me=sessionStorage.getItem("token"),et=await fetch(ot.BANCABC_PAYMENT_STATUS($e),{headers:{Authorization:`Token ${Me}`}});if(et.ok){const Ge=await et.json();Ge.payment_status==="completed"?(Re("success"),K("BancABC"),Fe(`${Ge.amount} ${Ge.currency}`),Gt("Your BancABC payment was processed successfully! Wallet balance updated."),Oe(!0),St({title:"Payment Successful",description:`Your wallet has been topped up with ${Ge.amount} ${Ge.currency}`}),await Promise.all([dt(),Mn()])):Ge.payment_status==="failed"&&(Re("failed"),K("BancABC"),Fe(`${Ge.amount} ${Ge.currency}`),Gt("BancABC payment could not be processed. Please try again or contact support."),Oe(!0),St({title:"Payment Failed",description:"Your BANCABC payment could not be processed.",variant:"destructive"}))}}catch(Me){console.error("Error checking BANCABC payment status:",Me)}finally{sessionStorage.removeItem("bancabc_transaction_id")}})()},[dt]),m.useEffect(()=>{const se=sessionStorage.getItem("token");se&&fetch(ot.LOGGED_IN_USER,{headers:{Authorization:`Token ${se}`}}).then(async $e=>{if($e.ok){const Me=await $e.json();i(Me.user),t(sessionStorage.getItem("username")||"User")}})},[]);const wn=(se,$e)=>{const Me=pr.find(et=>et.code===L&&et.currency===se);return!Me||!/^\d+$/.test($e)?!1:Me.currency==="USD"?$e.length===9&&$e.startsWith("7"):Me.currency==="ZAR"?$e.length===9&&!$e.startsWith("0"):!1},kr=()=>{const se=Number(q);return isNaN(se)||se<10||se>500?0:se},Vs=se=>{var $e;return(($e=n.find(Me=>Me.currency===se))==null?void 0:$e.balance)||"0.00"},H=async(se,$e)=>{var et,Ge;const Me=sessionStorage.getItem("token");if(!(!Me||!a))try{x(!0);const Se=await Be.post(ot.INNBUCKS_GENERATE_CODE,{user_id:a.id,amount:se.toString(),currency:$e},{headers:{Authorization:`Token ${Me}`,"Content-Type":"application/json"}});if(Se.data.status==="success"){Q(Se.data.innbucks_code);const Xt=Se.data.qr_code;de(Xt&&!Xt.startsWith("data:")?`data:image/png;base64,${Xt}`:Xt),Z(Se.data.reference),be(Se.data.amount),Ze($e),ln(Se.data.deep_link||""),g(!1),Ce(!0),St({title:" InnBucks Code Generated Successfully",description:"Your payment code is ready. Complete payment within 10 minutes to avoid session expiry."}),ve(Se.data.innbucks_code,Se.data.reference)}}catch(Se){console.error("InnBucks code generation error:",Se),St({title:"Error",description:((Ge=(et=Se.response)==null?void 0:et.data)==null?void 0:Ge.message)||"Failed to generate InnBucks payment code",variant:"destructive"})}finally{x(!1)}},le=async(se,$e)=>{const Me=sessionStorage.getItem("token");if(!Me)return null;try{return(await Be.post(ot.INNBUCKS_CHECK_STATUS,{innbucks_code:se,transaction_id:$e},{headers:{Authorization:`Token ${Me}`,"Content-Type":"application/json"}})).data}catch(et){return console.error("InnBucks status check error:",et),null}},ve=async(se,$e)=>{Ct(!0),I(!1),gt(!1);let Me=0;const et=20,Ge=6e5,Se=Date.now();St({title:"InnBucks Payment Initiated",description:"Please complete the payment in your InnBucks app. Session expires in 10 minutes."});const Xt=setInterval(async()=>{Me++;const Ut=Date.now()-Se;if(Me>et||Ut>=Ge){clearInterval(Xt),Ct(!1),gt(!0),Re("failed"),K("InnBucks"),Fe(`${Ye} ${W}`),Gt("Your 10-minute payment session has expired. Please generate a new payment code and try again."),Oe(!0),St({title:" InnBucks Session Expired",description:"Your 10-minute payment session has expired. Please generate a new payment code.",variant:"destructive"});return}const yt=await le(se,$e);yt&&(yt.status==="success"&&(yt.payment_status==="Paid"||yt.payment_status==="Claimed")?(clearInterval(Xt),Ct(!1),Ce(!1),Re("success"),K("InnBucks"),Fe(`${Ye} ${W}`),Gt(`Wallet successfully topped up! ${yt.points_earned?`You earned ${yt.points_earned} loyalty points!`:"Loyalty points awarded!"}`),Oe(!0),St({title:" Payment Successful!",description:`Wallet topped up with ${Ye} ${W}. ${yt.points_earned?`You earned ${yt.points_earned} loyalty points!`:"Points awarded!"}`}),await Promise.all([dt(),Mn()]),Q(""),de(""),Z(""),be(""),D(""),T("")):(yt.payment_status==="Expired"||yt.payment_status==="Timed Out"||yt.payment_status==="Failed")&&(clearInterval(Xt),Ct(!1),I(!0),Re("failed"),K("InnBucks"),Fe(`${Ye} ${W}`),Gt(`Payment ${yt.payment_status.toLowerCase()}. Please try again with a new payment code.`),Oe(!0),St({title:" Payment Failed",description:`Payment ${yt.payment_status.toLowerCase()}. Please try again with a new code.`,variant:"destructive"})))},3e4)},Ke=async se=>{const $e=sessionStorage.getItem("token");if(!$e)return null;try{return(await Be.get(ot.ECOCASH_TRANSACTION_STATUS(se),{headers:{Authorization:`Token ${$e}`,"Content-Type":"application/json"}})).data}catch(Me){return console.error("EcoCash status check error:",Me),null}},jn=se=>{let $e=0;const Me=60,et=setInterval(async()=>{if($e++,$e>Me){clearInterval(et),Re("failed"),K("EcoCash"),Fe(`${v} ${q}`),Gt("Payment verification timed out. Please check your wallet balance or try again."),Oe(!0),St({title:"Payment Verification Timeout",description:"Payment verification timed out. Please check your wallet balance later.",variant:"destructive"});return}const Ge=await Ke(se);if(Ge&&Ge.success)if(Lt(Ge.transaction),Ge.transaction.status==="completed"){clearInterval(et),Ne(!1),Re("success"),K("EcoCash"),Fe(`${Ge.transaction.amount} ${Ge.transaction.currency_code}`);const Se=Ge.transaction.loyalty_points_awarded||0;Gt(`Wallet successfully topped up!${Se>0?` You earned ${Se} loyalty points!`:""}`),Oe(!0),St({title:"Payment Successful",description:`Your wallet has been topped up with ${Ge.transaction.amount} ${Ge.transaction.currency_code}.${Se>0?` You earned ${Se} loyalty points!`:""}`}),await Promise.all([dt(),Mn()]),D(""),T(""),Lt(null)}else Ge.transaction.status==="failed"&&(clearInterval(et),Re("failed"),K("EcoCash"),Fe(`${Ge.transaction.amount} ${Ge.transaction.currency_code}`),Gt("EcoCash payment could not be processed. Please check your balance and try again."),Oe(!0),St({title:"Payment Failed",description:"Your EcoCash payment could not be processed.",variant:"destructive"}))},5e3);return et},Yn=async(se,$e,Me)=>{var Se,Xt;const et=kr();if(!et){St({title:"Validation Error",description:"Enter an amount between 10 and 500.",variant:"destructive"});return}if(Me==="mobile"&&!wn(se,_)){St({title:"Validation Error",description:"Enter a valid mobile number.",variant:"destructive"});return}if(!a){St({title:"User Missing",description:"Reload page and try again.",variant:"destructive"});return}const Ge=sessionStorage.getItem("token");if(!Ge){St({title:"Auth Error",description:"Please log in again.",variant:"destructive"});return}if($e==="EcoCash"&&Me==="mobile"){try{x(!0),Qe(!0);const Ut=`${L}${_}`,yt=await Be.post(ot.ECOCASH_INITIATE_PAYMENT,{amount:et,currency_code:se,phone_number:Ut,remarks:`FastJet Wallet Top-up (${se} ${et})`},{headers:{Authorization:`Token ${Ge}`,"Content-Type":"application/json"}});yt.data.success?(Lt(yt.data.transaction),g(!1),Ne(!0),St({title:"EcoCash Payment Initiated",description:"Please check your phone to complete the EcoCash payment."}),jn(yt.data.transaction.client_correlator)):St({title:"Payment Initiation Failed",description:yt.data.message||"Could not initiate EcoCash payment",variant:"destructive"})}catch(Ut){St({title:"Error",description:((Xt=(Se=Ut.response)==null?void 0:Se.data)==null?void 0:Xt.message)||"Could not initiate EcoCash payment",variant:"destructive"})}finally{x(!1),Qe(!1)}return}if($e==="InnBucks"&&Me==="mobile"){await H(et,se);return}if($e==="BancABC"&&Me==="bank")try{x(!0);const Ut=await fetch(ot.BANCABC_INITIATE_PAYMENT,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${Ge}`},body:JSON.stringify({user_id:a.id,amount:et,currency:se,return_url:`${window.location.origin}/client/wallet`,callback_url:`${oe}/wallets/bancabc/payment/success/`})}),yt=await Ut.json();if(!Ut.ok){St({title:"Payment Initiation Failed",description:yt.message||"Could not initiate BANCABC payment",variant:"destructive"});return}St({title:"Redirecting to BANCABC",description:"You will be redirected to complete your payment."}),sessionStorage.setItem("bancabc_transaction_id",yt.transaction_id),window.location.href=yt.payment_url;return}catch{St({title:"Error",description:"Could not initiate BANCABC payment",variant:"destructive"});return}finally{x(!1)}try{x(!0);const Ut=`${a.id}-${se}-${et}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,yt=await fetch(ot.TOP_UP_WALLET(a.id,se),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${Ge}`},body:JSON.stringify({amount:et,method:$e,phone_number:Me==="mobile"?`${L}${_}`:null,idempotency_key:Ut})}),qs=await yt.json().catch(()=>({}));if(!yt.ok){St({title:"Top Up Failed",description:qs.error||`Request failed (${yt.status})`,variant:"destructive"});return}qs.duplicate?St({title:"Duplicate Transaction",description:"This transaction was already processed.",variant:"destructive"}):(r(Ci=>Ci.some(Na=>Na.currency===se)?Ci.map(Na=>Na.currency===se?{...Na,balance:(Number(Na.balance)+et).toFixed(2)}:Na):[...Ci,{currency:se,balance:et.toFixed(2)}]),St({title:"Top Up Successful",description:qs.message||`${se} ${et} added.`}),await Promise.all([dt(),Mn()])),g(!1),D(""),T("")}catch{St({title:"Error",description:"Unexpected error processing top-up",variant:"destructive"})}finally{x(!1)}},Ot=async()=>{const se=sessionStorage.getItem("token"),$e=sessionStorage.getItem("user_id");if(!(!se||!$e)){C(!0);try{if(j==="free_flight"&&o<Xs){St({title:"Not Eligible",description:`Free flight requires at least ${Xs} points`,variant:"destructive"}),C(!1);return}const Me={user_id:$e,redemption_type:"free_flight"};k&&(Me.flight_route=k),S&&(Me.preferred_date=S);const et=await fetch(ot.LOYALTY_REDEMPTIONS,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${se}`},body:JSON.stringify(Me)}),Ge=await et.json();et.ok?(St({title:"Redemption Requested",description:"Awaiting admin approval."}),b(!1),Mn()):St({title:"Redemption Failed",description:Ge.error||"Check points",variant:"destructive"})}catch{St({title:"Error",description:"Could not submit redemption",variant:"destructive"})}finally{C(!1)}}},ht=se=>{se==="activity"&&Nt()},Wr=se=>new Date(se).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),Vn=se=>se==="earned"?s.jsx(_p,{className:"h-4 w-4 text-green-600"}):se==="redeemed"?s.jsx(aa,{className:"h-4 w-4 text-red-600"}):s.jsx(ps,{className:"h-4 w-4 text-blue-600"}),xr=({promotion:se})=>s.jsx("div",{className:"bg-gradient-to-r from-[#FFC20E] to-[#FFE27A] text-gray-900 p-4 mb-6 rounded-lg border border-[#F2B800]",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:se.title}),s.jsx("p",{className:"text-gray-700",children:se.description})]}),s.jsxs("div",{className:"bg-white/60 rounded-full px-3 py-1 text-sm font-medium",children:["+",se.points," pts"]})]})}),qn=({points:se})=>{const Me=Math.min(se,2e3)/2e3*100,et=se>=Xs;return s.jsxs(ae,{children:[s.jsxs(pe,{className:"bg-[#FFC20E] rounded-t-md",children:[s.jsxs(xe,{className:"text-gray-900 flex items-center gap-2",children:[s.jsx(ul,{className:"h-5 w-5"}),"Fast Points"]}),s.jsxs(ke,{className:"text-gray-700",children:["Free flight at ",Xs,"+ pts"]})]}),s.jsxs(me,{className:"pt-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:se}),s.jsx("p",{className:"text-sm text-gray-500",children:"Available Points"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress to 2000"}),s.jsxs("span",{children:[Math.min(se,2e3)," / 2000"]})]}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#FFC20E]",style:{width:`${Me}%`}})}),s.jsx("p",{className:"text-xs text-center text-gray-500",children:et?"Eligible for free flight redemption":"Need more points to reach 1000"}),s.jsxs("div",{className:"pt-4 border-t mt-4",children:[s.jsx($,{size:"sm",className:"w-full",disabled:!et,onClick:()=>{N("free_flight"),b(!0)},children:"Redeem Free Flight"}),s.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 text-center",children:["Requires minimum ",Xs," points"]})]})]})]})]})},po={title:"Double Points Weekend",description:"Earn 2x points on all flights this weekend!",points:40},ns=()=>{var Ge;const se=((Ge=pr.find(Se=>Se.code===L&&Se.currency===v))==null?void 0:Ge.placeholder)||"",$e=["mobile","bank","remittance","international"],Me=()=>{const Se=Number(q);return!isNaN(Se)&&Se>=10&&Se<=500},et=q&&!Me()?"Amount must be between 10 and 500":"";return s.jsx(Kt,{open:h,onOpenChange:g,children:s.jsxs(zt,{className:"max-w-lg",children:[s.jsxs(Ht,{children:[s.jsxs(Vt,{children:["Deposit to ",v," Wallet"]}),s.jsx(rn,{children:"Select a category, enter amount (10 - 500) then choose a method."})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:$e.map(Se=>s.jsx($,{type:"button",variant:z===Se?"default":"outline",size:"sm",onClick:()=>G(Se),children:wb[Se].label},Se))}),z!=="remittance"&&z!=="international"&&s.jsxs("div",{children:[s.jsxs(Y,{children:["Amount (",v,")"]}),s.jsx(je,{type:"number",min:10,max:500,value:q,onChange:Se=>D(Se.target.value),placeholder:`Enter 10 - 500 ${v}`,className:et?"border-red-500":""}),et&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:et})]}),z==="remittance"&&s.jsx("div",{className:"p-3 rounded-md bg-blue-50 text-xs text-blue-700 border border-blue-200",children:"Select a remittance partner below. You'll be redirected to their website."}),z==="mobile"&&s.jsxs("div",{children:[s.jsx(Y,{children:"Mobile Number"}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsxs(Cn,{value:L,onValueChange:Se=>U(Se),children:[s.jsx(yn,{className:"w-[110px]",children:s.jsx(kn,{placeholder:"Code"})}),s.jsx(vn,{children:pr.filter(Se=>Se.currency===v).map(Se=>s.jsx(Ve,{value:Se.code,children:Se.code},Se.code))})]}),s.jsx(je,{type:"text",value:_,onChange:Se=>T(Se.target.value),placeholder:se,className:"flex-1"})]}),_&&!wn(v,_)&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Invalid number format"})]}),s.jsxs("div",{children:[s.jsx(Y,{children:"Payment Methods"}),z==="international"?s.jsx("div",{className:"mt-3 p-4 border rounded-md text-sm text-gray-600 bg-gray-50",children:"International card payments are coming soon."}):s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:wb[z].methods.map(Se=>s.jsxs($,{variant:"outline",className:"w-full bg-white flex items-center gap-2 justify-start h-16 px-2",disabled:w||z==="mobile"&&(!Me()||!wn(v,_))||z==="bank"&&!Me(),onClick:()=>{if(z==="remittance"&&Se.link){window.open(Se.link,"_blank"),St({title:"Remittance Redirect",description:`Opened ${Se.name} in a new tab.`}),g(!1);return}if(Se.link&&z==="bank"&&Se.name!=="BancABC"){window.open(Se.link,"_blank"),St({title:"Bank Redirect",description:`Opened ${Se.name} online banking in a new tab.`}),g(!1);return}Yn(v,Se.name,z)},children:[Se.logo&&s.jsx("div",{className:"flex items-center justify-center w-32 h-12",children:s.jsx("img",{src:Se.logo,alt:Se.name,className:`max-h-full max-w-full object-contain transition-transform ${Se.customScale||""}`,onError:Xt=>{console.error(`Failed to load image: ${Se.logo}`),Xt.currentTarget.style.border="1px solid red"},onLoad:()=>console.log(`Successfully loaded: ${Se.logo}`)})}),(Se.showName||w)&&s.jsx("span",{className:`truncate ${Se.customTextStyle||""}`,children:w?"Processing...":Se.name})]},Se.name))})]})]})]})})};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(xr,{promotion:po}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome, ",e]}),s.jsx("p",{className:"text-gray-600",children:"Manage your rewards and wallet balances"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Last updated: ",re.toLocaleString([],{hour:"2-digit",minute:"2-digit",hour12:!0,day:"numeric",month:"short"})]}),s.jsx($,{variant:"outline",size:"sm",onClick:ts,disabled:B,className:"flex items-center gap-2",children:B?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Refreshing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kl,{className:"h-4 w-4"}),"Refresh Data"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ae,{children:[s.jsxs(pe,{className:"bg-[#FFC20E] rounded-t-md",children:[s.jsx(xe,{className:"text-gray-900",children:"FastJet Wallet"}),s.jsx(ke,{className:"text-gray-700",children:"Manage and top up your balances"})]}),s.jsx(me,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"USD Wallet"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",Vs("USD")]}),s.jsx($,{size:"sm",className:"mt-2",onClick:()=>{p("USD"),g(!0)},disabled:pn,children:pn?"Processing EcoCash...":"Top Up USD"})]}),s.jsxs("div",{className:"text-center opacity-50 pointer-events-none",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"ZAR Wallet (Disabled)"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-400",children:["R",Vs("ZAR")]}),s.jsx($,{size:"sm",className:"mt-2",disabled:!0,children:"Top Up ZAR"})]})]})})})]}),s.jsx(qn,{points:o}),s.jsx("div",{className:"text-right",children:s.jsx($,{variant:"outline",asChild:!0,children:s.jsxs("a",{href:"/client/flights",children:[s.jsx(ps,{className:"mr-2 h-4 w-4"}),"Book a Flight"]})})})]}),ns(),s.jsx(Kt,{open:ye,onOpenChange:Ce,children:s.jsxs(zt,{className:"max-w-md",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"InnBucks Payment"}),s.jsx(rn,{children:"Scan QR code or enter code in InnBucks app to complete payment"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Amount: ",Ye," ",W]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Reference: ",E]}),tt&&R>0&&s.jsxs("div",{className:"text-sm text-orange-600 font-medium flex items-center justify-center gap-1",children:[s.jsx("span",{children:""}),"Session expires in: ",Math.ceil(R/1e3/60)," minutes"]})]}),te&&s.jsx("div",{className:"flex justify-center p-4 bg-white border-2 border-gray-300 rounded-lg shadow-sm",children:s.jsx("img",{src:te,alt:"InnBucks QR Code",className:"w-64 h-64",style:{imageRendering:"pixelated"}})}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"text-2xl font-bold text-[#FFC20E] tracking-wider",children:ge}),s.jsx("p",{className:"text-xs text-gray-500",children:"Enter this code in your InnBucks app"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[s.jsx("p",{className:"font-medium text-blue-900",children:"Payment Options:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[s.jsx("li",{children:"Scan the QR code with your InnBucks app"}),s.jsxs("li",{children:["Or dial InnBucks USSD and enter code: ",ge]}),s.jsx("li",{children:"Or open InnBucks app and enter the code manually"})]})]}),tt&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[s.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Waiting for payment confirmation..."]}),Mt&&s.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-red-600",children:[s.jsx("p",{children:"Payment failed or expired. Please try again."}),s.jsx($,{variant:"outline",className:"w-full",onClick:()=>{I(!1),gt(!1),ve(ge,E)},children:"Retry"})]}),He&&s.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-orange-600",children:[s.jsx("p",{children:"Payment timed out. You can retry or close."}),s.jsx($,{variant:"outline",className:"w-full",onClick:()=>{gt(!1),I(!1),ve(ge,E)},children:"Retry"})]}),!tt&&!Mt&&!He&&s.jsx($,{variant:"outline",className:"w-full",onClick:()=>Ce(!1),children:"Close"})," "]})]})}),s.jsx(Kt,{open:ue,onOpenChange:Ne,children:s.jsxs(zt,{className:"max-w-md",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"EcoCash Payment"}),s.jsx(rn,{children:"Check your phone to complete the EcoCash payment"})]}),s.jsx("div",{className:"space-y-4",children:Le&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Amount: ",Le.currency_code," ",Le.amount]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Reference: ",Le.reference_code]})]}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-orange-800 text-sm",children:[s.jsx("p",{className:"font-medium mb-2",children:"Payment Instructions:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[s.jsx("li",{children:"You will receive an EcoCash prompt on your phone"}),s.jsx("li",{children:"Enter your EcoCash PIN to approve the payment"}),s.jsx("li",{children:"Wait for confirmation message"}),s.jsx("li",{children:"Your FastJet wallet will be credited automatically"})]})]}),s.jsx("div",{className:"bg-gray-50 border rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("div",{className:"font-medium",children:"Status:"}),s.jsx("div",{className:Le.status==="completed"?"text-green-600 font-medium":Le.status==="failed"?"text-red-600 font-medium":"text-orange-600 font-medium",children:Le.status==="completed"?"Completed":Le.status==="failed"?"Failed":Le.status==="pending_subscriber"?"Waiting for your approval":"Processing"}),s.jsx("div",{className:"font-medium",children:"Phone:"}),s.jsx("div",{children:Le.end_user_id}),s.jsx("div",{className:"font-medium",children:"Date:"}),s.jsx("div",{children:new Date(Le.created_at).toLocaleString()})]})}),Le.status==="pending_subscriber"&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[s.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Waiting for your confirmation on your phone..."]}),Le.status==="failed"&&s.jsx("div",{className:"text-center text-red-600 text-sm",children:s.jsx("p",{children:"Payment failed. Please try again."})}),s.jsx($,{variant:"outline",className:"w-full",onClick:()=>Ne(!1),children:"Close"})]})})]})}),s.jsx(Kt,{open:y,onOpenChange:b,children:s.jsxs(zt,{className:"max-w-md",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Redeem Points"}),s.jsx(rn,{children:"Submit a redemption request. Admin will review and approve."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Reward Type"}),s.jsxs(Cn,{value:j,onValueChange:se=>N(se),children:[s.jsx(yn,{className:"mt-1",children:s.jsx(kn,{})}),s.jsxs(vn,{children:[s.jsxs(Ve,{value:"free_flight",children:["Free Flight ( ",Xs,")"]}),s.jsx(Ve,{value:"wallet_credit",disabled:!0,children:"Wallet Credit (coming soon)"}),s.jsx(Ve,{value:"priority_boarding",disabled:!0,children:"Priority Boarding (coming soon)"}),s.jsx(Ve,{value:"lounge_access",disabled:!0,children:"Lounge Access (coming soon)"}),s.jsx(Ve,{value:"extra_baggage",disabled:!0,children:"Extra Baggage (coming soon)"})]})]})]}),j==="free_flight"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Preferred Route (optional)"}),s.jsx(je,{value:k,onChange:se=>F(se.target.value),placeholder:"eg. HRE  JNB"})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Preferred Date (optional)"}),s.jsx(je,{type:"date",value:S,onChange:se=>O(se.target.value)})]})]}),s.jsx($,{disabled:P||j==="free_flight"&&o<Xs,onClick:Ot,className:"w-full",children:P?"Submitting...":"Submit Redemption"}),j==="free_flight"&&o<Xs&&s.jsxs("p",{className:"text-[10px] text-center text-gray-500",children:["Need at least ",Xs," points to redeem a free flight."]})]})]})}),s.jsxs(es,{defaultValue:"products",className:"w-full mt-8",onValueChange:ht,children:[s.jsxs(Fr,{className:"grid w-full grid-cols-2",children:[s.jsxs(rt,{value:"products",className:"flex items-center gap-2",children:[s.jsx(Ha,{className:"h-4 w-4"}),"Recommended Products"]}),s.jsxs(rt,{value:"activity",className:"flex items-center gap-2",children:[s.jsx(_p,{className:"h-4 w-4"}),"Points Activity"]})]}),s.jsx(st,{value:"products",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ha,{className:"h-5 w-5"}),"Recommended Products"]}),s.jsx(ke,{children:"Curated travel products & offers (coming soon)"})]}),s.jsx(me,{children:s.jsx("div",{className:"py-10 text-center text-sm text-gray-500",children:"Product marketplace coming soon."})})]})}),s.jsx(st,{value:"activity",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5"}),"Points Activity"]}),s.jsx(ke,{children:"Your recent loyalty points transactions"})]}),s.jsx(me,{children:u?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading activity..."})]}):c.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ps,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No activity yet"}),s.jsx("p",{className:"text-gray-500",children:"Your points activity will appear here as you earn and redeem points."})]}):s.jsx("div",{className:"space-y-4",children:c.map(se=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[Vn(se.transaction_type),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:se.description}),s.jsx("p",{className:"text-sm text-gray-500",children:Wr(se.created_at)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-bold ${se.transaction_type==="earned"?"text-green-600":"text-red-600"}`,children:[se.transaction_type==="earned"?"+":"-",se.points]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Balance: ",se.balance_after]}),"              ",s.jsxs("p",{className:"text-sm text-gray-500",children:["Balance: ",se.balance_after]})]})]},se.id))})})]})})]}),s.jsx(Kt,{open:Te,onOpenChange:Oe,children:s.jsxs(zt,{className:"max-w-md",children:[s.jsx(Ht,{children:s.jsx(Vt,{className:"flex items-center gap-2",children:De==="success"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-2xl",children:""}),"Payment Successful!"]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-2xl",children:""}),"Payment Failed"]})})}),s.jsxs("div",{className:"space-y-4 text-center",children:[s.jsxs("div",{className:`p-4 rounded-lg ${De==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.jsxs("div",{className:"font-semibold",children:[En," Payment ",De==="success"?"Completed":"Failed"]}),s.jsxs("div",{className:"text-lg font-bold mt-2",children:["Amount: ",ie]}),s.jsx("div",{className:"text-sm mt-2",children:qe})]}),s.jsx($,{className:"w-full",onClick:()=>Oe(!1),variant:De==="success"?"default":"destructive",children:De==="success"?"Continue":"Try Again"})]})]})})]})]})},q6=()=>{var sy,ay,iy,oy,ly,cy,dy,uy,my,fy,hy,py,xy;const{toast:e}=fn(),t=zs(),n=Br();Ni({timeout:30*60*1e3,warningTime:2*60*1e3});const[r,a]=m.useState("one_way"),[i,o]=m.useState(""),[l,c]=m.useState(""),[d,u]=m.useState(void 0),[f,h]=m.useState(void 0),[g,v]=m.useState(1),[p,w]=m.useState(0),[x,y]=m.useState("wallet"),[b,j]=m.useState(!1),[N,P]=m.useState(!1),[C,S]=m.useState("search"),[O,k]=m.useState("search"),[F,B]=m.useState(!1),[ee,re]=m.useState(!1),[J,q]=m.useState(!1),[D,_]=m.useState(null),[T,L]=m.useState(!1),[U,z]=m.useState(!1),[G,ye]=m.useState(""),[Ce,ge]=m.useState({}),[Q,te]=m.useState(!1),[de,E]=m.useState(!1),[Z,W]=m.useState(""),[be,Ye]=m.useState(""),[Ze,tt]=m.useState(!1),[Ct,Mt]=m.useState(!1),[I,He]=m.useState(null),[gt,Tt]=m.useState(!1),[ln,hn]=m.useState(!1),[Ie,R]=m.useState(null),[he,Te]=m.useState(""),[Oe,De]=m.useState(0),[Re,qe]=m.useState("pending"),[Gt,En]=m.useState(!1),[K,ie]=m.useState(8),[Fe,ue]=m.useState(!1),[Ne,Le]=m.useState(null),[Lt,pn]=m.useState([]),[Qe,pr]=m.useState(null),[dt,Mn]=m.useState(null),[Nt,ts]=m.useState(null),[wn,kr]=m.useState([]),[Vs,H]=m.useState(0),[le,ve]=m.useState([]),[Ke,jn]=m.useState(!1),[Yn,Ot]=m.useState(!1),[ht,Wr]=m.useState(!0),[Vn,xr]=m.useState(!1);m.useEffect(()=>{const M=t.state&&(t.state.searchParams?t.state.searchParams:t.state);if(M){const X=M;console.log("Prefill from navigation state searchParams:",X),a(X.flightType||"one_way");const fe=X.fromCity||X.from_destination||X.from||null,Ee=X.toCity||X.to_destination||X.to||null;fe&&/^\d+$/.test(String(fe))?o(String(fe)):fe&&Le(lt=>({...lt||{},fromCity:String(fe)})),Ee&&/^\d+$/.test(String(Ee))?c(String(Ee)):Ee&&Le(lt=>({...lt||{},toCity:String(Ee)})),u(X.departDate?new Date(X.departDate):void 0),h(X.returnDate?new Date(X.returnDate):void 0),v(X.adultCount||1),w(X.childCount||0),ue(!0)}},[t.state]),m.useEffect(()=>{try{const X=(t.state||{}).searchResults||null;X&&(console.log("Received pre-run searchResults via navigation state:",X),pr(X),P(!0),Mn(null),ts(null),k("select"),ue(!1))}catch{}},[t.state]),m.useEffect(()=>{if(Fe&&console.log("Auto-search requested. isLoadingDestinations=",ht),!Fe||ht)return;let M=$e(i),X=$e(l);const fe=Ne||t.state&&(t.state.searchParams?t.state.searchParams:t.state);if(!M&&fe&&fe.fromCity||!X&&fe&&fe.toCity){const Ee=fe.fromCity?String(fe.fromCity):null,lt=fe.toCity?String(fe.toCity):null;let vt=null,Ue=null;if(Ee){const nt=Lt.find(Xe=>Xe.id.toString()===Ee),At=Lt.find(Xe=>Xe.name===Ee);nt?vt=nt.id.toString():At&&(vt=At.id.toString())}if(lt){const nt=Lt.find(Xe=>Xe.id.toString()===lt),At=Lt.find(Xe=>Xe.name===lt);nt?Ue=nt.id.toString():At&&(Ue=At.id.toString())}vt&&(o(vt),M=Lt.find(nt=>nt.id.toString()===vt)||null),Ue&&(c(Ue),X=Lt.find(nt=>nt.id.toString()===Ue)||null)}if(!M||!X){console.warn("Auto-search aborted: could not resolve from/to destinations yet.",{resolvedFrom:M,resolvedTo:X,pendingSearchParams:Ne});return}console.log("Running auto-search now"),Me(!0),ue(!1),Le(null)},[Fe,ht,i,l,Lt,Ne,t.state]),m.useEffect(()=>{Fe&&(ht||!i||!l||!d||(console.log("Auto-search safety trigger: required fields present, launching search"),Me(!0),ue(!1)))},[Fe,ht,i,l,d]),m.useEffect(()=>{t.state&&t.state.searchParams&&t.state.searchParams.autoAdvanceToSelect&&N&&k("select")},[t.state,N]);const[qn,po]=m.useState(18.05),ns=m.useCallback(async()=>{const M=sessionStorage.getItem("user_id"),X=sessionStorage.getItem("token");if(!M||!X){kr([]),H(0);return}try{const fe=await fetch(`${oe}/wallets/currencies/?user_id=${M}`,{method:"GET",headers:{Authorization:`Token ${X}`}}),Ee=await fe.json();if(fe.ok&&Ee.balances){const Ue=Ee.balances.map(nt=>({currency:nt.currency.code,balance:Number.parseFloat(nt.balance)}));kr(Ue)}else kr([]);const lt=await fetch(`${oe}/loyalty/points/?user_id=${M}`,{headers:{Authorization:`Token ${X}`}}),vt=await lt.json();lt.ok?H(vt.points||0):H(0)}catch(fe){console.error("Failed to load user data:",fe),kr([]),H(0)}},[]);m.useEffect(()=>{(async()=>{try{console.log("Loading destinations from:",`${oe}/destination/destinations/`);const fe=await fetch(`${oe}/destination/destinations/`),Ee=await fe.json();if(console.log("Destinations API Response:",Ee),fe.ok){const lt=Array.isArray(Ee)?Ee:Ee.destinations?Ee.destinations:Ee.results?Ee.results:[];console.log("Processed destinations:",lt),pn(lt),lt.length===0&&e({variant:"destructive",title:"No destinations available",description:"No destinations could be loaded from the server."})}else console.error("Destinations API Error:",Ee),e({variant:"destructive",title:"Error loading destinations",description:Ee.error||Ee.detail||"Failed to load destinations"})}catch(fe){console.error("Destinations fetch error:",fe),e({variant:"destructive",title:"Connection Error",description:"Could not connect to server to load destinations"})}finally{Wr(!1)}})(),sessionStorage.getItem("token")&&ns()},[ns,e]),m.useEffect(()=>{B(!1),re(!1)},[x,O]);const se=m.useCallback(async()=>{const M=sessionStorage.getItem("user_id"),X=sessionStorage.getItem("token");if(!M||!X){ve([]);return}xr(!0);try{const[fe,Ee]=await Promise.all([fetch(`${oe}/booking/bookings/?user_id=${M}`,{headers:{Authorization:`Token ${X}`}}),fetch(`${oe}/booking/laybuy-bookings/?user_id=${M}`,{headers:{Authorization:`Token ${X}`}})]),lt=fe.ok?await fe.json():[],vt=Ee.ok?await Ee.json():[],Ue=[...lt,...vt].sort((nt,At)=>new Date(At.created_at).getTime()-new Date(nt.created_at).getTime());ve(Ue)}catch{e({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{xr(!1)}},[e]),$e=M=>M&&Lt.find(X=>X.id.toString()===M)||null,Me=async(M,X=!1)=>{if(typeof M=="boolean"&&(M=void 0),M&&typeof M.preventDefault=="function"&&M.preventDefault(),!i||!l||!d){e({variant:"destructive",title:"Missing information",description:"Please fill in all required fields."});return}if(r==="round_trip"&&!f){e({variant:"destructive",title:"Return date required",description:"Please select a return date for round trip flights."});return}if(i===l){e({variant:"destructive",title:"Invalid route",description:"Departure and destination cities must be different."});return}jn(!0),P(!1),k("search");try{const fe=$e(i),Ee=$e(l);if(!fe||!Ee)throw new Error("Invalid destinations selected");console.log("Search Debug:",{fromDest:fe.name,toDest:Ee.name,departDate:pt(d,"yyyy-MM-dd"),returnDate:f?pt(f,"yyyy-MM-dd"):null,flightType:r,adultCount:g,childCount:p});const lt={from_destination:fe.id,to_destination:Ee.id,departure_date:pt(d,"yyyy-MM-dd"),return_date:f?pt(f,"yyyy-MM-dd"):null,trip_type:r,adult_count:g,child_count:p};console.log("Search payload (auto? ->)",{payload:lt}),console.log("API Payload:",lt);const vt=await fetch(`${oe}/booking/search-flights/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(lt)}),Ue=await vt.json();console.log("API Response:",Ue);const nt=Array.isArray(Ue.outbound_flights)?Ue.outbound_flights.length:Array.isArray(Ue)?Ue.length:0,At=Array.isArray(Ue.return_flights)?Ue.return_flights.length:0;if(console.log("Search result counts:",{outboundCount:nt,returnCount:At}),vt.ok){const Xe=Array.isArray(Ue.outbound_flights)?Ue.outbound_flights:Array.isArray(Ue)?Ue:[],bt=Array.isArray(Ue.return_flights)?Ue.return_flights:[];pr({trip_type:r,from_destination:fe.name,to_destination:Ee.name,departure_date:pt(d,"yyyy-MM-dd"),return_date:f?pt(f,"yyyy-MM-dd"):void 0,passenger_count:{adults:g,children:p,total:g+p},outbound_flights:Xe,return_flights:bt}),P(!0),Mn(null),ts(null),k("select"),Xe.length===0?e({title:"No flights found",description:`No flights available from ${fe.name} to ${Ee.name} on ${pt(d,"MMM dd, yyyy")}`}):e({title:"Flights found!",description:`Found ${Xe.length} outbound flight${Xe.length>1?"s":""}`})}else console.error("API Error:",Ue),e({variant:"destructive",title:"Search failed",description:Ue.error||Ue.detail||"Could not search for flights"})}catch(fe){console.error("Search Error:",fe),e({variant:"destructive",title:"Search failed",description:"Could not connect to server. Please check your internet connection."})}finally{jn(!1)}},et=(M,X)=>{X==="outbound"?Mn(M):ts(M)},Ge=()=>{switch(O){case"search":return i&&l&&d&&(r==="one_way"||r==="round_trip"&&f)&&i!==l;case"select":return dt&&(r==="one_way"||Nt);case"summary":return!0;case"pay":return x!==null;default:return!1}},Se=()=>{if(!Ge()){e({variant:"destructive",title:"Missing Information",description:"Please complete the current step before proceeding."});return}const M=["search","select","summary","pay"],X=M.indexOf(O);X<M.length-1&&k(M[X+1]),O==="pay"&&setTimeout(()=>{n("/client/booking-success")},1e3)},Xt=()=>{const M=["search","select","summary","pay"],X=M.indexOf(O);X>0&&k(M[X-1])},Ut=()=>{if(!dt)return 0;const M=g+p;let fe=Number.parseFloat(dt.price||"0")*M;if(r==="round_trip"&&Nt){const Ee=Number.parseFloat(Nt.price||"0");fe+=Ee*M}return fe},yt=()=>Ut()*1.285,qs=()=>yt()/3,Ci=()=>{if(!dt)return!1;const M=new Date(dt.departure_time),X=new Date;return(M.getFullYear()-X.getFullYear())*12+(M.getMonth()-X.getMonth())>=3},dd=()=>x==="points"?500:0,Na=async M=>{try{const X=sessionStorage.getItem("user_id"),fe=sessionStorage.getItem("token");return!fe||!X?!1:(await fetch(`${oe}/users/verify-password/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${fe}`},body:JSON.stringify({password:M})})).ok}catch(X){return console.error("Password verification failed:",X),!1}},Bk=async()=>{if(!Ze&&de&&Z){if(tt(!0),!await Na(Z)){Ye("Incorrect password. Please try again."),tt(!1);return}E(!1),W(""),Ye(""),tt(!1),ty()}},ty=async()=>{if(!dt||r==="round_trip"&&!Nt)return;const M=b?yt():Ut(),X=sessionStorage.getItem("user_id"),fe=sessionStorage.getItem("token");Ot(!0);try{const Ee={user_id:X,trip_type:r,flight_schedule_id:dt.id,return_schedule_id:(Nt==null?void 0:Nt.id)||null,adult_count:g,child_count:p,payment_method:b?"installment":x,is_installment:b,passengers_data:[],special_requests:"",contact_phone:"",contact_email:""},lt=await fetch(`${oe}/booking/create-booking/`,{method:"POST",headers:{"Content-Type":"application/json",...fe&&{Authorization:`Token ${fe}`}},body:JSON.stringify(Ee)}),vt=await lt.json();if(!lt.ok)throw new Error(vt.error||"Could not create booking");if(x==="wallet"&&!b&&fe)try{console.log("Wallet deduction: userId, token present?",{userId:X,hasToken:!!fe}),console.log("Wallet deduction: totalPrice (raw)",M,typeof M);const Ue=Number(M);if(!Ue||Number.isNaN(Ue)||Ue<=0)throw new Error("Invalid or missing amount.");const nt={amount:Ue};console.log("Wallet deduction: request body",nt);const At=await fetch(`${oe}/wallets/${X}/deduct/USD/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${fe}`},body:JSON.stringify(nt)});if(!At.ok){const Xe=await At.json(),bt=Xe.message||Xe.error||Xe.detail||"Could not deduct amount from wallet";throw new Error(bt)}try{kr(Xe=>Xe.map(bt=>bt.currency==="USD"?{...bt,balance:Number((bt.balance-M).toFixed(2))}:bt))}catch(Xe){console.warn("Failed to update local wallet after deduction",Xe)}}catch(Ue){throw new Error(`Wallet deduction failed: ${Ue.message}`)}try{const Ue={booking_id:vt.booking_id,payment_method:b?"installment":x},nt=await fetch(`${oe}/booking/process-payment/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ue)}),At=await nt.json();if(!nt.ok)throw new Error(At.error||At.message||"Could not process payment")}catch(Ue){throw new Error(`Payment processing failed: ${Ue.message}`)}He({reference:vt.booking_reference,points:vt.points_earned||0,installment:vt.is_installment?{count:vt.installment_count,amount:vt.installment_amount}:null}),Mt(!0),setTimeout(()=>{n("/client/booking-success")},800),k("search"),P(!1),Mn(null),ts(null),pr(null),fe&&await ns()}catch(Ee){console.error("Booking error:",Ee),e({variant:"destructive",title:"Booking failed",description:Ee.message||"Could not complete the booking. Please try again.",duration:7e3})}finally{Ot(!1)}},Wk=async()=>{var Ee,lt,vt,Ue;if(!dt||r==="round_trip"&&!Nt||!G||!Ce[G])return;const M=b?yt():Ut(),X=sessionStorage.getItem("user_id"),fe=sessionStorage.getItem("token");te(!0),Ot(!0);try{const nt={user_id:X,trip_type:r,flight_schedule_id:dt.id,return_schedule_id:(Nt==null?void 0:Nt.id)||null,adult_count:g,child_count:p,payment_method:"fastjet_checkout",is_installment:b,passengers_data:[],special_requests:"",contact_phone:"",contact_email:""},At=await fetch(`${oe}/booking/create-booking/`,{method:"POST",headers:{"Content-Type":"application/json",...fe&&{Authorization:`Token ${fe}`}},body:JSON.stringify(nt)}),Xe=await At.json();if(!At.ok)throw new Error(Xe.error||"Could not create booking");if(Te(Xe.booking_reference),G==="ecocash"){const bt=Ce.ecocash,rs=`${bt.country_code}${bt.phone_number}`,Ns={amount:M,currency_code:"USD",phone_number:rs,remarks:`FastJet Booking - ${Xe.booking_reference}`},gy=await fetch(`${oe}/wallets/ecocash/initiate-payment/`,{method:"POST",headers:{"Content-Type":"application/json",...fe&&{Authorization:`Token ${fe}`}},body:JSON.stringify(Ns)}),ki=await gy.json();if(!gy.ok||!ki.success)throw new Error(ki.message||ki.errors||"EcoCash payment failed");R({provider:"ecocash",clientCorrelator:(Ee=ki.transaction)==null?void 0:Ee.client_correlator,referenceCode:(lt=ki.transaction)==null?void 0:lt.reference_code,amount:M,bookingId:Xe.booking_id,phoneNumber:rs}),z(!1),Tt(!0),qe("pending"),De(6e4),e({title:" EcoCash Payment Initiated",description:`Please approve the payment on your phone. Ref: ${(vt=ki.transaction)==null?void 0:vt.reference_code}`}),Uk((Ue=ki.transaction)==null?void 0:Ue.client_correlator,Xe.booking_id)}else if(G==="innbucks"){const bt={amount:M,currency:"USD",user_id:X},rs=await fetch(`${oe}/wallets/innbucks/generate-code/`,{method:"POST",headers:{"Content-Type":"application/json",...fe&&{Authorization:`Token ${fe}`}},body:JSON.stringify(bt)}),Ns=await rs.json();if(!rs.ok||Ns.status==="error")throw new Error(Ns.message||"InnBucks payment failed");R({provider:"innbucks",innbucksCode:Ns.innbucks_code,qrCode:Ns.qr_code,reference:Ns.reference,amount:M,bookingId:Xe.booking_id}),z(!1),Tt(!0),qe("pending"),De(6e5),e({title:" InnBucks Code Generated",description:`Use code ${Ns.innbucks_code} in your InnBucks app to complete payment.`}),Hk(Ns.innbucks_code,Ns.reference,Xe.booking_id)}else throw new Error(`Payment provider ${G} not yet implemented`)}catch(nt){console.error("FastJet checkout error:",nt),e({variant:"destructive",title:"Payment failed",description:nt.message||"Could not complete the FastJet checkout. Please try again.",duration:7e3}),te(!1),Ot(!1)}},Yk=async M=>{const X=sessionStorage.getItem("token");if(!X)return null;try{const fe=await fetch(`${oe}/wallets/ecocash/transaction-status/${M}/`,{headers:{Authorization:`Token ${X}`}});return fe.ok?await fe.json():null}catch(fe){return console.error("EcoCash status check error:",fe),null}},Uk=async(M,X)=>{hn(!0),qe("checking");let fe=0;const Ee=2,lt=6e4,vt=Date.now(),Ue=setInterval(()=>{const At=Date.now()-vt,Xe=Math.max(0,lt-At);De(Xe),Xe===0&&clearInterval(Ue)},1e3),nt=setInterval(async()=>{var bt,rs;fe++;const At=Date.now()-vt;if(fe>Ee||At>=lt){clearInterval(nt),clearInterval(Ue),hn(!1),qe("timeout"),De(0),e({title:" Payment Session Expired",description:"Your 1-minute payment session has expired. The payment was not completed. Please try booking again.",variant:"destructive",duration:1e4});return}qe("checking");const Xe=await Yk(M);Xe!=null&&Xe.success&&((bt=Xe.transaction)==null?void 0:bt.status)==="completed"?(clearInterval(nt),clearInterval(Ue),hn(!1),qe("completed"),e({title:" EcoCash Payment Confirmed",description:"Your payment has been confirmed. Generating your booking voucher..."}),await ny(X,"ecocash",Xe.transaction.client_correlator,Xe.transaction.reference_code)):((rs=Xe==null?void 0:Xe.transaction)==null?void 0:rs.status)==="failed"&&(clearInterval(nt),clearInterval(Ue),hn(!1),qe("failed"),De(0),e({title:" EcoCash Payment Failed",description:"Your EcoCash payment was declined or failed. Please try again with a different payment method.",variant:"destructive",duration:1e4}))},3e4)},zk=async(M,X)=>{const fe=sessionStorage.getItem("token");if(!fe)return null;try{const Ee=await fetch(`${oe}/wallets/innbucks/check-status/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${fe}`},body:JSON.stringify({innbucks_code:M,transaction_id:X})});return Ee.ok?await Ee.json():null}catch(Ee){return console.error("InnBucks status check error:",Ee),null}},Hk=async(M,X,fe)=>{hn(!0),qe("checking");let Ee=0;const lt=20,vt=6e5,Ue=Date.now(),nt=setInterval(()=>{const Xe=Date.now()-Ue,bt=Math.max(0,vt-Xe);De(bt),bt===0&&clearInterval(nt)},1e3),At=setInterval(async()=>{Ee++;const Xe=Date.now()-Ue;if(Ee>lt||Xe>=vt){clearInterval(At),clearInterval(nt),hn(!1),qe("timeout"),De(0),e({title:" InnBucks Session Expired",description:"Your 10-minute payment session has expired. The payment code is no longer valid. Please generate a new code and try again.",variant:"destructive",duration:1e4});return}qe("checking");const bt=await zk(M,X);(bt==null?void 0:bt.status)==="success"&&(bt.payment_status==="Paid"||bt.payment_status==="Claimed")?(clearInterval(At),clearInterval(nt),hn(!1),qe("completed"),e({title:" InnBucks Payment Confirmed",description:"Your payment has been confirmed. Generating your booking voucher..."}),await ny(fe,"innbucks",X,M)):(bt==null?void 0:bt.payment_status)==="Expired"?(clearInterval(At),clearInterval(nt),hn(!1),qe("timeout"),De(0),e({title:" InnBucks Code Expired",description:"Your InnBucks payment code has expired. Please generate a new code and try again.",variant:"destructive",duration:1e4})):(bt==null?void 0:bt.payment_status)==="Failed"?(clearInterval(At),clearInterval(nt),hn(!1),qe("failed"),De(0),e({title:" InnBucks Payment Failed",description:"Your InnBucks payment failed. Please try again with a different payment method.",variant:"destructive",duration:1e4})):(bt==null?void 0:bt.payment_status)==="New"&&e({title:" Waiting for Payment",description:`Please scan the QR code or enter the code in your InnBucks app. Time remaining: ${Math.ceil(Oe/1e3/60)} minutes`,duration:5e3})},3e4)},ny=async(M,X,fe,Ee)=>{const lt=sessionStorage.getItem("token");try{const vt={booking_id:M,payment_method:"fastjet_checkout",provider:X,amount:(Ie==null?void 0:Ie.amount)||0,payment_reference:fe,voucher_number:Ee},Ue=await fetch(`${oe}/booking/process-payment/`,{method:"POST",headers:{"Content-Type":"application/json",...lt&&{Authorization:`Token ${lt}`}},body:JSON.stringify(vt)}),nt=await Ue.json();if(!Ue.ok)throw new Error(nt.error||nt.message||"Could not finalize payment");He({reference:he,points:nt.points_earned||0,paymentReference:fe,voucherNumber:Ee,provider:X,installment:null}),Tt(!1),Mt(!0),qe("completed"),e({title:" Booking Confirmed Successfully!",description:`Your booking ${he} has been confirmed. Voucher: ${Ee}. Points earned: ${nt.points_earned||0}`,duration:8e3}),await Vk(),await qk(),ye(""),ge({}),R(null),De(0)}catch(vt){console.error("Finalize payment error:",vt),qe("failed"),e({title:" Payment Finalization Error",description:vt.message||"Could not finalize payment. Your payment was received but there was an error generating the voucher. Please contact support with your booking reference.",variant:"destructive",duration:15e3})}},Vk=async()=>{await ns()},qk=async()=>{await se()},ry=async()=>{if(!dt||r==="round_trip"&&!Nt)return;const M=b?yt():Ut();sessionStorage.getItem("user_id");const X=sessionStorage.getItem("token");if(B(!1),re(!1),(x==="wallet"||x==="points"||x==="installment")&&!X){e({variant:"destructive",title:"Login Required",description:"Please log in to pay with FastJet Wallet, Loyalty Points, or Installments."}),n("/login");return}const fe=wn.find(lt=>lt.currency==="USD"),Ee=fe?fe.balance:0;if(x==="wallet"&&!b&&Ee<M){_({kind:"wallet",needed:M,available:Ee}),q(!0),B(!0);return}if(x==="installment"&&Ee<qs()){_({kind:"installment",needed:qs(),available:Ee}),q(!0),B(!0);return}if(x==="points"){const lt=dd();if(Vs<lt){_({kind:"points",needed:lt,available:Vs}),q(!0),re(!0);return}L(!0);return}if(x==="fastjet_checkout"){if(!G||!Ce[G]){e({variant:"destructive",title:"Payment Provider Required",description:"Please select a payment provider and complete the checkout process."}),z(!0);return}Wk();return}if(x==="cash"){ty();return}if((x==="wallet"||x==="installment")&&X){E(!0);return}},Sa=M=>new Date(M).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),Ca=M=>new Date(M).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Qk=M=>{const X={confirmed:{color:"bg-green-100 text-green-800",label:"Confirmed"},pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},cancelled:{color:"bg-red-100 text-red-800",label:"Cancelled"},completed:{color:"bg-blue-100 text-blue-800",label:"Completed"},laybuy:{color:"bg-purple-100 text-purple-800",label:"Laybuy"},under_payment:{color:"bg-orange-100 text-orange-800",label:"Under Payment"}},fe=X[M]||X.pending;return s.jsx(it,{className:fe.color,children:fe.label})},Kk=M=>{S(M),M==="history"&&se()},Gk=()=>{sessionStorage.removeItem("token"),sessionStorage.removeItem("user_id"),n("/login"),e({title:"Logged out",description:"You have been successfully logged out."})};m.useEffect(()=>{Ct&&(ie(8),En(!0))},[Ct]),m.useEffect(()=>{if(!Ct||!Gt||K<=0)return;const M=setTimeout(()=>{ie(X=>X-1)},1e3);return K===1&&(Mt(!1),n("/client/booking-success")),()=>clearTimeout(M)},[K,Ct,Gt,n]);const hf=[{id:"search",name:"Search"},{id:"select",name:"Select"},{id:"summary",name:"Summary"},{id:"pay",name:"Pay"}],ud=sessionStorage.getItem("token");return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("button",{id:"auto-search-trigger",style:{display:"none"},type:"button",onClick:()=>Me(),tabIndex:-1,"aria-hidden":"true",children:"Auto Search"}),s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[s.jsxs("div",{className:"mb-4 sm:mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"Book Flights"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Search and book your next journey with FastJet"})]}),ud&&s.jsxs($,{variant:"destructive",size:"sm",onClick:Gk,className:"w-full sm:w-auto",children:[s.jsx(Sp,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),s.jsxs(es,{defaultValue:"search",className:"w-full",onValueChange:Kk,children:[s.jsxs(Fr,{className:`grid w-full grid-cols-1 ${ud?"lg:grid-cols-2":""}`,children:[s.jsx(rt,{value:"search",children:"Search & Book"}),ud&&s.jsx(rt,{value:"history",children:"Booking History"})]}),s.jsxs(st,{value:"search",className:"mt-6",children:[s.jsx(ae,{className:"mb-4 sm:mb-6",children:s.jsx(me,{className:"p-2 sm:p-4",children:s.jsx("div",{className:"flex justify-between items-center text-xs sm:text-sm font-medium",children:hf.map((M,X)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center mb-1 sm:mb-2 transition-colors duration-300
                          ${O===M.id?"bg-yellow-400 text-gray-800":""}
                          ${hf.findIndex(fe=>fe.id===O)>X?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:hf.findIndex(fe=>fe.id===O)>X?s.jsx(wt,{className:"h-3 w-3 sm:h-4 sm:w-4"}):X+1}),s.jsx("span",{className:`text-center text-[10px] sm:text-xs md:text-sm ${O===M.id?"text-gray-800 font-semibold":"text-gray-600"}`,children:M.name})]},M.id))})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(ae,{children:[s.jsx(pe,{className:"p-4 sm:p-6",children:s.jsx(xe,{className:"text-lg sm:text-xl",children:"Search Flights"})}),s.jsx(me,{className:"p-4 sm:p-6",children:s.jsxs("form",{onSubmit:Me,className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(Y,{className:"text-sm sm:text-base",children:"Trip Type"}),s.jsxs(so,{value:r,onValueChange:M=>a(M),className:"flex",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"one_way",id:"oneWay"}),s.jsx(Y,{htmlFor:"oneWay",children:"One Way"})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx($n,{value:"round_trip",id:"roundTrip"}),s.jsx(Y,{htmlFor:"roundTrip",children:"Round Trip"})]})]})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(Y,{htmlFor:"fromDestination",className:"text-sm sm:text-base",children:"From"}),s.jsxs(Cn,{value:i,onValueChange:o,disabled:ht,children:[s.jsx(yn,{children:s.jsx(kn,{placeholder:ht?"Loading...":"Select departure city"})}),s.jsx(vn,{children:Lt.map(M=>s.jsxs(Ve,{value:M.id.toString(),children:[M.name," (",M.code,")"]},M.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"toDestination",children:"To"}),s.jsxs(Cn,{value:l,onValueChange:c,disabled:ht,children:[s.jsx(yn,{children:s.jsx(kn,{placeholder:ht?"Loading...":"Select destination city"})}),s.jsx(vn,{children:Lt.filter(M=>M.id.toString()!==i).map(M=>s.jsxs(Ve,{value:M.id.toString(),children:[M.name," (",M.code,")"]},M.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Departure Date"}),s.jsxs(vl,{children:[s.jsx(bl,{asChild:!0,children:s.jsxs($,{variant:"outline",className:"w-full justify-start text-left font-normal bg-transparent",children:[s.jsx(Mr,{className:"mr-2 h-4 w-4"}),d?pt(d,"PPP"):s.jsx("span",{children:"Select date"})]})}),s.jsx(oo,{className:"w-auto p-0",children:s.jsx(oi,{mode:"single",selected:d,onSelect:u,initialFocus:!0,disabled:M=>M<new Date})})]})]}),r==="round_trip"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Return Date"}),s.jsxs(vl,{children:[s.jsx(bl,{asChild:!0,children:s.jsxs($,{variant:"outline",className:"w-full justify-start text-left font-normal bg-transparent",children:[s.jsx(Mr,{className:"mr-2 h-4 w-4"}),f?pt(f,"PPP"):s.jsx("span",{children:"Select date"})]})}),s.jsx(oo,{className:"w-auto p-0",children:s.jsx(oi,{mode:"single",selected:f,onSelect:h,initialFocus:!0,disabled:M=>!d||M<d})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(Y,{htmlFor:"adults",className:"text-sm sm:text-base",children:"Adults"}),s.jsxs(Cn,{value:g.toString(),onValueChange:M=>v(Number.parseInt(M)),children:[s.jsx(yn,{children:s.jsx(kn,{})}),s.jsx(vn,{children:[1,2,3,4,5,6].map(M=>s.jsx(Ve,{value:M.toString(),children:M},M))})]})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(Y,{htmlFor:"children",className:"text-sm sm:text-base",children:"Children"}),s.jsxs(Cn,{value:p.toString(),onValueChange:M=>w(Number.parseInt(M)),children:[s.jsx(yn,{children:s.jsx(kn,{})}),s.jsx(vn,{children:[0,1,2,3,4,5].map(M=>s.jsx(Ve,{value:M.toString(),children:M},M))})]})]})]}),s.jsx($,{type:"submit",className:"w-full bg-yellow-400 hover:bg-yellow-500 text-gray-900 text-sm sm:text-base py-5 sm:py-6",disabled:Ke,children:Ke?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}):"Search Flights"})]})}),ud&&s.jsxs(rr,{className:"flex-col items-start text-xs sm:text-sm text-gray-500 border-t pt-3 sm:pt-4 px-4 sm:px-6 pb-4 sm:pb-6",children:[wn.map((M,X)=>s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Qt,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:["Wallet Balance (",M.currency,"): $",M.balance.toFixed(2)]})]},X)),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ps,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:["Loyalty Points: ",s.jsx("strong",{children:Vs}),Vs>=500&&s.jsx("span",{className:"ml-2 text-green-600 text-xs",children:"(Can redeem free flight!)"})]})]})]})]})}),s.jsxs("div",{className:"lg:col-span-2",children:[O==="search"&&!N&&s.jsx("div",{className:"h-full flex items-center justify-center bg-white rounded-lg border border-gray-200 p-4 sm:p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsx(ms,{className:"h-16 w-16 mx-auto text-gray-300"})}),s.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"Search for Your Flight"}),s.jsx("p",{className:"text-gray-500",children:"Fill in the search form to find available flights"})]})}),O==="select"&&N&&s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs(ae,{children:[s.jsxs(pe,{className:"p-4 sm:p-6",children:[s.jsx(xe,{className:"text-lg sm:text-xl",children:"Outbound Flights"}),s.jsxs(ke,{className:"text-sm sm:text-base",children:[Qe==null?void 0:Qe.from_destination,"  ",Qe==null?void 0:Qe.to_destination," on"," ",Qe==null?void 0:Qe.departure_date]})]}),s.jsx(me,{className:"p-4 sm:p-6",children:(Qe==null?void 0:Qe.outbound_flights.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ur,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No outbound flights available for this route"})]}):s.jsx("div",{className:"space-y-3 sm:space-y-4",children:Qe==null?void 0:Qe.outbound_flights.map(M=>{var X,fe,Ee,lt,vt,Ue,nt,At,Xe,bt,rs;return s.jsx(ae,{className:`cursor-pointer transition-colors ${(dt==null?void 0:dt.id)===M.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>et(M,"outbound"),children:s.jsxs(me,{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-3 sm:mb-4 gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:Ca(M.departure_time)}),s.jsxs("p",{className:"font-medium text-sm sm:text-base",children:[((fe=(X=M.route)==null?void 0:X.from_destination)==null?void 0:fe.name)||M.from_destination," "," ",((lt=(Ee=M.route)==null?void 0:Ee.to_destination)==null?void 0:lt.name)||M.to_destination]}),s.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-500",children:["Flight ",M.id]})]}),s.jsxs("div",{className:"text-left sm:text-right",children:[s.jsxs("p",{className:"text-lg sm:text-xl font-bold",children:["$",((vt=M.route)==null?void 0:vt.price)||M.price]}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["R",(Number.parseFloat(((Ue=M.route)==null?void 0:Ue.price)||M.price||"0")*qn).toFixed(2)]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 items-center",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-base sm:text-xl font-bold",children:Sa(M.departure_time)}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:((At=(nt=M.route)==null?void 0:nt.from_destination)==null?void 0:At.code)||M.from_destination})]}),s.jsx("div",{className:"flex items-center justify-center px-1 sm:px-0",children:s.jsx("div",{className:"w-full h-0.5 bg-gray-300 relative",children:s.jsx(ms,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 text-gray-400"})})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-base sm:text-xl font-bold",children:Sa(M.arrival_time)}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:((bt=(Xe=M.route)==null?void 0:Xe.to_destination)==null?void 0:bt.code)||M.to_destination})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mt-3 sm:mt-4 pt-3 sm:pt-4 border-t gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500 flex-wrap gap-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),s.jsx("span",{children:((rs=M.route)==null?void 0:rs.estimated_time)||M.estimated_time||"N/A"})]}),s.jsx("span",{className:"mx-1 sm:mx-2",children:""}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Io,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),s.jsxs("span",{children:[M.available_seats," seats left"]})]})]}),(dt==null?void 0:dt.id)===M.id&&s.jsx("div",{className:"text-blue-600 font-medium text-sm",children:"Selected"})]})]})},M.id)})})})]}),r==="round_trip"&&(Qe==null?void 0:Qe.return_flights)&&s.jsxs(ae,{children:[s.jsxs(pe,{className:"p-4 sm:p-6",children:[s.jsx(xe,{className:"text-lg sm:text-xl",children:"Return Flights"}),s.jsxs(ke,{className:"text-sm sm:text-base",children:[Qe==null?void 0:Qe.to_destination,"  ",Qe==null?void 0:Qe.from_destination," on"," ",Qe==null?void 0:Qe.return_date]})]}),s.jsx(me,{children:Qe.return_flights.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ur,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No return flights available for this route"})]}):s.jsx("div",{className:"space-y-3 sm:space-y-4",children:Qe.return_flights.map(M=>s.jsx(ae,{className:`cursor-pointer transition-colors ${(Nt==null?void 0:Nt.id)===M.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>et(M,"return"),children:s.jsxs(me,{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-2 sm:gap-0 mb-3 sm:mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:Ca(M.departure_time)}),s.jsxs("p",{className:"font-medium text-sm sm:text-base",children:["Flight ",M.id]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-base sm:text-lg font-bold",children:["$",M.price]}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["R",(Number.parseFloat(M.price)*qn).toFixed(2)]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 items-center",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-base sm:text-xl font-bold",children:Sa(M.departure_time)}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:M.from_destination})]}),s.jsx("div",{className:"flex items-center justify-center px-1 sm:px-0",children:s.jsx("div",{className:"w-full h-0.5 bg-gray-300 relative",children:s.jsx(ms,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3 h-3 sm:w-4 sm:h-4 text-gray-400"})})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-base sm:text-xl font-bold",children:Sa(M.arrival_time)}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:M.to_destination})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mt-3 sm:mt-4 pt-3 sm:pt-4 border-t gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500 flex-wrap gap-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),s.jsx("span",{children:M.estimated_time})]}),s.jsx("span",{className:"mx-1 sm:mx-2",children:""}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Io,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),s.jsxs("span",{children:[M.available_seats," seats left"]})]})]}),(Nt==null?void 0:Nt.id)===M.id&&s.jsx("div",{className:"text-blue-600 font-medium text-sm",children:"Selected"})]})]})},M.id))})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 mt-6",children:[s.jsxs($,{variant:"outline",onClick:Xt,className:"w-full sm:w-auto",children:[s.jsx(hc,{className:"h-4 w-4 mr-2"})," Previous"]}),s.jsxs($,{onClick:Se,disabled:!Ge(),className:"w-full sm:w-auto",children:["Next ",s.jsx(zu,{className:"h-4 w-4 ml-2"})]})]})]}),O==="summary"&&s.jsxs(ae,{children:[s.jsxs(pe,{className:"p-4 sm:p-6",children:[s.jsx(xe,{className:"text-lg sm:text-xl",children:"Booking Summary"}),s.jsx(ke,{className:"text-sm sm:text-base",children:"Review your flight selection before payment"})]}),s.jsx(me,{className:"space-y-3 sm:space-y-4 p-4 sm:p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Flight Details"}),dt&&s.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Outbound Flight"}),s.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Flight:"})," ",dt.id]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Route:"})," ",dt.from_destination," "," ",dt.to_destination]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",Ca(dt.departure_time)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Time:"})," ",Sa(dt.departure_time)," -"," ",Sa(dt.arrival_time)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Duration:"})," ",dt.estimated_time]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Price:"})," $",dt.price," / R",(Number.parseFloat(dt.price)*qn).toFixed(2)," per person"]})]})]}),Nt&&s.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Return Flight"}),s.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Flight:"})," ",Nt.id]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Route:"})," ",Nt.from_destination," "," ",Nt.to_destination]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",Ca(Nt.departure_time)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Time:"})," ",Sa(Nt.departure_time)," -"," ",Sa(Nt.arrival_time)]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Duration:"})," ",Nt.estimated_time]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Price:"})," $",Nt.price," / R",(Number.parseFloat(Nt.price)*qn).toFixed(2)," per person"]})]})]})]}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Pricing Summary"}),s.jsxs("div",{className:"border rounded-lg p-3 sm:p-4 space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[s.jsx("span",{children:"Passengers:"}),s.jsxs("span",{children:[g," Adult",g>1?"s":"",p>0&&`, ${p} Child${p>1?"ren":""}`]})]}),s.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[s.jsx("span",{children:"Trip Type:"}),s.jsx("span",{children:r==="one_way"?"One Way":"Round Trip"})]}),s.jsxs("div",{className:"border-t pt-2 sm:pt-3",children:[s.jsxs("div",{className:"flex justify-between font-semibold text-base sm:text-lg",children:[s.jsx("span",{children:"Total Price:"}),s.jsxs("span",{children:["$",Ut().toFixed(2)]})]}),s.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["R",(Ut()*qn).toFixed(2)]})]}),Ci()&&s.jsxs("div",{className:"mt-3 sm:mt-4 p-2.5 sm:p-3 bg-purple-50 border border-purple-200 rounded-md",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-purple-800 mb-1",children:"FLYBYE Option Available"}),s.jsxs("p",{className:"text-[10px] sm:text-xs text-purple-700",children:["Pay in 3 installments of $",qs().toFixed(2)," each (Total: $",yt().toFixed(2),")"]})]})]})]})]})}),s.jsxs(rr,{className:"flex flex-col sm:flex-row justify-between gap-3 p-4 sm:p-6",children:[s.jsxs($,{variant:"outline",onClick:Xt,className:"w-full sm:w-auto",children:[s.jsx(hc,{className:"h-4 w-4 mr-2"})," Previous"]}),s.jsxs($,{onClick:Se,disabled:!Ge(),className:"w-full sm:w-auto",children:["Proceed to Payment ",s.jsx(zu,{className:"h-4 w-4 ml-2"})]})]})]}),O==="pay"&&s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs(ae,{children:[s.jsxs(pe,{className:"p-4 sm:p-6",children:[s.jsx(xe,{className:"text-lg sm:text-xl",children:"Payment Method"}),s.jsx(ke,{className:"text-sm sm:text-base",children:"Choose how you'd like to pay for your flight"})]}),s.jsxs(me,{className:"p-4 sm:p-6",children:[s.jsxs(so,{value:x,onValueChange:M=>{y(M),j(M==="installment")},className:"grid grid-cols-1 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-2.5 sm:p-3 hover:bg-gray-50",children:[s.jsx($n,{value:"wallet",id:"wallet"}),s.jsxs(Y,{htmlFor:"wallet",className:"flex items-center cursor-pointer text-sm sm:text-base",children:[s.jsx(Qt,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"FastJet Wallet"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-2.5 sm:p-3 hover:bg-gray-50",children:[s.jsx($n,{value:"cash",id:"cash"}),s.jsxs(Y,{htmlFor:"cash",className:"flex items-center cursor-pointer text-sm sm:text-base",children:[s.jsx(nu,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"Cash at Office"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-2.5 sm:p-3 hover:bg-gray-50",children:[s.jsx($n,{value:"points",id:"points"}),s.jsxs(Y,{htmlFor:"points",className:"flex items-center cursor-pointer text-sm sm:text-base",children:[s.jsx(ps,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"Loyalty Points"})]})]}),Ci()&&s.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-2.5 sm:p-3 hover:bg-gray-50",children:[s.jsx($n,{value:"installment",id:"installment"}),s.jsxs(Y,{htmlFor:"installment",className:"flex items-center cursor-pointer text-sm sm:text-base",children:[s.jsx(Ha,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"Laybuy (Installments)"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 border rounded-md p-2.5 sm:p-3 hover:bg-gray-50",children:[s.jsx($n,{value:"fastjet_checkout",id:"fastjet_checkout"}),s.jsxs(Y,{htmlFor:"fastjet_checkout",className:"flex items-center cursor-pointer text-sm sm:text-base",children:[s.jsx(Qt,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"FastJet Checkout"})]})]})]}),x==="fastjet_checkout"&&s.jsxs("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-blue-50 border border-blue-200 rounded-md",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Qt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-900 mr-2"}),s.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"FastJet Checkout Available"})]}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-900 mb-2",children:"Pay securely using multiple payment providers including EcoCash, InnBucks, and more."}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-2 sm:mb-3",children:[s.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-white rounded text-[10px] sm:text-xs border text-gray-900",children:"EcoCash"}),s.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-white rounded text-[10px] sm:text-xs border text-gray-900",children:"InnBucks"}),s.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-white rounded text-[10px] sm:text-xs border text-gray-900",children:"Mukuru"}),s.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-white rounded text-[10px] sm:text-xs border text-gray-900",children:"Wiremit"})]}),s.jsxs($,{onClick:()=>z(!0),className:"w-full bg-gray-900 hover:bg-gray-800 text-white text-sm",size:"sm",children:[s.jsx(Qt,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Open FastJet Checkout"]}),G&&s.jsxs("div",{className:"mt-2 text-[10px] sm:text-xs text-green-600",children:[" ",G," payment configured"]})]}),Ci()&&s.jsxs("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-purple-50 border border-purple-200 rounded-md",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Ha,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600 mr-2"}),s.jsx("h4",{className:"font-medium text-purple-800 text-sm sm:text-base",children:"Laybuy Payment Available"})]}),s.jsx("p",{className:"text-xs sm:text-sm text-purple-700 mb-2",children:"Since your flight is more than 3 months away, you can choose laybuy (installment payments):"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"One-time Payment:"}),s.jsxs("p",{className:"text-base sm:text-lg font-bold text-green-600",children:["$",Ut().toFixed(2)]}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600",children:"Pay now, earn 50 points"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Laybuy Payment:"}),s.jsxs("p",{className:"text-base sm:text-lg font-bold text-purple-600",children:["$",yt().toFixed(2)]}),s.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-600",children:["3 payments of $",qs().toFixed(2)," each"]}),s.jsx("p",{className:"text-[10px] sm:text-xs text-purple-600 mt-1",children:" Earn 15 points with each payment (45 total)!"})]})]})]}),F&&s.jsxs("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:[s.jsx("p",{className:"font-semibold text-sm sm:text-base",children:"Insufficient Wallet Balance!"}),s.jsx("p",{className:"text-xs sm:text-sm",children:"You don't have enough funds in your FastJet Wallet to cover the payment."}),s.jsx(Jt,{to:"/client/wallet",className:"text-blue-600 hover:underline mt-2 block text-xs sm:text-sm",children:"Top up your wallet here."})]}),ee&&s.jsxs("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:[s.jsx("p",{className:"font-semibold text-sm sm:text-base",children:"Insufficient Fast Points!"}),s.jsx("p",{className:"text-xs sm:text-sm",children:"You don't have enough loyalty points for this booking. Earn more points or choose another payment method."}),s.jsx(Jt,{to:"/client/wallet",className:"text-blue-600 hover:underline mt-2 block text-xs sm:text-sm",children:"View your loyalty program details."})]})]})]}),s.jsxs(ae,{children:[s.jsx(pe,{className:"p-4 sm:p-6",children:s.jsx(xe,{className:"text-lg sm:text-xl",children:"Final Summary"})}),s.jsx(me,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"space-y-3 sm:space-y-4 text-sm sm:text-base",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Passengers:"}),s.jsxs("span",{children:[g," Adult",g>1?"s":"",p>0&&`, ${p} Child${p>1?"ren":""}`]})]}),b?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Base Price:"}),s.jsxs("span",{children:["$",Ut().toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[s.jsx("span",{children:"Laybuy Total:"}),s.jsxs("span",{className:"font-bold",children:["$",yt().toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[s.jsx("span",{children:"Payment Plan:"}),s.jsxs("span",{children:["3  $",qs().toFixed(2)]})]}),s.jsxs("div",{className:"text-xs sm:text-sm text-purple-600",children:[s.jsx(Ha,{className:"inline h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Earn 15 loyalty points with each installment payment!"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[s.jsx("span",{children:"Total Price:"}),s.jsxs("span",{children:["$",Ut().toFixed(2)]})]}),s.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:["R",(Ut()*qn).toFixed(2)]}),x==="points"&&s.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[s.jsx("span",{children:"Points Required:"}),s.jsxs("span",{className:"font-bold",children:[dd()," points"]})]}),x==="wallet"&&s.jsx("div",{className:"text-xs sm:text-sm text-green-600",children:" Earn 50 loyalty points with this booking!"})]}),s.jsx($,{onClick:ry,className:"w-full text-sm sm:text-base py-5 sm:py-6",disabled:Yn,children:Yn?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):b?"Create Laybuy Booking":"Confirm & Pay"})]})})]}),s.jsx("div",{className:"flex justify-between mt-4 sm:mt-6",children:s.jsxs($,{variant:"outline",onClick:Xt,className:"w-full sm:w-auto",children:[s.jsx(hc,{className:"h-4 w-4 mr-2"})," Previous"]})})]})]})]})]}),s.jsx(st,{value:"history",className:"mt-4 sm:mt-6",children:s.jsxs(ae,{children:[s.jsxs(pe,{className:"p-4 sm:p-6",children:[s.jsxs(xe,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[s.jsx(NN,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Booking History"]}),s.jsx(ke,{className:"text-sm sm:text-base",children:"View all your bookings including confirmed flights and active laybuys"})]}),s.jsx(me,{className:"p-4 sm:p-6",children:Vn?s.jsxs("div",{className:"text-center py-6 sm:py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 sm:h-12 sm:w-12 border-b-2 border-blue-600 mx-auto mb-3 sm:mb-4"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Loading booking history..."})]}):le.length===0?s.jsxs("div",{className:"text-center py-6 sm:py-8",children:[s.jsx(ms,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-300 mx-auto mb-3 sm:mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No bookings yet"}),s.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Your booking history will appear here once you make your first booking."})]}):s.jsx("div",{className:"space-y-3 sm:space-y-4",children:le.map(M=>s.jsx(ae,{children:s.jsxs(me,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-3 sm:gap-0 mb-3 sm:mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:M.booking_reference}),s.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:[M.from_destination,"  ",M.to_destination]}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[Ca(M.departure_date),M.return_date&&` - ${Ca(M.return_date)}`]})]}),s.jsxs("div",{className:"text-right",children:[Qk(M.status),s.jsxs("p",{className:"text-base sm:text-lg font-bold mt-2",children:["$",M.total_amount]}),M.is_installment&&s.jsxs("p",{className:"text-xs sm:text-sm text-purple-600",children:["Laybuy: ",M.installment_count,"  $",M.installment_amount]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Trip Type:"}),s.jsx("p",{className:"font-medium",children:M.trip_type==="one_way"?"One Way":"Round Trip"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Passengers:"}),s.jsxs("p",{className:"font-medium",children:[M.adult_count+M.child_count," total"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Payment:"}),s.jsx("p",{className:"font-medium capitalize",children:M.payment_method})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Points Earned:"}),s.jsxs("p",{className:"font-medium text-green-600",children:["+",M.points_earned]})]})]}),M.is_installment&&M.installments&&s.jsxs("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t",children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Installment Payments"}),s.jsx("div",{className:"grid grid-cols-1 gap-2 text-[10px] sm:text-xs",children:M.installments.map(X=>s.jsxs("div",{className:`p-2 rounded border ${X.status==="completed"?"bg-green-50 border-green-200":X.status==="overdue"?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[s.jsxs("p",{className:"font-medium",children:["Payment ",X.installment_number,": $",X.amount]}),s.jsxs("p",{children:["Due: ",Ca(X.due_date)]}),s.jsxs("p",{children:["Status: ",X.status]}),X.points_earned>0&&s.jsxs("p",{className:"text-green-600",children:["+",X.points_earned," pts"]})]},X.installment_number))})]}),s.jsx("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t",children:s.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-500",children:["Booked on ",Ca(M.created_at)]})})]})},M.id))})})]})})]})]}),s.jsx(Kt,{open:de,onOpenChange:M=>{E(M),M||(W(""),Ye(""))},children:s.jsxs(zt,{className:"max-w-md mx-4 sm:mx-auto",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{className:"text-lg sm:text-xl",children:"Confirm Your Password"}),s.jsxs(rn,{className:"text-sm sm:text-base",children:["Please enter your password to confirm this payment from your"," ",x==="points"?"loyalty points":"wallet","."]})]}),s.jsxs("div",{className:"space-y-3 sm:space-y-4 py-3 sm:py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"password",className:"text-sm sm:text-base",children:"Password"}),s.jsx(je,{id:"password",type:"password",placeholder:"Enter your password",value:Z,onChange:M=>W(M.target.value),className:"text-sm sm:text-base"}),be&&s.jsx("p",{className:"text-xs sm:text-sm text-red-500",children:be})]}),s.jsxs("div",{className:"border rounded-md p-2.5 sm:p-3 bg-gray-50",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium",children:"Payment Summary:"}),s.jsx("p",{className:"text-xs sm:text-sm",children:x==="points"?`${dd()} loyalty points will be deducted`:`$${Ut().toFixed(2)} will be deducted from your wallet`})]})]}),s.jsxs(Sn,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[s.jsx($,{variant:"outline",onClick:()=>E(!1),disabled:Ze,className:"w-full sm:w-auto",children:"Cancel"}),s.jsx($,{onClick:Bk,disabled:!Z||Ze,className:"w-full sm:w-auto",children:Ze?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Confirm Payment"})]})]})}),s.jsx(Kt,{open:Ct,onOpenChange:M=>{Mt(M),M||En(!1)},children:s.jsxs(zt,{className:"max-w-md mx-4 sm:mx-auto",children:[s.jsxs(Ht,{children:[s.jsxs(Vt,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[s.jsx(wt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"}),I!=null&&I.installment?"Laybuy Booking Created":"Booking Successful"]}),s.jsxs(rn,{className:"text-sm sm:text-base",children:["Your booking has been confirmed. Reference"," ",s.jsx("span",{className:"font-semibold",children:I==null?void 0:I.reference}),"."]})]}),s.jsxs("div",{className:"space-y-2.5 sm:space-y-3 text-xs sm:text-sm",children:[(I==null?void 0:I.voucherNumber)&&s.jsxs("div",{className:"p-2.5 sm:p-3 bg-blue-50 border border-blue-200 rounded-md",children:[s.jsx("p",{className:"text-[10px] sm:text-xs text-blue-600 font-medium mb-1",children:"Payment Voucher"}),s.jsx("p",{className:"text-base sm:text-lg font-bold text-blue-800",children:I.voucherNumber}),s.jsxs("p",{className:"text-[10px] sm:text-xs text-blue-600 mt-1",children:["Paid via ",(sy=I.provider)==null?void 0:sy.toUpperCase()]})]}),(I==null?void 0:I.paymentReference)&&s.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs text-gray-600",children:[s.jsx("span",{children:"Payment Ref:"}),s.jsx("span",{className:"font-mono",children:I.paymentReference})]}),I!=null&&I.points?s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx(ps,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}),"Earned ",I.points," loyalty points"]}):null,I!=null&&I.installment?s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[s.jsx(Ha,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-600"}),"Plan: ",I.installment.count," x $",I.installment.amount]}):null,s.jsx("p",{className:"text-gray-500 text-xs",children:"You can view full details and manage payments in your dashboard."}),Gt&&K>0&&s.jsxs("p",{className:"text-[11px] text-gray-400",children:["Redirecting to dashboard in ",K,"s...",s.jsx("button",{type:"button",onClick:()=>En(!1),className:"underline ml-1",children:"Cancel"})]})]}),s.jsxs(Sn,{className:"flex flex-col sm:flex-row justify-between gap-2 sm:gap-3",children:[s.jsx($,{variant:"outline",onClick:()=>{En(!1),Mt(!1),S("search"),k("search"),P(!1),window.scrollTo({top:0,behavior:"smooth"})},className:"w-full sm:w-auto text-sm",children:"Book Another Flight"}),s.jsx($,{onClick:()=>{En(!1),Mt(!1),n("/client-dashboard")},className:"bg-yellow-400 text-gray-900 hover:bg-yellow-500 w-full sm:w-auto text-sm",children:"Go to Dashboard"})]})]})}),s.jsx(Kt,{open:J,onOpenChange:M=>q(M),children:s.jsxs(zt,{className:"max-w-md mx-4 sm:mx-auto",children:[s.jsxs(Ht,{children:[s.jsxs(Vt,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[s.jsx(Ur,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"}),"Insufficient Funds"]}),s.jsx(rn,{className:"text-sm sm:text-base",children:(D==null?void 0:D.kind)==="points"?s.jsx(s.Fragment,{children:"You don't have enough loyalty points for this booking."}):(D==null?void 0:D.kind)==="installment"?s.jsx(s.Fragment,{children:"You need the first installment payment to proceed."}):s.jsx(s.Fragment,{children:"You don't have enough balance in your wallet for this booking."})})]}),s.jsx("div",{className:"space-y-2.5 sm:space-y-3 text-xs sm:text-sm",children:D&&s.jsxs("div",{children:[s.jsxs("p",{children:["Required: ",s.jsx("span",{className:"font-semibold",children:D.kind==="points"?`${D.needed} points`:`$${D.needed.toFixed(2)}`})]}),s.jsxs("p",{children:["Available: ",s.jsx("span",{className:"font-semibold",children:D.kind==="points"?`${D.available} points`:`$${D.available.toFixed(2)}`})]})]})}),s.jsxs(Sn,{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx($,{asChild:!0,className:"w-full sm:w-auto text-sm",children:s.jsx(Jt,{to:"/client/wallet",children:"Top up Wallet"})}),s.jsx($,{variant:"outline",onClick:()=>{q(!1),B(!1),re(!1)},className:"w-full sm:w-auto text-sm",children:"Choose Another Method"})]}),s.jsx($,{variant:"ghost",onClick:()=>q(!1),className:"w-full sm:w-auto text-sm",children:"Close"})]})]})}),s.jsx(Kt,{open:T,onOpenChange:M=>L(M),children:s.jsxs(zt,{className:"max-w-md mx-4 sm:mx-auto",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{className:"text-lg sm:text-xl",children:"Redeem Loyalty Points"}),s.jsx(rn,{className:"text-sm sm:text-base",children:"Using Fast Points to pay requires a redemption request which must be approved by an administrator. You will be redirected to the Redemptions page to submit a free-flight request."})]}),s.jsx("div",{className:"space-y-2.5 sm:space-y-3 text-xs sm:text-sm",children:s.jsx("p",{children:"If approved by admin, the redemption will grant a free flight for the selected route."})}),s.jsxs(Sn,{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx($,{asChild:!0,className:"w-full sm:w-auto text-sm",children:s.jsx(Jt,{to:"/client/redemptions",children:"Go to Redemptions"})}),s.jsx($,{variant:"outline",onClick:()=>L(!1),className:"w-full sm:w-auto text-sm",children:"Cancel"})]})]})}),s.jsx(Kt,{open:U,onOpenChange:M=>z(M),children:s.jsxs(zt,{className:"max-w-2xl max-h-[85vh] overflow-y-auto mx-4 sm:mx-auto",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{className:"text-lg sm:text-xl font-bold",children:"FastJet Checkout"}),s.jsx(rn,{className:"text-xs sm:text-sm",children:"Choose your preferred payment method to complete your booking securely."})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border",children:[s.jsx(Y,{className:"text-xs sm:text-sm text-gray-600 mb-1 block",children:"Amount (USD)"}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(je,{type:"text",value:`${Ut().toFixed(2)} USD`,disabled:!0,className:"text-base sm:text-lg font-bold bg-white"})}),s.jsxs("div",{className:"mt-2 text-[10px] sm:text-xs text-gray-500",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Route:"})," ",Qe==null?void 0:Qe.from_destination,"  ",Qe==null?void 0:Qe.to_destination]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Passengers:"})," ",g+p," (",g," adults, ",p," children)"]})]})]}),s.jsxs(es,{defaultValue:"mobile",className:"w-full",children:[s.jsxs(Fr,{className:"grid w-full grid-cols-2 sm:grid-cols-4 mb-3 sm:mb-4 gap-1",children:[s.jsx(rt,{value:"mobile",className:"text-[10px] sm:text-xs",children:"Mobile Money"}),s.jsx(rt,{value:"bank",className:"text-[10px] sm:text-xs",children:"Bank"}),s.jsx(rt,{value:"remittance",className:"text-[10px] sm:text-xs",children:"Remittance"}),s.jsx(rt,{value:"cards",className:"text-[10px] sm:text-xs",children:"Int'l Cards"})]}),s.jsx(st,{value:"mobile",className:"space-y-2 sm:space-y-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-[10px] sm:text-xs text-gray-600",children:"Payment Methods"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[s.jsx("div",{className:`border rounded-md p-2 cursor-pointer transition-all ${G==="ecocash"?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>ye("ecocash"),children:s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx("img",{src:"/logos/ecocash-logo.png",alt:"EcoCash",className:"h-8 w-auto object-contain"}),s.jsx("div",{className:"text-[10px] font-medium",children:"EcoCash"})]})}),s.jsx("div",{className:`border rounded-md p-2 cursor-pointer transition-all ${G==="innbucks"?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>ye("innbucks"),children:s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx("img",{src:"/logos/inbucks-logo.png",alt:"InnBucks",className:"h-8 w-auto object-contain"}),s.jsx("div",{className:"text-[10px] font-medium",children:"InnBucks"})]})}),s.jsx("div",{className:`border rounded-md p-2 cursor-pointer transition-all ${G==="omari"?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{e({title:"Coming Soon",description:"Omari payment integration is not yet supported. Please use EcoCash or InnBucks.",variant:"default"})},children:s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx("img",{src:"/logos/omari-logo.png",alt:"Omari",className:"h-8 w-auto object-contain"}),s.jsx("div",{className:"text-[10px] font-medium",children:"Omari"})]})})]})]})}),s.jsx(st,{value:"bank",className:"space-y-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-xs text-gray-600",children:"Bank Transfer"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("div",{className:`border rounded-md p-2 cursor-pointer transition-all ${G==="cabs"?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{e({title:"Coming Soon",description:"CABS bank transfer integration is not yet supported. Please use EcoCash or InnBucks.",variant:"default"})},children:s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx("img",{src:"/logos/cabs-logo.png",alt:"CABS",className:"h-8 w-auto object-contain"}),s.jsx("div",{className:"text-[10px] font-medium",children:"CABS"})]})}),s.jsx("div",{className:`border rounded-md p-2 cursor-pointer transition-all ${G==="fbc"?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{e({title:"Coming Soon",description:"FBC bank transfer integration is not yet supported. Please use EcoCash or InnBucks.",variant:"default"})},children:s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx("img",{src:"/logos/fbc-logo.png",alt:"FBC",className:"h-8 w-auto object-contain"}),s.jsx("div",{className:"text-[10px] font-medium",children:"FBC"})]})}),s.jsx("div",{className:`border rounded-md p-2 cursor-pointer transition-all ${G==="bancabc"?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{e({title:"Coming Soon",description:"BancABC bank transfer integration is not yet supported. Please use EcoCash or InnBucks.",variant:"default"})},children:s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx("img",{src:"/logos/bancabc-logo.png",alt:"BancABC",className:"h-8 w-auto object-contain"}),s.jsx("div",{className:"text-[10px] font-medium",children:"BancABC"})]})})]})]})}),s.jsx(st,{value:"remittance",className:"space-y-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-xs text-gray-600",children:"Remittance Services"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("div",{className:`border rounded-md p-2 cursor-pointer transition-all ${G==="mukuru"?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{e({title:"Coming Soon",description:"Mukuru remittance integration is not yet supported. Please use EcoCash or InnBucks.",variant:"default"})},children:s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx("img",{src:"/logos/mukuru-logo.png",alt:"Mukuru",className:"h-8 w-auto object-contain"}),s.jsx("div",{className:"text-[10px] font-medium",children:"Mukuru"})]})}),s.jsx("div",{className:`border rounded-md p-2 cursor-pointer transition-all ${G==="wiremit"?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{e({title:"Coming Soon",description:"Wiremit remittance integration is not yet supported. Please use EcoCash or InnBucks.",variant:"default"})},children:s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx("img",{src:"/logos/wiremit-logo.png",alt:"Wiremit",className:"h-8 w-auto object-contain"}),s.jsx("div",{className:"text-[10px] font-medium",children:"Wiremit"})]})})]})]})}),s.jsx(st,{value:"cards",className:"space-y-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-xs text-gray-600",children:"International Cards"}),s.jsx("div",{className:`border rounded-md p-3 cursor-pointer transition-all ${G==="card"?"border-blue-500 bg-blue-50 ring-1 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{e({title:"Coming Soon",description:"International card payment integration is not yet supported. Please use EcoCash or InnBucks.",variant:"default"})},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-md flex items-center justify-center flex-shrink-0",children:s.jsx(Qt,{className:"h-4 w-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-sm",children:"Credit/Debit Card"}),s.jsx("p",{className:"text-[10px] text-gray-600",children:"Visa, Mastercard, Amex"})]})]})})]})})]}),(G==="ecocash"||G==="innbucks"||G==="omari")&&s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 border rounded-lg",children:[s.jsx("h5",{className:"font-medium",children:"Mobile Number"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Cn,{value:((ay=Ce[G])==null?void 0:ay.country_code)||"+263",onValueChange:M=>ge(X=>({...X,[G]:{...X[G],country_code:M}})),children:[s.jsx(yn,{className:"w-[120px]",children:s.jsx(kn,{placeholder:"+263"})}),s.jsxs(vn,{children:[s.jsx(Ve,{value:"+263",children:"+263"}),s.jsx(Ve,{value:"+27",children:"+27"}),s.jsx(Ve,{value:"+1",children:"+1"})]})]}),s.jsx(je,{placeholder:"7XXXXXXXX",value:((iy=Ce[G])==null?void 0:iy.phone_number)||"",onChange:M=>ge(X=>({...X,[G]:{...X[G],phone_number:M.target.value}})),className:"flex-1"})]}),s.jsx("div",{className:"text-xs text-gray-600",children:"You will receive a payment prompt on your phone to authorize the transaction."})]}),(G==="cabs"||G==="fbc"||G==="bancabc")&&s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 border rounded-lg",children:[s.jsx("h5",{className:"font-medium",children:"Bank Transfer Details"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"account_number",children:"Account Number"}),s.jsx(je,{id:"account_number",placeholder:"Enter account number",value:((oy=Ce[G])==null?void 0:oy.account_number)||"",onChange:M=>ge(X=>({...X,[G]:{...X[G],account_number:M.target.value}}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"account_holder",children:"Account Holder Name"}),s.jsx(je,{id:"account_holder",placeholder:"Enter account holder name",value:((ly=Ce[G])==null?void 0:ly.account_holder)||"",onChange:M=>ge(X=>({...X,[G]:{...X[G],account_holder:M.target.value}}))})]})]}),s.jsx("div",{className:"text-xs text-gray-600",children:"Bank transfer will be processed within 2-4 business hours."})]}),(G==="mukuru"||G==="wiremit")&&s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 border rounded-lg",children:[s.jsx("h5",{className:"font-medium",children:"Remittance Details"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"sender_name",children:"Sender Name"}),s.jsx(je,{id:"sender_name",placeholder:"Full name",value:((cy=Ce[G])==null?void 0:cy.sender_name)||"",onChange:M=>ge(X=>({...X,[G]:{...X[G],sender_name:M.target.value}}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"reference_number",children:"Reference Number"}),s.jsx(je,{id:"reference_number",placeholder:"Transaction reference",value:((dy=Ce[G])==null?void 0:dy.reference_number)||"",onChange:M=>ge(X=>({...X,[G]:{...X[G],reference_number:M.target.value}}))})]})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Enter your ",G," transaction reference number."]})]}),G==="card"&&s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 border rounded-lg",children:[s.jsx("h5",{className:"font-medium",children:"Card Details"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"card_number",children:"Card Number"}),s.jsx(je,{id:"card_number",placeholder:"1234 5678 9012 3456",value:((uy=Ce.card)==null?void 0:uy.card_number)||"",onChange:M=>ge(X=>({...X,card:{...X.card,card_number:M.target.value}}))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"expiry",children:"Expiry Date"}),s.jsx(je,{id:"expiry",placeholder:"MM/YY",value:((my=Ce.card)==null?void 0:my.expiry)||"",onChange:M=>ge(X=>({...X,card:{...X.card,expiry:M.target.value}}))})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"cvv",children:"CVV"}),s.jsx(je,{id:"cvv",placeholder:"123",type:"password",maxLength:4,value:((fy=Ce.card)==null?void 0:fy.cvv)||"",onChange:M=>ge(X=>({...X,card:{...X.card,cvv:M.target.value}}))})]})]})]}),s.jsx("div",{className:"text-xs text-gray-600",children:"Your card details are encrypted and secure."})]})]}),s.jsxs(Sn,{className:"flex gap-2 pt-4",children:[s.jsx($,{variant:"outline",onClick:()=>z(!1),disabled:Q,children:"Cancel"}),s.jsx($,{onClick:()=>{z(!1),ry()},disabled:!G||!Ce[G]||Q,className:"bg-blue-600 hover:bg-blue-700",children:Q?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Complete Payment $",Ut().toFixed(2)]})})]})]})}),s.jsx(Kt,{open:gt,onOpenChange:Tt,children:s.jsxs(zt,{className:"max-w-lg w-[95vw] sm:w-full max-h-[90vh] overflow-y-auto mx-4 sm:mx-auto",children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:(Ie==null?void 0:Ie.provider)==="ecocash"?"EcoCash Payment":"InnBucks Payment"}),s.jsx(rn,{children:(Ie==null?void 0:Ie.provider)==="ecocash"?"Complete your payment on your phone to confirm the booking":"Use your InnBucks app to complete the payment"})]}),s.jsxs("div",{className:"space-y-4",children:[Oe>0&&Re!=="completed"&&s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-700",children:[s.jsx(Fn,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-sm font-medium",children:["Session expires in: ",Math.floor(Oe/1e3/60),":",String(Math.floor(Oe/1e3%60)).padStart(2,"0")]})]})}),s.jsxs("div",{className:"flex justify-center",children:[Re==="pending"&&s.jsxs(it,{className:"bg-blue-100 text-blue-700 border-blue-300",children:[s.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Awaiting Payment"]}),Re==="checking"&&s.jsxs(it,{className:"bg-yellow-100 text-yellow-700 border-yellow-300",children:[s.jsx(Dt,{className:"h-3 w-3 mr-1 animate-spin"}),"Verifying Payment..."]}),Re==="completed"&&s.jsxs(it,{className:"bg-green-100 text-green-700 border-green-300",children:[s.jsx(wt,{className:"h-3 w-3 mr-1"}),"Payment Confirmed"]}),Re==="failed"&&s.jsxs(it,{className:"bg-red-100 text-red-700 border-red-300",children:[s.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Payment Failed"]}),Re==="timeout"&&s.jsxs(it,{className:"bg-gray-100 text-gray-700 border-gray-300",children:[s.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Session Expired"]})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("div",{className:"text-lg font-semibold",children:["Amount: $",(hy=Ie==null?void 0:Ie.amount)==null?void 0:hy.toFixed(2)]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Booking: ",he]})]}),Re==="pending"&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-blue-600 bg-blue-50 p-3 rounded-lg",children:[s.jsx(Ur,{className:"h-4 w-4"}),"Please complete the payment to confirm your booking"]}),Re==="checking"&&ln&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-yellow-600 bg-yellow-50 p-3 rounded-lg",children:[s.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Checking payment status... Please wait"]}),Re==="completed"&&s.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-green-600 bg-green-50 p-4 rounded-lg border-2 border-green-300",children:[s.jsx(wt,{className:"h-8 w-8 text-green-500"}),s.jsx("p",{className:"font-medium text-green-700",children:"Payment Confirmed!"}),s.jsx("p",{className:"text-xs text-center",children:"Your booking is being finalized. You will receive your voucher shortly."})]}),Re==="timeout"&&s.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-gray-600 bg-gray-50 p-4 rounded-lg border-2 border-gray-300",children:[s.jsx(Ur,{className:"h-8 w-8 text-gray-400"}),s.jsx("p",{className:"font-medium text-gray-700",children:"Session Expired"}),s.jsx("p",{className:"text-xs text-center",children:"The payment session has timed out. Please start a new booking and try again."})]}),Re==="failed"&&s.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-red-600 bg-red-50 p-4 rounded-lg border-2 border-red-300",children:[s.jsx(Ur,{className:"h-8 w-8 text-red-400"}),s.jsx("p",{className:"font-medium text-red-700",children:"Payment Failed"}),s.jsx("p",{className:"text-xs text-center",children:"The payment could not be processed. Please try again or use a different payment method."})]}),(Ie==null?void 0:Ie.provider)==="innbucks"&&Re!=="timeout"&&Re!=="failed"&&s.jsxs("div",{className:"space-y-4",children:[(Ie==null?void 0:Ie.innbucksCode)&&s.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-300 rounded-xl p-4 sm:p-5 shadow-sm mx-2 sm:mx-4",children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 text-center mb-2",children:"Your InnBucks Payment Code"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-[#FFC20E] tracking-widest text-center bg-white py-3 px-2 rounded-lg shadow-inner break-all",children:Ie.innbucksCode})]}),(Ie==null?void 0:Ie.qrCode)&&s.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 sm:p-6 shadow-sm mx-2 sm:mx-4",children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 text-center mb-3",children:"Or Scan QR Code"}),s.jsx("div",{className:"flex justify-center items-center",children:s.jsx("img",{src:Ie.qrCode.startsWith("data:")?Ie.qrCode:`data:image/png;base64,${Ie.qrCode}`,alt:"InnBucks QR Code",className:"w-40 h-40 sm:w-48 sm:h-48 max-w-full",style:{imageRendering:"pixelated"}})})]}),Re!=="completed"&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4 mx-2 sm:mx-4",children:[s.jsx("p",{className:"font-medium text-blue-900 text-sm mb-2",children:" Payment Instructions:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1.5 text-xs sm:text-sm text-gray-700",children:[s.jsx("li",{children:"Open your InnBucks app or dial the USSD code"}),s.jsxs("li",{children:["Scan the QR code or enter code: ",s.jsx("span",{className:"font-semibold text-[#FFC20E]",children:Ie==null?void 0:Ie.innbucksCode})]}),s.jsxs("li",{children:["Confirm the payment of $",(py=Ie==null?void 0:Ie.amount)==null?void 0:py.toFixed(2)]}),s.jsx("li",{children:"Wait for confirmation below"})]})]})]}),(Ie==null?void 0:Ie.provider)==="ecocash"&&Re!=="timeout"&&Re!=="failed"&&s.jsxs("div",{className:"space-y-4",children:[(Ie==null?void 0:Ie.referenceCode)&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 text-center mb-2",children:"Payment Reference"}),s.jsx("div",{className:"text-xl font-bold text-blue-600 text-center bg-white py-3 rounded-lg shadow-inner",children:Ie.referenceCode})]}),Re!=="completed"&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsx("p",{className:"font-medium text-blue-900 text-sm mb-2",children:" Payment Instructions:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1.5 text-xs text-gray-700",children:[s.jsxs("li",{children:["Check your phone (",Ie==null?void 0:Ie.phoneNumber,") for payment prompt"]}),s.jsxs("li",{children:["Enter your EcoCash PIN to approve $",(xy=Ie==null?void 0:Ie.amount)==null?void 0:xy.toFixed(2)]}),s.jsx("li",{children:"Wait for confirmation (this may take a few moments)"})]})]})]}),ln&&Re==="checking"&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 py-2",children:[s.jsx(Dt,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Waiting for payment confirmation..."})]})]}),s.jsx(Sn,{className:"flex justify-between items-center gap-2",children:Re==="timeout"||Re==="failed"?s.jsxs(s.Fragment,{children:[s.jsx($,{variant:"outline",onClick:()=>{Tt(!1),qe("pending"),R(null)},className:"flex-1",children:"Close"}),s.jsx($,{onClick:()=>{Tt(!1),qe("pending"),R(null),z(!0)},className:"bg-blue-600 hover:bg-blue-700 flex-1",children:"Try Again"})]}):Re==="completed"?s.jsx($,{variant:"outline",onClick:()=>{Tt(!1),qe("pending"),R(null)},className:"w-full",children:"Close"}):s.jsxs(s.Fragment,{children:[s.jsx($,{variant:"outline",onClick:()=>{Tt(!1),qe("pending"),R(null)},className:"flex-1",children:"Cancel"}),s.jsx($,{variant:"ghost",disabled:!0,className:"flex-1 text-xs text-gray-500",children:ln?"Checking payment...":"Waiting for payment"})]})})]})})]})};function Q6(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function d(f){const{scope:h,children:g,...v}=f,p=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:w,children:g})}function u(f,h){const g=(h==null?void 0:h[e][c])||l,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,K6(a,...t)]}function K6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Jg="Progress",Zg=100,[G6,TB]=Q6(Jg),[X6,J6]=G6(Jg),Mk=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:i=Z6,...o}=e;(a||a===0)&&!jb(a)&&console.error(eB(`${a}`,"Progress"));const l=jb(a)?a:Zg;r!==null&&!Nb(r,l)&&console.error(tB(`${r}`,"Progress"));const c=Nb(r,l)?r:null,d=um(c)?i(c,l):void 0;return s.jsx(X6,{scope:n,value:c,max:l,children:s.jsx(ct.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":um(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Ik(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Mk.displayName=Jg;var Ok="ProgressIndicator",Ak=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=J6(Ok,n);return s.jsx(ct.div,{"data-state":Ik(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});Ak.displayName=Ok;function Z6(e,t){return`${Math.round(e/t*100)}%`}function Ik(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function um(e){return typeof e=="number"}function jb(e){return um(e)&&!isNaN(e)&&e>0}function Nb(e,t){return um(e)&&!isNaN(e)&&e<=t&&e>=0}function eB(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Zg}\`.`}function tB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Zg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fk=Mk,nB=Ak;const ey=m.forwardRef(({className:e,value:t,...n},r)=>s.jsx(Fk,{ref:r,className:We("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(nB,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ey.displayName=Fk.displayName;const rB=()=>{Ni({timeout:30*60*1e3,warningTime:2*60*1e3});const[e,t]=m.useState(0),[n,r]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(null),[u,f]=m.useState(""),[h,g]=m.useState(""),[v,p]=m.useState(!1),{toast:w}=fn(),x=[{id:1,name:"Free Economy Ticket",points:1e3,type:"free_flight",description:"Redeem for a free economy class ticket on any domestic route",icon:s.jsx(ms,{className:"h-8 w-8 text-blue-600"}),color:"bg-blue-50 border-blue-200"},{id:2,name:"Wallet Credit",points:500,type:"wallet_credit",description:"Convert 500 points to $5 wallet credit for flight bookings",icon:s.jsx(aa,{className:"h-8 w-8 text-green-600"}),color:"bg-green-50 border-green-200"},{id:3,name:"Priority Boarding",points:200,type:"priority_boarding",description:"Skip the line with priority boarding on your next flight",icon:s.jsx(wt,{className:"h-8 w-8 text-purple-600"}),color:"bg-purple-50 border-purple-200"},{id:4,name:"Lounge Access",points:800,type:"lounge_access",description:"One-time access to our premium airport lounge",icon:s.jsx(ul,{className:"h-8 w-8 text-yellow-600"}),color:"bg-yellow-50 border-yellow-200"},{id:5,name:"Extra Baggage",points:400,type:"extra_baggage",description:"Additional 10kg baggage allowance on your next flight",icon:s.jsx(aa,{className:"h-8 w-8 text-orange-600"}),color:"bg-orange-50 border-orange-200"}],y=1e3,b=e/y*100;m.useEffect(()=>{j()},[]);const j=async()=>{const k=sessionStorage.getItem("user_id");if(k)try{const F=await fetch(`${oe}/loyalty/points/?user_id=${k}`);if(F.ok){const ee=await F.json();t(ee.points)}const B=await fetch(`${oe}/loyalty/redemptions/?user_id=${k}`);if(B.ok){const ee=await B.json();r(ee)}}catch(F){console.error("Failed to load loyalty data:",F)}finally{i(!1)}},N=k=>{if(e<k.points){w({variant:"destructive",title:"Not enough points",description:`You need ${k.points-e} more points for this reward.`});return}d(k),p(!0)},P=async()=>{if(!c)return;const k=sessionStorage.getItem("user_id");if(k){l(!0);try{const F={user_id:k,redemption_type:c.type,flight_route:c.type==="free_flight"?u:"",preferred_date:c.type==="free_flight"?h:""},B=await fetch(`${oe}/loyalty/redemptions/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});if(B.ok)w({title:"Redemption requested",description:`Your ${c.name} reward request has been submitted for admin approval.`}),p(!1),f(""),g(""),j();else{const ee=await B.json();w({variant:"destructive",title:"Redemption failed",description:ee.error||"Failed to submit redemption request"})}}catch{w({variant:"destructive",title:"Error",description:"Could not submit redemption request"})}finally{l(!1)}}},C=k=>{const F={pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending",icon:Fn},approved:{color:"bg-green-100 text-green-800",label:"Approved",icon:wt},rejected:{color:"bg-red-100 text-red-800",label:"Rejected",icon:Is},completed:{color:"bg-blue-100 text-blue-800",label:"Completed",icon:wt}},B=F[k]||F.pending,ee=B.icon;return s.jsxs(it,{className:B.color,children:[s.jsx(ee,{className:"h-3 w-3 mr-1"}),B.label]})},S=k=>({free_flight:"Free Economy Ticket",wallet_credit:"Wallet Credit",priority_boarding:"Priority Boarding",lounge_access:"Lounge Access",extra_baggage:"Extra Baggage"})[k]||k,O=k=>new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading rewards..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Loyalty Rewards"}),s.jsx("p",{className:"text-gray-600",children:"Redeem your points for exciting rewards"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ae,{className:"col-span-1",children:[s.jsx(pe,{className:"pb-3",children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(ul,{className:"h-5 w-5 text-blue-600"}),"Your Points"]})}),s.jsxs(me,{children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("p",{className:"text-5xl font-bold text-blue-600",children:e}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Available Points"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress to Silver Tier"}),s.jsxs("span",{children:[e," / ",y]})]}),s.jsx(ey,{value:b,className:"h-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:e<y?`Need ${y-e} more points for Silver Tier benefits`:"You qualify for Silver Tier benefits!"})]})]})]}),s.jsxs(ae,{className:"md:col-span-2 bg-gradient-to-br from-blue-600 to-purple-600 text-white",children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Silver Tier Benefits"}),s.jsxs(ke,{className:"text-blue-100",children:["Reach ",y," points to unlock"]})]}),s.jsx(me,{children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-1 mr-3",children:s.jsx(wt,{className:"h-4 w-4"})}),s.jsx("span",{children:"25% bonus points on all flights"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-1 mr-3",children:s.jsx(wt,{className:"h-4 w-4"})}),s.jsx("span",{children:"Priority check-in and boarding"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-1 mr-3",children:s.jsx(wt,{className:"h-4 w-4"})}),s.jsx("span",{children:"Extra 5kg baggage allowance"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-1 mr-3",children:s.jsx(wt,{className:"h-4 w-4"})}),s.jsx("span",{children:"Discounted lounge access"})]})]})})]})]}),s.jsxs(es,{defaultValue:"rewards",className:"w-full",children:[s.jsxs(Fr,{children:[s.jsx(rt,{value:"rewards",children:"Available Rewards"}),s.jsx(rt,{value:"redemptions",children:"Your Redemptions"})]}),s.jsx(st,{value:"rewards",className:"animate-fade-in",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(k=>s.jsxs(ae,{className:`border-2 ${k.color} hover:shadow-lg transition-shadow`,children:[s.jsxs(pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-3",children:k.icon}),s.jsx(xe,{className:"text-lg",children:k.name}),s.jsx(ke,{children:k.description})]}),s.jsx(me,{className:"text-center",children:s.jsxs("div",{className:"text-2xl font-bold text-purple-600 mb-4",children:[k.points," points"]})}),s.jsx(rr,{children:s.jsx($,{onClick:()=>N(k),disabled:e<k.points,className:"w-full",children:e<k.points?"Not enough points":"Redeem"})})]},k.id))})}),s.jsx(st,{value:"redemptions",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Redemption History"}),s.jsx(ke,{children:"Track your reward redemption requests"})]}),s.jsx(me,{children:n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(aa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No redemptions yet"}),s.jsx("p",{className:"text-gray-500",children:"Your reward redemption history will appear here."})]}):s.jsx("div",{className:"space-y-4",children:n.map(k=>s.jsx(ae,{children:s.jsxs(me,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:S(k.redemption_type)}),s.jsxs("p",{className:"text-gray-600",children:[k.points_required," points"]}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[s.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Requested: ",O(k.created_at)]})]}),s.jsx("div",{className:"text-right",children:C(k.status)})]}),k.flight_route&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Route:"})," ",k.flight_route]}),k.preferred_date&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Preferred Date:"})," ",O(k.preferred_date)]})]}),k.admin_notes&&s.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Admin Notes:"})," ",k.admin_notes]})})]})},k.id))})})]})})]}),s.jsx(Kt,{open:v,onOpenChange:p,children:s.jsxs(zt,{children:[s.jsxs(Ht,{children:[s.jsxs(Vt,{children:["Redeem ",c==null?void 0:c.name]}),s.jsxs(rn,{children:["You're about to redeem ",c==null?void 0:c.points," points for ",c==null?void 0:c.name,"."]})]}),s.jsxs("div",{className:"space-y-4",children:[(c==null?void 0:c.type)==="free_flight"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"route",children:"Preferred Route"}),s.jsxs(Cn,{value:u,onValueChange:f,children:[s.jsx(yn,{children:s.jsx(kn,{placeholder:"Select your preferred route"})}),s.jsxs(vn,{children:[s.jsx(Ve,{value:"Harare - Bulawayo",children:"Harare - Bulawayo"}),s.jsx(Ve,{value:"Harare - Victoria Falls",children:"Harare - Victoria Falls"}),s.jsx(Ve,{value:"Bulawayo - Victoria Falls",children:"Bulawayo - Victoria Falls"}),s.jsx(Ve,{value:"Any domestic route",children:"Any domestic route"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"date",children:"Preferred Travel Date"}),s.jsx(je,{type:"date",value:h,onChange:k=>g(k.target.value),min:new Date().toISOString().split("T")[0]})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," This redemption request will be reviewed by our admin team. You'll receive a confirmation once approved."]})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx($,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),s.jsx($,{onClick:P,disabled:o||(c==null?void 0:c.type)==="free_flight"&&(!u||!h),className:"flex-1",children:o?"Submitting...":"Confirm Redemption"})]})]})})]})})},sB=()=>{const e=Br();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(wt,{className:"h-12 w-12 text-green-600 mb-4"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Booking Successful"}),s.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Your booking was completed successfully. You can view details in your dashboard."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx($,{className:"bg-yellow-400 text-gray-900",onClick:()=>e("/client/dashboard"),children:"Go to Dashboard"}),s.jsx($,{variant:"outline",onClick:()=>e("/client/flights"),children:"Book Another Flight"})]})]})})})},wh=768;function aB(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${wh-1}px)`),r=()=>{t(window.innerWidth<wh)};return n.addEventListener("change",r),t(window.innerWidth<wh),()=>n.removeEventListener("change",r)},[]),!!e}const iB=KC,oB=GC,lB=XC,Lk=m.forwardRef(({className:e,...t},n)=>s.jsx(lf,{className:We("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Lk.displayName=lf.displayName;const cB=Jc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$k=m.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(lB,{children:[s.jsx(Lk,{}),s.jsxs(cf,{ref:a,className:We(cB({side:e}),t),...r,children:[n,s.jsxs(JC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Ji,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$k.displayName=cf.displayName;const dB=m.forwardRef(({className:e,...t},n)=>s.jsx(df,{ref:n,className:We("text-lg font-semibold text-foreground",e),...t}));dB.displayName=df.displayName;const uB=m.forwardRef(({className:e,...t},n)=>s.jsx(uf,{ref:n,className:We("text-sm text-muted-foreground",e),...t}));uB.displayName=uf.displayName;const as=({userType:e,onLogout:t})=>{const n=zs(),r=Br();aB();const[a,i]=m.useState(!1),[o,l]=m.useState(!1);if(m.useEffect(()=>{const h=()=>{i(window.scrollY>10)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),n.pathname==="/client/flights")return null;const c=h=>n.pathname===h,d=()=>{t(),r("/login")},u=()=>{if(e==="client"){const h=!["/client/dashboard","/client/wallet"].includes(n.pathname);return s.jsxs(s.Fragment,{children:[s.jsx(Js,{to:"/client/dashboard",active:c("/client/dashboard"),icon:s.jsx(Gv,{size:18}),label:"Dashboard"}),s.jsx(Js,{to:"/client/wallet",active:c("/client/wallet"),icon:s.jsx(Qt,{size:18}),label:"Wallet"}),s.jsx(Js,{to:"/client/payment-history",active:c("/client/payment-history"),icon:s.jsx(NN,{size:18}),label:"Payment History"}),h&&s.jsxs(s.Fragment,{children:[s.jsx(Js,{to:"/client/flights",active:c("/client/flights"),icon:s.jsx(ps,{size:18}),label:"Book Flights"}),s.jsx(Js,{to:"/client/flights?type=fast-bye",active:c("/client/flights")&&n.search.includes("type=fast-bye"),icon:s.jsx(Ha,{size:18}),label:"Fast-Bye Booking"}),s.jsx(Js,{to:"/client/flights?type=credit",active:c("/client/flights")&&n.search.includes("type=credit"),icon:s.jsx(Qt,{size:18}),label:"Credit Booking"})]})]})}else if(e==="admin")return s.jsxs(s.Fragment,{children:[s.jsx(Js,{to:"/admin/dashboard",active:c("/admin/dashboard"),icon:s.jsx(Gv,{size:18}),label:"Dashboard"}),s.jsx(Js,{to:"/admin/users",active:c("/admin/users"),icon:s.jsx(Xi,{size:18}),label:"Users"}),s.jsx(Js,{to:"/admin/redemptions",active:c("/admin/redemptions"),icon:s.jsx(aa,{size:18}),label:"Redemptions"})]});return null},f=()=>s.jsxs(iB,{open:o,onOpenChange:l,children:[s.jsx(oB,{asChild:!0,children:s.jsx($,{variant:"ghost",className:"md:hidden p-2",children:s.jsx(yT,{size:24})})}),s.jsx($k,{side:"left",className:"w-[250px] sm:w-[300px]",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between py-4 border-b",children:[s.jsx(ui,{}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"rounded-full",children:s.jsx(Ji,{size:18})})]}),e&&s.jsx("nav",{className:"flex flex-col gap-2 mt-6",children:u()}),s.jsx("div",{className:"mt-auto py-4 border-t",children:e?s.jsxs($,{variant:"outline",onClick:()=>{l(!1),d()},className:"w-full flex items-center gap-2",children:[s.jsx(Sp,{size:16})," Logout"]}):s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx($,{variant:"outline",asChild:!0,className:"w-full bg-transparent",children:s.jsx(Jt,{to:"/login",onClick:()=>l(!1),children:"Login"})}),s.jsx($,{asChild:!0,className:"w-full",children:s.jsx(Jt,{to:"/register",onClick:()=>l(!1),children:"Register"})})]})})]})})]});return s.jsx("header",{className:`bg-white border-b border-gray-200 ${a?"shadow-md":"shadow-sm"} sticky top-0 z-50 transition-all duration-200`,children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsx(Jt,{to:"/",children:s.jsx(ui,{})}),e&&s.jsx("nav",{className:"hidden md:flex items-center gap-6",children:u()})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[f(),e?s.jsxs($,{variant:"outline",onClick:d,className:"hidden md:flex items-center gap-2 bg-transparent",children:[s.jsx(Sp,{size:16})," Logout"]}):s.jsxs("div",{className:"hidden md:flex gap-2",children:[s.jsx($,{variant:"outline",asChild:!0,children:s.jsx(Jt,{to:"/login",children:"Login"})}),s.jsx($,{asChild:!0,children:s.jsx(Jt,{to:"/register",children:"Register"})})]})]})]})})})},Js=({to:e,active:t,icon:n,label:r})=>s.jsxs(Jt,{to:e,className:`flex items-center gap-2 py-2 px-3 rounded-md transition-colors ${t?"text-fastjet-blue font-medium bg-blue-50":"text-gray-600 hover:text-fastjet-blue hover:bg-blue-50"}`,children:[n,s.jsx("span",{children:r})]}),mB=()=>{Ni({timeout:30*60*1e3,warningTime:2*60*1e3});const[e,t]=m.useState(0),[n,r]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(null),[u,f]=m.useState(""),[h,g]=m.useState(""),[v,p]=m.useState(!1),{toast:w}=fn(),x=[{id:1,name:"Free Economy Ticket",points:500,type:"free_flight",description:"Redeem for a free economy class ticket on any domestic route",icon:s.jsx(ms,{className:"h-8 w-8 text-blue-600"}),color:"bg-blue-50 border-blue-200"},{id:2,name:"Wallet Credit",points:250,type:"wallet_credit",description:"Convert 250 points to $2.50 wallet credit for flight bookings",icon:s.jsx(aa,{className:"h-8 w-8 text-green-600"}),color:"bg-green-50 border-green-200"},{id:3,name:"Priority Boarding",points:100,type:"priority_boarding",description:"Skip the line with priority boarding on your next flight",icon:s.jsx(wt,{className:"h-8 w-8 text-purple-600"}),color:"bg-purple-50 border-purple-200"},{id:4,name:"Lounge Access",points:400,type:"lounge_access",description:"One-time access to our premium airport lounge",icon:s.jsx(ul,{className:"h-8 w-8 text-yellow-600"}),color:"bg-yellow-50 border-yellow-200"},{id:5,name:"Extra Baggage",points:200,type:"extra_baggage",description:"Additional 10kg baggage allowance on your next flight",icon:s.jsx(aa,{className:"h-8 w-8 text-orange-600"}),color:"bg-orange-50 border-orange-200"}],y=500,b=e/y*100;m.useEffect(()=>{j()},[]);const j=async()=>{const k=sessionStorage.getItem("user_id"),F=sessionStorage.getItem("token");if(!(!k||!F))try{const B=await fetch(`${oe}/loyalty/points/?user_id=${k}`,{headers:{Authorization:`Token ${F}`}});if(B.ok){const re=await B.json();t(re.points)}const ee=await fetch(`${oe}/loyalty/redemptions/?user_id=${k}`,{headers:{Authorization:`Token ${F}`}});if(ee.ok){const re=await ee.json();r(re)}}catch(B){console.error("Failed to load loyalty data:",B)}finally{i(!1)}},N=k=>{if(e<k.points){w({variant:"destructive",title:"Not enough points",description:`You need ${k.points-e} more points for this reward.`});return}d(k),p(!0)},P=async()=>{if(!c)return;const k=sessionStorage.getItem("user_id"),F=sessionStorage.getItem("token");if(!(!k||!F)){l(!0);try{const B={user_id:k,redemption_type:c.type,flight_route:c.type==="free_flight"?u:"",preferred_date:c.type==="free_flight"?h:""},ee=await fetch(`${oe}/loyalty/redemptions/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${F}`},body:JSON.stringify(B)});if(ee.ok)w({title:"Redemption requested",description:`Your ${c.name} reward request has been submitted for admin approval.`}),p(!1),f(""),g(""),j();else{const re=await ee.json();w({variant:"destructive",title:"Redemption failed",description:re.error||"Failed to submit redemption request"})}}catch{w({variant:"destructive",title:"Error",description:"Could not submit redemption request"})}finally{l(!1)}}},C=k=>{const F={pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending",icon:Fn},approved:{color:"bg-green-100 text-green-800",label:"Approved",icon:wt},rejected:{color:"bg-red-100 text-red-800",label:"Rejected",icon:Is},completed:{color:"bg-blue-100 text-blue-800",label:"Completed",icon:wt}},B=F[k]||F.pending,ee=B.icon;return s.jsxs(it,{className:B.color,children:[s.jsx(ee,{className:"h-3 w-3 mr-1"}),B.label]})},S=k=>({free_flight:"Free Economy Ticket",wallet_credit:"Wallet Credit",priority_boarding:"Priority Boarding",lounge_access:"Lounge Access",extra_baggage:"Extra Baggage"})[k]||k,O=k=>new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading rewards..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Loyalty Rewards"}),s.jsx("p",{className:"text-gray-600",children:"Redeem your points for exciting rewards"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ae,{className:"col-span-1",children:[s.jsx(pe,{className:"pb-3",children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(ul,{className:"h-5 w-5 text-blue-600"}),"Your Points"]})}),s.jsxs(me,{children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("p",{className:"text-5xl font-bold text-blue-600",children:e}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Available Points"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress to Free Flight"}),s.jsxs("span",{children:[e," / ",y]})]}),s.jsx(ey,{value:b,className:"h-2"}),s.jsx("p",{className:"text-xs text-gray-500",children:e<y?`Need ${y-e} more points for free flight`:"You can redeem a free flight!"})]})]})]}),s.jsxs(ae,{className:"md:col-span-2 bg-gradient-to-br from-blue-600 to-purple-600 text-white",children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Free Flight Benefits"}),s.jsxs(ke,{className:"text-blue-100",children:["Reach ",y," points to unlock"]})]}),s.jsx(me,{children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-1 mr-3",children:s.jsx(wt,{className:"h-4 w-4"})}),s.jsx("span",{children:"Free economy class ticket"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-1 mr-3",children:s.jsx(wt,{className:"h-4 w-4"})}),s.jsx("span",{children:"Valid on any domestic route"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-1 mr-3",children:s.jsx(wt,{className:"h-4 w-4"})}),s.jsx("span",{children:"Subject to admin approval"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-1 mr-3",children:s.jsx(wt,{className:"h-4 w-4"})}),s.jsx("span",{children:"Must be redeemed before booking"})]})]})})]})]}),s.jsxs(es,{defaultValue:"rewards",className:"w-full",children:[s.jsxs(Fr,{children:[s.jsx(rt,{value:"rewards",children:"Available Rewards"}),s.jsx(rt,{value:"redemptions",children:"Your Redemptions"})]}),s.jsx(st,{value:"rewards",className:"animate-fade-in",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(k=>s.jsxs(ae,{className:`border-2 ${k.color} hover:shadow-lg transition-shadow`,children:[s.jsxs(pe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-3",children:k.icon}),s.jsx(xe,{className:"text-lg",children:k.name}),s.jsx(ke,{children:k.description})]}),s.jsx(me,{className:"text-center",children:s.jsxs("div",{className:"text-2xl font-bold text-purple-600 mb-4",children:[k.points," points"]})}),s.jsx(rr,{children:s.jsx($,{onClick:()=>N(k),disabled:e<k.points,className:"w-full",children:e<k.points?"Not enough points":"Request Redemption"})})]},k.id))})}),s.jsx(st,{value:"redemptions",className:"animate-fade-in",children:s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsx(xe,{children:"Redemption History"}),s.jsx(ke,{children:"Track your reward redemption requests"})]}),s.jsx(me,{children:n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(aa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No redemptions yet"}),s.jsx("p",{className:"text-gray-500",children:"Your reward redemption history will appear here."})]}):s.jsx("div",{className:"space-y-4",children:n.map(k=>s.jsx(ae,{children:s.jsxs(me,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:S(k.redemption_type)}),s.jsxs("p",{className:"text-gray-600",children:[k.points_required," points"]}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[s.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Requested: ",O(k.created_at)]})]}),s.jsx("div",{className:"text-right",children:C(k.status)})]}),k.flight_route&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Route:"})," ",k.flight_route]}),k.preferred_date&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Preferred Date:"})," ",O(k.preferred_date)]})]}),k.admin_notes&&s.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Admin Notes:"})," ",k.admin_notes]})}),k.status==="approved"&&k.redemption_type==="free_flight"&&s.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx(wt,{className:"h-4 w-4 inline mr-1"}),s.jsx("strong",{children:"Approved!"}),' You can now use this redemption when booking a flight by selecting "Fast Points" as payment method.']})})]})},k.id))})})]})})]}),s.jsx(Kt,{open:v,onOpenChange:p,children:s.jsxs(zt,{children:[s.jsxs(Ht,{children:[s.jsxs(Vt,{children:["Request ",c==null?void 0:c.name]}),s.jsxs(rn,{children:["You're about to request ",c==null?void 0:c.points," points for ",c==null?void 0:c.name,"."]})]}),s.jsxs("div",{className:"space-y-4",children:[(c==null?void 0:c.type)==="free_flight"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"route",children:"Preferred Route"}),s.jsxs(Cn,{value:u,onValueChange:f,children:[s.jsx(yn,{children:s.jsx(kn,{placeholder:"Select your preferred route"})}),s.jsxs(vn,{children:[s.jsx(Ve,{value:"Harare - Bulawayo",children:"Harare - Bulawayo"}),s.jsx(Ve,{value:"Harare - Victoria Falls",children:"Harare - Victoria Falls"}),s.jsx(Ve,{value:"Bulawayo - Victoria Falls",children:"Bulawayo - Victoria Falls"}),s.jsx(Ve,{value:"Any domestic route",children:"Any domestic route"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"date",children:"Preferred Travel Date"}),s.jsx(je,{type:"date",value:h,onChange:k=>g(k.target.value),min:new Date().toISOString().split("T")[0]})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," This redemption request will be reviewed by our admin team. You'll receive a confirmation once approved. For free flights, you must have an approved redemption before you can use points to pay for a booking."]})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx($,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),s.jsx($,{onClick:P,disabled:o||(c==null?void 0:c.type)==="free_flight"&&(!u||!h),className:"flex-1",children:o?"Submitting...":"Submit Request"})]})]})})]})})},fB=()=>{Ni({timeout:30*60*1e3,warningTime:2*60*1e3});const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,i]=m.useState(null),{toast:o}=fn();m.useEffect(()=>{l()},[]);const l=async()=>{const p=sessionStorage.getItem("token");if(!p){o({variant:"destructive",title:"Authentication Error",description:"Admin token not found. Please log in as an admin."});return}try{const w=await fetch(`${oe}/loyalty/admin/redemptions/`,{headers:{Authorization:`Token ${p}`}});if(w.ok){const x=await w.json();t(x)}else o({variant:"destructive",title:"Error",description:"Failed to load redemptions"})}catch{o({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{r(!1)}},c=async p=>{const w=sessionStorage.getItem("token");if(w){i(p);try{const x=await fetch(`${oe}/loyalty/admin/redemptions/${p}/action/`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Token ${w}`},body:JSON.stringify({action:"approve",notes:"Approved by admin"})});if(x.ok)o({title:"Redemption Approved",description:"The redemption has been approved successfully."}),l();else{const y=await x.json();o({variant:"destructive",title:"Approval Failed",description:y.error||"Could not approve redemption."})}}catch{o({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{i(null)}}},d=async(p,w)=>{const x=sessionStorage.getItem("token");if(x){if(!w.trim()){o({variant:"destructive",title:"Rejection Failed",description:"Please provide a reason for rejection."});return}i(p);try{const y=await fetch(`${oe}/loyalty/admin/redemptions/${p}/action/`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Token ${x}`},body:JSON.stringify({action:"reject",notes:w})});if(y.ok)o({title:"Redemption Rejected",description:"The redemption has been rejected."}),l();else{const b=await y.json();o({variant:"destructive",title:"Rejection Failed",description:b.error||"Could not reject redemption."})}}catch{o({variant:"destructive",title:"Error",description:"Could not connect to server"})}finally{i(null)}}},u=p=>{const w={pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending",icon:Fn},approved:{color:"bg-green-100 text-green-800",label:"Approved",icon:wt},rejected:{color:"bg-red-100 text-red-800",label:"Rejected",icon:Is},completed:{color:"bg-blue-100 text-blue-800",label:"Completed",icon:wt}},x=w[p]||w.pending,y=x.icon;return s.jsxs(it,{className:x.color,children:[s.jsx(y,{className:"h-3 w-3 mr-1"}),x.label]})},f=p=>({free_flight:"Free Economy Ticket",wallet_credit:"Wallet Credit",priority_boarding:"Priority Boarding",lounge_access:"Lounge Access",extra_baggage:"Extra Baggage"})[p]||p,h=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),g=e.filter(p=>p.status==="pending"),v=e.filter(p=>p.status!=="pending");return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading redemptions..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Redemption Management"}),s.jsx("p",{className:"text-gray-600",children:"Review and manage customer loyalty point redemption requests"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:g.length}),s.jsx(ke,{children:"Pending Requests"})]}),s.jsx(Fn,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:e.filter(p=>p.status==="approved").length}),s.jsx(ke,{children:"Approved"})]}),s.jsx(wt,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:e.filter(p=>p.status==="rejected").length}),s.jsx(ke,{children:"Rejected"})]}),s.jsx(Is,{className:"h-8 w-8 text-red-500"})]})})}),s.jsx(ae,{children:s.jsx(pe,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-2xl font-bold",children:e.length}),s.jsx(ke,{children:"Total Requests"})]}),s.jsx(ps,{className:"h-8 w-8 text-blue-500"})]})})})]}),s.jsxs(ae,{className:"mb-8",children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Fn,{className:"h-5 w-5 text-yellow-500"}),"Pending Redemptions"]}),s.jsx(ke,{children:"Requests awaiting your review and approval"})]}),s.jsx(me,{children:g.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(wt,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No pending redemptions"}),s.jsx("p",{className:"text-gray-500",children:"All redemption requests have been processed"})]}):s.jsx("div",{className:"space-y-4",children:g.map(p=>s.jsx(ae,{className:"border-l-4 border-l-yellow-400",children:s.jsxs(me,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xi,{className:"h-4 w-4 text-gray-500"}),s.jsx("h3",{className:"font-semibold text-lg",children:p.user_name}),u(p.status)]}),s.jsx("p",{className:"text-gray-600 mb-1",children:p.user_phone}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("strong",{children:"Reward:"})," ",f(p.redemption_type)," (",p.points_required," points)"]}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Requested: ",h(p.created_at)]})]}),s.jsxs("div",{className:"flex space-x-2 ml-4",children:[s.jsxs($,{size:"sm",onClick:()=>c(p.id),disabled:a===p.id,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Gi,{className:"h-4 w-4 mr-1"}),a===p.id?"Processing...":"Approve"]}),s.jsxs(Kt,{children:[s.jsx(Uc,{asChild:!0,children:s.jsxs($,{size:"sm",variant:"outline",disabled:a===p.id,className:"border-red-300 text-red-600 hover:bg-red-50 bg-transparent",children:[s.jsx(Ji,{className:"h-4 w-4 mr-1"}),"Reject"]})}),s.jsxs(zt,{children:[s.jsxs(Ht,{children:[s.jsx(Vt,{children:"Reject Redemption"}),s.jsxs(rn,{children:["Provide a reason for rejecting this redemption request from ",p.user_name,"."]})]}),s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`reject-reason-${p.id}`,children:"Reason for Rejection"}),s.jsx(mf,{id:`reject-reason-${p.id}`,placeholder:"e.g., Insufficient documentation, invalid request, system maintenance...",className:"min-h-[100px]"})]})}),s.jsxs(Sn,{children:[s.jsx($,{type:"button",variant:"outline",children:"Cancel"}),s.jsx($,{type:"button",onClick:()=>{const w=document.getElementById(`reject-reason-${p.id}`);d(p.id,w.value)},disabled:a===p.id,children:a===p.id?"Processing...":"Reject Redemption"})]})]})]})]})]}),p.flight_route&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 mb-3",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Preferred Route:"})," ",p.flight_route]}),p.preferred_date&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Preferred Date:"})," ",new Date(p.preferred_date).toLocaleDateString()]})]})]})},p.id))})})]}),s.jsxs(ae,{children:[s.jsxs(pe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(wt,{className:"h-5 w-5 text-green-500"}),"Processed Redemptions"]}),s.jsx(ke,{children:"Previously reviewed redemption requests"})]}),s.jsx(me,{children:v.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ps,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No processed redemptions"}),s.jsx("p",{className:"text-gray-500",children:"Processed redemptions will appear here"})]}):s.jsx("div",{className:"space-y-4",children:v.map(p=>s.jsx(ae,{className:"border-l-4 border-l-gray-300",children:s.jsxs(me,{className:"p-4",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xi,{className:"h-4 w-4 text-gray-500"}),s.jsx("h3",{className:"font-medium",children:p.user_name}),u(p.status)]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[f(p.redemption_type)," (",p.points_required," points)"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Requested: ",h(p.created_at),p.review_date&&`  Reviewed: ${h(p.review_date)}`]})]})}),p.admin_notes&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Admin Notes:"})," ",p.admin_notes]})})]})},p.id))})})]})]})})},hB=()=>{const[e,t]=m.useState("email"),[n,r]=m.useState("+263"),[a,i]=m.useState(""),[o,l]=m.useState(!1),{toast:c}=fn(),d=Br(),u=async f=>{f.preventDefault(),l(!0);const h=e==="email"?a:`${n}${a}`;try{const g=await fetch(ot.PASSWORD_RESET_REQUEST,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:h})}),v=await g.json();g.ok?(c({title:"Check your inbox",description:"A password reset code has been sent to your email or phone."}),d(`/reset-password/${v.uid}/${v.token}`,{state:{identifier:h}})):c({variant:"destructive",title:"Error",description:v.identifier||"Could not process request. Please check the details and try again."})}catch{c({variant:"destructive",title:"Request Failed",description:"Could not connect to the server. Please try again later."})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ui,{size:"lg",className:"inline-block"}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Forgot Password"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your details to receive a password reset code."})]}),s.jsx(ae,{children:s.jsxs("form",{onSubmit:u,children:[s.jsxs(me,{className:"pt-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Reset using"}),s.jsxs(so,{defaultValue:"email",onValueChange:f=>t(f),className:"flex gap-4 mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"email",id:"r-email"}),s.jsx(Y,{htmlFor:"r-email",children:"Email"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"phone",id:"r-phone"}),s.jsx(Y,{htmlFor:"r-phone",children:"Phone Number"})]})]})]}),e==="email"?s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"email",children:"Email"}),s.jsx(je,{id:"email",type:"email",placeholder:"user@example.com",value:a,onChange:f=>i(f.target.value),required:!0})]}):s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"phone",children:"Phone Number"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Cn,{value:n,onValueChange:r,children:[s.jsx(yn,{className:"w-[100px]",children:s.jsx(kn,{placeholder:"Code"})}),s.jsxs(vn,{children:[s.jsx(Ve,{value:"+263",children:"ZW (+263)"}),s.jsx(Ve,{value:"+27",children:"SA (+27)"})]})]}),s.jsx(je,{id:"phone",type:"tel",placeholder:"771234567",value:a,onChange:f=>i(f.target.value),required:!0})]})]})]}),s.jsxs(rr,{className:"flex flex-col gap-4",children:[s.jsx($,{type:"submit",className:"w-full",disabled:o,children:o?"Sending Code...":"Send Reset Code"}),s.jsx($,{variant:"link",asChild:!0,children:s.jsx(Jt,{to:"/login",children:"Back to Login"})})]})]})})]})})},pB=()=>{var g;const[e,t]=m.useState(""),[n,r]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(!1),{toast:c}=fn(),d=Br(),f=(g=zs().state)==null?void 0:g.identifier;m.useEffect(()=>{f||(c({variant:"destructive",title:"Missing Information",description:"No email or phone provided. Please start from the 'Forgot Password' page."}),d("/forgot-password"))},[f,d,c]);const h=async v=>{if(v.preventDefault(),n!==a){c({variant:"destructive",title:"Passwords do not match"});return}l(!0);try{const p=await fetch(ot.PASSWORD_RESET_CONFIRM,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:f,code:e,password:n,confirm_password:a})}),w=await p.json();if(p.ok)c({title:"Password Reset Successful",description:"You can now log in with your new password."}),d("/login");else{const x=Object.values(w).flat().join(" ");c({variant:"destructive",title:"Reset Failed",description:x||"An unknown error occurred. Please check the code and try again."})}}catch{c({variant:"destructive",title:"Request Failed",description:"Could not connect to the server. Please try again later."})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ui,{size:"lg",className:"inline-block"}),s.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Reset Your Password"}),s.jsxs("p",{className:"mt-2 text-gray-600",children:["Enter the code sent to ",s.jsx("span",{className:"font-semibold",children:f})," and set a new password."]})]}),s.jsx(ae,{children:s.jsxs("form",{onSubmit:h,children:[s.jsxs(me,{className:"pt-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"code",children:"Reset Code"}),s.jsx(je,{id:"code",type:"text",placeholder:"Enter 6-digit code",value:e,onChange:v=>t(v.target.value),maxLength:6,required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"password",children:"New Password"}),s.jsx(je,{id:"password",type:"password",placeholder:"Enter new password",value:n,onChange:v=>r(v.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(je,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",value:a,onChange:v=>i(v.target.value),required:!0})]})]}),s.jsxs(rr,{className:"flex flex-col gap-4",children:[s.jsx($,{type:"submit",className:"w-full",disabled:o,children:o?"Resetting...":"Reset Password"}),s.jsx($,{variant:"link",asChild:!0,children:s.jsx(Jt,{to:"/login",children:"Back to Login"})})]})]})})]})})},jh=e=>e?typeof e=="string"?e:typeof e=="object"?e.name||e.code||e.title||`[obj:${Object.keys(e).join(",")}]`:String(e):"",xB=({routeId:e,onBookingCreated:t})=>{const{toast:n}=fn(),r=Br(),a=zs(),i=sessionStorage.getItem("token"),[o,l]=m.useState(1),[c,d]=m.useState(!1),[u,f]=m.useState(!1);m.useState(!1);const[h,g]=m.useState(!1),[v,p]=m.useState(!1),[w,x]=m.useState(null),[y,b]=m.useState(!1),[j,N]=m.useState(void 0),[P,C]=m.useState(void 0),[S,O]=m.useState(void 0),[k,F]=m.useState("one-way"),[B,ee]=m.useState(""),[re,J]=m.useState(""),[q,D]=m.useState(""),[_,T]=m.useState(""),[L,U]=m.useState(null),[z,G]=m.useState([]),[ye,Ce]=m.useState([]),[ge,Q]=m.useState(""),[te,de]=m.useState(""),[E,Z]=m.useState([]),[W,be]=m.useState(1),[Ye,Ze]=m.useState(0),[tt,Ct]=m.useState(.15),[Mt,I]=m.useState(void 0),[He,gt]=m.useState(null),[Tt,ln]=m.useState(!1),[hn,Ie]=m.useState("pending"),[R,he]=m.useState({}),[Te,Oe]=m.useState({}),[De,Re]=m.useState({fullName:"",idNumber:"",bank:"",bankAccount:"",flightDetails:"",applicationDate:new Date().toISOString().split("T")[0],totalAmount:0,repaymentDetails:""}),qe=H=>{if(!H)return"";if(typeof H=="object")return H.name||H.title||H.code||H.city||H.label||jh(H);const le=String(H),ve=ye.find(Ke=>String(Ke==null?void 0:Ke.id)===le||(Ke==null?void 0:Ke.code)===le||(Ke==null?void 0:Ke.name)===le||(Ke==null?void 0:Ke.title)===le);return ve&&(ve.name||ve.title||ve.code)||le},[Gt,En]=m.useState(""),[K,ie]=m.useState("");m.useEffect(()=>{const H=ye.find(ve=>String(ve==null?void 0:ve.id)===String(ge)),le=ye.find(ve=>String(ve==null?void 0:ve.id)===String(te));H&&En(H.name||H.title||H.code||""),le&&ie(le.name||le.title||le.code||"")},[ge,te,ye]);const Fe=(H,le)=>{const ve=qe(H);return ve&&ve!==String(H)?ve:le||ve||""},ue=H=>{const le=Fe(H==null?void 0:H.from_destination,Gt),ve=Fe(H==null?void 0:H.to_destination,K);return`${le}  ${ve}`.trim()},Ne=H=>{const le=H.replace(/[^0-9]/g,"");return le.length<8||le.length>17?(Oe(ve=>({...ve,bankAccount:"Bank account number should be between 8 and 17 digits"})),!1):/^\d+$/.test(le)?(Oe(ve=>{const Ke={...ve};return delete Ke.bankAccount,Ke}),!0):(Oe(ve=>({...ve,bankAccount:"Bank account number should contain only digits"})),!1)};m.useEffect(()=>{i||(n({title:"Authentication Required",description:"Please log in to continue.",variant:"destructive"}),r("/login",{state:{from:a.pathname}}))},[i,r,a,n]);const Le=(H,le)=>{const ve=H*tt*le;return H+ve};m.useEffect(()=>{if(!j){Ze(0),I(void 0);return}const H=(E.length>0?E:z).find(Yn=>Yn.id===j);if(!H){Ze(0),I(void 0);return}let le=0;H.flight&&H.flight.route&&H.flight.route.price?le=Number.parseFloat(H.flight.route.price):H.price&&(le=Number.parseFloat(H.price));const ve=Le(le,W);Ze(ve);const Ke=new Date,jn=new Date(Ke);jn.setMonth(Ke.getMonth()+W),I(jn)},[j,W,E,z,tt]);const Lt=()=>{W<3&&be(W+1)},pn=()=>{W>1&&be(W-1)},Qe=async()=>{if(!ge||!te){n({title:"Selection Required",description:"Please select both departure and arrival cities.",variant:"destructive"});return}const H=ye.find(ve=>ve.id.toString()===ge),le=ye.find(ve=>ve.id.toString()===te);if(!H||!le){n({title:"Error",description:"Could not find selected destinations.",variant:"destructive"});return}p(!0),b(!0),Z([]);try{const ve=await fetch(ot.SEARCH_FLIGHTS,{method:"POST",headers:{"Content-Type":"application/json",...i?{Authorization:`Token ${i}`}:{}},body:JSON.stringify({from_destination:H.id,to_destination:le.id,departure_date:pt(P||new Date,"yyyy-MM-dd"),trip_type:k==="return"?"round_trip":"one_way",adult_count:1,child_count:0})});if(!ve.ok)throw new Error("Search request failed");const Ke=await ve.json();Ke.outbound_flights?(Z(Ke.outbound_flights),G(Ke.outbound_flights)):n({title:"No Flights Found",description:"No available flights found for the selected route.",variant:"destructive"})}catch(ve){console.error("Search error:",ve),n({title:"Search Failed",description:"Could not search for flights. Please try again.",variant:"destructive"})}finally{p(!1)}},pr=async H=>{var le,ve,Ke,jn,Yn;if(H.preventDefault(),De.bankAccount&&!Ne(De.bankAccount)){x("Please enter a valid bank account number");return}if(!j||!P){x("Please select a flight schedule and travel date");return}if(k==="return"&&!S){x("Please select a return date for return trips");return}try{g(!0),x(null);const Ot=(E.length>0?E:z).find(Vn=>Vn.id===j);if(!Ot){x("Invalid flight schedule selected"),g(!1);return}const ht=(le=Ot.flight)==null?void 0:le.route,Wr=`${qe(ht==null?void 0:ht.from_destination)} to ${qe(ht==null?void 0:ht.to_destination)} on ${P==null?void 0:P.toLocaleDateString()}`;Re(Vn=>({...Vn,flightDetails:Wr,totalAmount:Ye,repaymentDetails:`${W} month(s) repayment at ${tt*100}% interest per month`})),d(!0),l(2),n({title:"Travel Details Completed",description:"Please fill in your personal details to proceed with your credit booking request."})}catch(Ot){console.error("Error proceeding to personal details:",Ot),x(((Ke=(ve=Ot.response)==null?void 0:ve.data)==null?void 0:Ke.detail)||"Failed to proceed. Please try again."),n({title:"Error",description:((Yn=(jn=Ot.response)==null?void 0:jn.data)==null?void 0:Yn.detail)||"Could not proceed to personal details.",variant:"destructive"})}finally{g(!1)}},dt=j&&P&&(k==="one-way"||k==="return"&&S),Mn=Object.keys(R).length>0&&Object.values(R).every(Boolean),Nt=()=>{var Yn,Ot,ht,Wr,Vn,xr,qn;const H=(E.length>0?E:z).find(po=>po.id===j);if(!H)return;const le=new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),ve=`FJ-${new Date().getTime().toString().slice(-6)}`,Ke=["FASTJET CREDIT BOOKING APPLICATION","================================","","APPLICATION DETAILS",`Date: ${le}`,"Status: Pending Review",`Reference: ${ve}`,"","PERSONAL INFORMATION","-------------------",`Full Name: ${De.fullName}`,`National ID: ${re}`,`Bank: ${B}`,`Bank Account: ${De.bankAccount}`,"","FLIGHT DETAILS","-------------",`Route: ${ue((Yn=H.flight)==null?void 0:Yn.route)}`,`Travel Date: ${P?pt(P,"dd MMM yyyy"):"Not set"}`,k==="return"?`Return Date: ${S?pt(S,"dd MMM yyyy"):"Not set"}`:"",`Schedule ID: #${j}`,"","FINANCIAL DETAILS","----------------",`Base Amount: ${((ht=(Ot=H.flight)==null?void 0:Ot.route)==null?void 0:ht.currency)||"USD"} ${Number.parseFloat(((Vn=(Wr=H.flight)==null?void 0:Wr.route)==null?void 0:Vn.price)||H.price||"0").toFixed(2)}`,`Total with Interest: ${((qn=(xr=H.flight)==null?void 0:xr.route)==null?void 0:qn.currency)||"USD"} ${Ye.toFixed(2)}`,`Repayment Period: ${W} month(s)`,`Monthly Interest Rate: ${(tt*100).toFixed(0)}%`,`Repayment Due: ${Mt?pt(Mt,"dd MMM yyyy"):"Not set"}`].join(`
`),jn=window.open("","_blank");jn&&(jn.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Credit Application - ${De.fullName}</title>
            <base href="${window.location.origin}">
            <style>
              body {
                font-family: Arial, sans-serif;
                line-height: 1.6;
                padding: 20px;
                max-width: 800px;
                margin: 0 auto;
              }
              .logo-container {
                text-align: center;
                margin-bottom: 30px;
                padding: 20px;
                background: #FFF8E1;
                border-radius: 8px;
              }
              .logo {
                width: 200px;
                height: auto;
              }
              .content {
                white-space: pre-wrap;
                font-family: inherit;
                margin: 20px 0;
              }
              .footer {
                margin-top: 40px;
                padding-top: 20px;
                border-top: 2px solid #FFC20E;
                text-align: center;
                color: #666;
                font-size: 0.9em;
              }
              @media print {
                body { padding: 0; }
                .logo-container { background: none; }
              }
            </style>
          </head>
          <body>
            <div class="logo-container">
              <img id="fastjetLogo" src="${window.location.origin}/lovable-uploads/919879f9-5c7e-4e0f-8ef1-08658c406b2f.png" alt="FastJet Logo" class="logo"/>
            </div>
            <div class="content">${Ke}</div>
            <div class="footer">
              <p>Generated on ${le}</p>
              <p>Reference: ${ve}</p>
              <p>This is an official document from FastJet Airways</p>
            </div>
            <script>
              (function() {
                function doPrint() {
                  try { window.focus(); } catch (e) {}
                  setTimeout(function(){ window.print(); }, 100);
                }
                window.addEventListener('load', function(){
                  var img = document.getElementById('fastjetLogo');
                  if (img && !img.complete) {
                    img.onload = doPrint;
                    img.onerror = doPrint;
                  } else {
                    doPrint();
                  }
                });
              })();
            <\/script>
          </body>
        </html>
      `),jn.document.close())};m.useEffect(()=>{i&&Be.get(ot.LOGGED_IN_USER,{headers:{Authorization:`Token ${i}`}}).then(H=>{const le=H.data.user||H.data;console.log("User data received:",le);const ve=sessionStorage.getItem("username"),Ke=le.first_name,jn=ve||Ke||"User";console.log("Using display name:",jn),T(jn),Re(Yn=>({...Yn,fullName:jn}))}).catch(H=>{console.error("Error fetching user details:",H);const le=sessionStorage.getItem("username");le&&(T(le),Re(ve=>({...ve,fullName:le})))})},[i]);const ts=H=>/^(\d{2}-\d{6,7}\s?[A-Z]\s?\d{2}|\d{9,10}[A-Z]\d{2})$/.test(H.trim()),wn=H=>{const le=H.target.value;J(le),le.trim()&&!ts(le)?D("Please enter a valid Zimbabwe National ID number (e.g. 12-3456789A12)"):D("")};m.useEffect(()=>{(async()=>{if(i)try{const[le,ve]=await Promise.all([Be.get(ot.LOGGED_IN_USER,{headers:{Authorization:`Token ${i}`}}),Be.get(ot.DESTINATIONS,{headers:{Authorization:`Token ${i}`}})]);U(le.data.id),Ce(ve.data||[])}catch(le){console.warn("Failed fetching meta data",le),n({title:"Loading Error",description:"Could not load all required data. Please refresh the page.",variant:"destructive"})}})()},[i,n]);const kr=async()=>{var H,le,ve,Ke,jn,Yn;try{const Ot=(E.length>0?E:z).find(se=>se.id===j);if(!Ot){x("Selected flight schedule not found"),g(!1);return}const ht=(H=Ot.flight)==null?void 0:H.route;if(!ht){x("Schedule route details missing"),g(!1);return}const Vn={user_id:L??0,trip_type:k==="return"?"round_trip":"one_way",flight_schedule_id:Ot.id,return_schedule_id:null,adult_count:1,child_count:0,payment_method:"credit",passengers_data:[],special_requests:"",contact_phone:"",contact_email:"",is_installment:!1},xr=await Be.post(ot.BOOK_FLIGHT,Vn,{headers:{"Content-Type":"application/json",Authorization:`Token ${i}`}});let qn=((le=xr==null?void 0:xr.data)==null?void 0:le.booking_id)||((ve=xr==null?void 0:xr.data)==null?void 0:ve.id);if(!qn)try{const se=await Be.get(ot.USER_BOOKINGS,{headers:{Authorization:`Token ${i}`}}),$e=Array.isArray(se.data)?se.data:Array.isArray((Ke=se.data)==null?void 0:Ke.results)?se.data.results:[],Me=Vn.flight_schedule_id;qn=(jn=$e.filter(Ge=>{var Ut,yt;const Se=Ge.user===Vn.user_id||Ge.user_id===Vn.user_id||((Ut=Ge.user)==null?void 0:Ut.id)===Vn.user_id,Xt=Ge.flight_schedule===Me||Ge.flight_schedule_id===Me||((yt=Ge.flight_schedule)==null?void 0:yt.id)===Me;return Se&&Xt})[0])==null?void 0:jn.id}catch(se){console.warn("Fallback booking fetch failed",se)}if(!qn){const se="Unable to determine booking ID from server response. Please retry.";n({title:"Booking ID Missing",description:se,variant:"destructive"}),x(se),g(!1);return}const po={booking_id:qn,amount:Number.parseFloat(ht.price||Ot.price||"0"),reason:"Flight credit for "+W+" month(s). Bank: "+B+". Route: "+Fe(ht.from_destination,Gt)+" -> "+Fe(ht.to_destination,K)+" (Schedule #"+Ot.id+"). National ID: "+re},ns=await Be.post(ot.CREDIT_BOOKINGS,po,{headers:{"Content-Type":"application/json",Authorization:`Token ${i}`}});try{const se={booking_id:ns.data.id,bank_email:`${B.toLowerCase()}@banking.co.zw`,admin_email:"admin@fastjet.com",content:`
            Credit Booking Application Details:
            ----------------------------------
            Reference: FJ-${new Date().getTime().toString().slice(-6)}
            Customer: ${De.fullName}
            National ID: ${re}
            Bank: ${B}
            Bank Account: ${De.bankAccount}
            
            Flight Details:
            Route: ${ue(ht)}
            Travel Date: ${P?pt(P,"dd MMM yyyy"):"Not set"}
            ${k==="return"?`Return Date: ${S?pt(S,"dd MMM yyyy"):"Not set"}`:""}
            Schedule ID: #${Ot.id}
            
            Financial Details:
            Base Amount: ${ht.currency||"USD"} ${Number.parseFloat(ht.price||Ot.price||"0").toFixed(2)}
            Total with Interest: ${ht.currency||"USD"} ${Ye.toFixed(2)}
            Repayment Period: ${W} month(s)
            Monthly Interest Rate: ${(tt*100).toFixed(0)}%
            Repayment Due: ${Mt?pt(Mt,"dd MMM yyyy"):"Not set"}
          `};await Be.post(ot.SEND_BOOKING_EMAILS,se,{headers:{"Content-Type":"application/json",Authorization:`Token ${i}`}}),console.log("Notification emails sent successfully")}catch(se){console.error("Error sending notification emails:",se)}gt(ns.data.id),ln(!0),Ie(ns.data.status||"pending"),f(!0),n({title:"Application Sent For Admin Review",description:"Your credit booking application has been submitted successfully.",variant:"default",duration:5e3}),setTimeout(()=>{r("/client/dashboard")},6e3),t&&t(ns.data.id)}catch(Ot){console.error("Error creating credit booking:",Ot);const ht=(Yn=Ot==null?void 0:Ot.response)==null?void 0:Yn.data,Wr=(ht==null?void 0:ht.detail)||(ht==null?void 0:ht.error)||(typeof ht=="string"?ht:null);x(Wr||"Failed to create booking."),n({title:"Booking Failed",description:Wr||Ot.message||"Could not create your credit booking.",variant:"destructive"})}finally{g(!1)}},Vs=async()=>{if(!De.fullName||!re||!B||!De.bankAccount){const H=[];De.fullName||H.push("Full Name"),re||H.push("National ID Number"),B||H.push("Bank Selection"),De.bankAccount||H.push("Bank Account Number"),n({title:"Required Fields Missing",description:"Please fill in: "+H.join(", "),variant:"destructive"});return}try{g(!0),x(null),await kr()}catch(H){console.error("Error finalizing credit booking:",H),n({title:"Submission Error",description:"There was an error creating your booking. Please retry.",variant:"destructive"}),g(!1)}};return s.jsxs(ae,{className:"w-full max-w-4xl mx-auto border-2 border-[#FFC20E] shadow-xl bg-white/95 backdrop-blur-sm",children:[s.jsxs(pe,{className:"bg-[#FFC20E] text-gray-900 rounded-t-md p-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-white/20 p-3 rounded-lg shadow-inner",children:s.jsx(Qt,{className:"h-8 w-8"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-3xl font-bold mb-1",children:"FastJet Credit Booking"}),s.jsx(ke,{className:"text-white/90 text-lg font-medium",children:"Book flights with corporate credit by providing your personal and payment details"})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2 relative mt-10",children:[s.jsx("div",{className:"absolute top-5 left-0 right-0 h-1.5 bg-gray-200/30 z-0 rounded-full"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center group",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center shadow-lg transform transition-all duration-300 
                ${c?"bg-green-500 text-white":"bg-blue-500 text-white scale-110 ring-4 ring-blue-200"} 
                ${dt?"border-green-500":""}`,children:dt?s.jsx(wt,{className:"h-7 w-7"}):s.jsx(Mr,{className:"h-6 w-6"})}),s.jsx("div",{className:"text-xs mt-2 font-medium text-gray-100",children:"Travel Details"})]}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c&&!Mn?"bg-blue-500 text-white":c&&Mn?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:Mn?s.jsx(wt,{className:"h-6 w-6"}):s.jsx(ec,{className:"h-5 w-5"})}),s.jsx("div",{className:"text-xs mt-2 font-medium text-gray-100",children:"Personal Details"})]}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c&&Mn?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:s.jsx(Qt,{className:"h-5 w-5"})}),s.jsx("div",{className:"text-xs mt-2 font-medium text-gray-100",children:"Submit"})]})]})]}),s.jsxs(me,{className:"space-y-8 p-8",children:[u&&s.jsxs("div",{className:"p-10 text-center bg-white rounded-xl shadow-sm border border-green-100",children:[s.jsx("div",{className:"mx-auto bg-green-50 rounded-full w-20 h-20 mb-6 flex items-center justify-center transform scale-110 ring-8 ring-green-50",children:s.jsx(wt,{className:"h-10 w-10 text-green-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-3",children:"Application Submitted!"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Your credit booking application has been successfully submitted and is now under admin review."}),s.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 py-2 px-4 rounded-full inline-block",children:"You'll be redirected to your dashboard in a few moments..."})]}),w&&!u&&s.jsxs(si,{variant:"destructive",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsx(xc,{children:"Error"}),s.jsx(ai,{children:w})]}),!u&&!c&&s.jsxs("form",{onSubmit:pr,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{children:"Find a Flight Schedule"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-xs",children:"From"}),s.jsxs("select",{value:ge,onChange:H=>{Q(H.target.value),H.target.value===te&&de("")},className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Select Origin City"}),ye.sort((H,le)=>(H.name||"").localeCompare(le.name||"")).map(H=>s.jsx("option",{value:H.id,children:jh(H.name||H.title||H.code||H)},H.id))]})]}),s.jsxs("div",{children:[s.jsx(Y,{className:"text-xs",children:"To"}),s.jsxs("select",{value:te,onChange:H=>de(H.target.value),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",required:!0,children:[s.jsx("option",{value:"",children:"Select Destination City"}),ye.filter(H=>H.id.toString()!==ge).sort((H,le)=>(H.name||"").localeCompare(le.name||"")).map(H=>s.jsx("option",{value:H.id,children:jh(H.name||H.title||H.code||H)},H.id))]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx($,{type:"button",variant:"outline",className:"w-full bg-transparent",disabled:!ge||!te||!P||ge===te,onClick:Qe,children:v?s.jsx(Dt,{className:"h-4 w-4 animate-spin"}):s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dl,{className:"h-4 w-4"})," Search"]})})})]}),y&&v&&s.jsxs("div",{className:"flex items-center p-2 text-sm",children:[s.jsx(Dt,{className:"h-4 w-4 animate-spin mr-2"})," Searching..."]}),y&&!v&&E.length===0&&s.jsx("div",{className:"p-2 text-xs text-gray-500",children:"No matching flight schedules."}),E.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"text-sm font-medium",children:"Available Flights"}),s.jsx("div",{className:"border rounded-md max-h-60 overflow-y-auto",children:E.map(H=>{var Ke;const le=(Ke=H.flight)==null?void 0:Ke.route,ve=Number.parseFloat((le==null?void 0:le.price)||H.price||"0").toFixed(2);return s.jsxs("button",{type:"button",onClick:()=>N(H.id),className:`w-full text-left p-3 text-sm flex justify-between items-center hover:bg-green-50 border-b last:border-b-0 ${j===H.id?"bg-green-100 border-green-200":""}`,children:[s.jsxs("span",{children:[ue(le),s.jsxs("span",{className:"block text-xs text-gray-500",children:["Dep: ",H.departure_time?new Date(H.departure_time).toLocaleString():"TBA"]})]}),s.jsxs("span",{className:"font-medium",children:[(le==null?void 0:le.currency)||"USD"," ",ve]})]},H.id)})})]}),j&&s.jsxs("div",{className:"text-xs text-green-700 mt-2 flex items-center gap-1",children:[s.jsx(Gi,{className:"h-3 w-3"})," Schedule #",j," selected"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Travel Type"}),s.jsxs(so,{defaultValue:"one-way",value:k,onValueChange:H=>F(H),className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"one-way",id:"one-way"}),s.jsxs(Y,{htmlFor:"one-way",className:"flex items-center",children:[s.jsx(uT,{className:"h-4 w-4 mr-1"}),"One Way"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($n,{value:"return",id:"return"}),s.jsxs(Y,{htmlFor:"return",className:"flex items-center",children:[s.jsx(cT,{className:"h-4 w-4 mr-1"}),"Return"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"travel-date",children:"Travel Date (7+ days in advance)"}),s.jsx("div",{className:"flex-1",children:s.jsxs(vl,{children:[s.jsx(bl,{asChild:!0,children:s.jsxs($,{variant:"outline",className:We("w-full justify-start text-left font-normal",!P&&"text-muted-foreground"),children:[s.jsx(Mr,{className:"mr-2 h-4 w-4"}),P?pt(P,"PPP"):"Select date"]})}),s.jsx(oo,{className:"w-auto p-0",children:s.jsx(oi,{mode:"single",selected:P,onSelect:C,initialFocus:!0,disabled:H=>{const le=new Date;return le.setDate(le.getDate()+7),H<le}})})]})})]}),k==="return"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"return-date",children:"Return Date"}),s.jsx("div",{className:"flex-1",children:s.jsxs(vl,{children:[s.jsx(bl,{asChild:!0,children:s.jsxs($,{variant:"outline",className:We("w-full justify-start text-left font-normal",!S&&"text-muted-foreground"),children:[s.jsx(Mr,{className:"mr-2 h-4 w-4"}),S?pt(S,"PPP"):"Select return date"]})}),s.jsx(oo,{className:"w-auto p-0",children:s.jsx(oi,{mode:"single",selected:S,onSelect:O,initialFocus:!0,disabled:H=>P?H<P:!0})})]})})]}),j&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{className:"p-4 border-2 border-[#FFC20E] rounded-md bg-[#FFF8E1]",children:[s.jsx("h3",{className:"font-semibold text-[#C58A00] mb-3",children:"To proceed with your travel arrangements, you should:"}),s.jsxs("ul",{className:"text-sm text-gray-700 space-y-3 mb-3",children:[s.jsx("li",{className:"flex justify-between items-center border-b border-[#FFC20E]/30 pb-2",children:s.jsxs("span",{className:"flex items-center",children:[s.jsx(ec,{className:"h-4 w-4 mr-2 text-[#FFC20E]"}),"Have a valid National ID Number"]})}),s.jsx("li",{className:"flex justify-between items-center border-b border-[#FFC20E]/30 pb-2",children:s.jsxs("span",{className:"flex items-center",children:[s.jsx(ec,{className:"h-4 w-4 mr-2 text-[#FFC20E]"}),"Hold an active bank account in your name"]})}),s.jsx("li",{className:"flex justify-between items-center border-b border-[#FFC20E]/30 pb-2",children:s.jsxs("span",{className:"flex items-center",children:[s.jsx(ec,{className:"h-4 w-4 mr-2 text-[#FFC20E]"}),"Provide your Bank Account Number"]})})]}),s.jsx("p",{className:"text-sm text-[#C58A00] font-medium mt-2 border-t border-[#FFC20E]/30 pt-2",children:"The longer your repayment period, the higher the total cost."})]}),s.jsxs("div",{className:"p-4 border-2 border-[#FFD700] rounded-md bg-[#fffdf0]",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx(Y,{children:"Loan Amount"}),s.jsx(Y,{children:"Loan Period"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-500",children:(()=>{const H=(E.length>0?E:z).find(Ke=>Ke.id===j);let le=0,ve="USD";return H&&(H.flight&&H.flight.route?(ve=H.flight.route.currency||"USD",H.flight.route.price?le=Number.parseFloat(H.flight.route.price):H.price&&(le=Number.parseFloat(H.price))):H.price&&(le=Number.parseFloat(H.price))),`${ve} ${le.toFixed(2)}`})()}),s.jsxs("div",{className:"text-3xl font-bold text-blue-500",children:[W," ",s.jsx("span",{className:"text-sm font-normal text-gray-500",children:W===1?"month":"months"})]})]})]}),s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsx(Y,{children:"Repayment Period"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx($,{type:"button",variant:"outline",size:"icon",className:"rounded-full bg-transparent",onClick:pn,disabled:W<=1,children:s.jsx("span",{children:"-"})}),s.jsxs("div",{className:"relative w-full mx-2",children:[s.jsx("div",{className:"bg-blue-100 h-2 rounded-full flex items-center justify-between px-2",children:s.jsx("div",{className:"bg-blue-500 h-2 absolute left-0 rounded-full transition-all",style:{width:`${W/3*100}%`}})}),s.jsxs("div",{className:"w-full flex justify-between px-4 mt-4",children:[s.jsx("span",{className:`text-xs ${W===1?"text-blue-700 font-bold":"text-gray-500"}`,children:"1"}),s.jsx("span",{className:`text-xs ${W===2?"text-blue-700 font-bold":"text-gray-500"}`,children:"2"}),s.jsx("span",{className:`text-xs ${W===3?"text-blue-700 font-bold":"text-gray-500"}`,children:"3"})]}),s.jsx("div",{className:"text-center text-xs text-gray-500 mt-1",children:"Months"})]}),s.jsx($,{type:"button",variant:"outline",size:"icon",className:"rounded-full bg-transparent",onClick:Lt,disabled:W>=3,children:s.jsx("span",{children:"+"})})]})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-6 border-t pt-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[(()=>{var le,ve;const H=z.find(Ke=>Ke.id===j);return((ve=(le=H==null?void 0:H.flight)==null?void 0:le.route)==null?void 0:ve.currency)||"USD"})()," ",Ye.toFixed(2)]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Total to repay"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:Mt?pt(Mt,"dd MMM yyyy"):""}),s.jsx("div",{className:"text-xs text-gray-500",children:"Repay date"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[(()=>{var le,ve;const H=z.find(Ke=>Ke.id===j);return((ve=(le=H==null?void 0:H.flight)==null?void 0:le.route)==null?void 0:ve.currency)||"USD"})()," ",(Ye-(()=>{var le,ve;const H=z.find(Ke=>Ke.id===j);return Number.parseFloat(((ve=(le=H==null?void 0:H.flight)==null?void 0:le.route)==null?void 0:ve.price)||(H==null?void 0:H.price)||"0")})()).toFixed(2)]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Interest & Fees"})]})]})]})]})]}),s.jsxs($,{type:"submit",className:"w-full bg-[#FFC20E] hover:bg-[#FFB300] text-gray-900",disabled:h||!j,children:[h&&s.jsx(Dt,{className:"mr-2 h-4 w-4 animate-spin"}),"Continue to Personal Details"]})]}),!u&&c&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"border border-[#FFC20E] rounded-xl p-8 bg-white shadow-lg backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8 pb-4 border-b border-gray-100",children:[s.jsx("div",{className:"bg-[#FFC20E]/10 p-2 rounded-lg",children:s.jsx(Xi,{className:"h-6 w-6 text-[#FFC20E]"})}),s.jsx("h2",{className:"text-2xl font-semibold",children:"Personal Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{htmlFor:"fullName",className:"text-sm font-medium",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(je,{id:"fullName",value:De.fullName,onChange:H=>Re(le=>({...le,fullName:H.target.value})),placeholder:"Enter your full name",className:"pl-10 h-11 transition-all duration-200 hover:border-[#FFC20E] focus:border-[#FFC20E] focus:ring-2 focus:ring-[#FFC20E]/20",required:!0}),s.jsx(Xi,{className:"h-4 w-4 text-gray-400 absolute left-3 top-3.5"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{htmlFor:"nationalId",className:"text-sm font-medium inline-block px-1",children:"National ID Number"}),s.jsxs("div",{className:"relative group",children:[s.jsx(je,{id:"nationalId",value:re,onChange:wn,className:`
                        pl-10 h-12 transition-all duration-200
                        hover:border-[#FFC20E] focus:border-[#FFC20E] focus:ring-2 focus:ring-[#FFC20E]/20
                        ${q?"border-red-500 focus:border-red-500 focus:ring-red-200":""}
                        group-hover:shadow-sm
                      `,placeholder:"e.g., 63-123456A78",required:!0}),s.jsx("div",{className:`
                      absolute left-3 top-3.5 transition-colors duration-200
                      ${q?"text-red-400":"text-gray-400 group-hover:text-[#FFC20E]"}
                    `,children:s.jsx(Qt,{className:"h-5 w-5"})})]}),q&&s.jsxs("p",{className:"text-sm text-red-500 mt-2 ml-1 flex items-center gap-2",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsx("span",{children:q})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{htmlFor:"bank",className:"text-sm font-medium",children:"Select Bank"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{id:"bank",value:B,onChange:H=>{ee(H.target.value),Re(le=>({...le,bank:H.target.value}))},className:"w-full pl-10 h-11 rounded-md border border-input bg-background px-3 py-2 transition-all duration-200 hover:border-[#FFC20E] focus:border-[#FFC20E] focus:ring-2 focus:ring-[#FFC20E]/20",required:!0,children:[s.jsx("option",{value:"",children:"Choose your bank"}),s.jsx("option",{value:"BancABC",children:"BancABC"}),s.jsx("option",{value:"FBC",children:"FBC"}),s.jsx("option",{value:"CABS",children:"CABS"})]}),s.jsx(mT,{className:"h-4 w-4 text-gray-400 absolute left-3 top-3.5"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{htmlFor:"bankAccount",className:"text-sm font-medium inline-block px-1",children:"Bank Account Number"}),s.jsxs("div",{className:"relative group",children:[s.jsx(je,{id:"bankAccount",value:De.bankAccount||"",onChange:H=>{const le=H.target.value;Re(ve=>({...ve,bankAccount:le})),Ne(le)},placeholder:"Enter your bank account number",className:`
                        pl-10 h-12 transition-all duration-200
                        hover:border-[#FFC20E] focus:border-[#FFC20E] focus:ring-2 focus:ring-[#FFC20E]/20
                        ${Te.bankAccount?"border-red-500 focus:border-red-500 focus:ring-red-200":""}
                        group-hover:shadow-sm w-full
                      `,required:!0}),s.jsx("div",{className:`
                      absolute left-3 top-3.5 transition-colors duration-200
                      ${Te.bankAccount?"text-red-400":"text-gray-400 group-hover:text-[#FFC20E]"}
                    `,children:s.jsx(Qt,{className:"h-5 w-5"})})]}),Te.bankAccount&&s.jsxs("p",{className:"text-sm text-red-500 mt-2 ml-1 flex items-center gap-2",children:[s.jsx(zo,{className:"h-4 w-4"}),s.jsx("span",{children:Te.bankAccount})]}),Te.bankAccount&&s.jsx("p",{className:"text-sm text-red-500",children:Te.bankAccount})]}),s.jsx("div",{className:"pt-6 border-t",children:s.jsxs($,{type:"button",variant:"outline",onClick:Nt,disabled:!De.fullName||!re||!B,className:"w-full bg-transparent",children:[s.jsx(bT,{className:"h-4 w-4 mr-2"}),"Print Form"]})}),s.jsx($,{className:"w-full bg-[#FFC20E] hover:bg-[#FFB300] text-gray-900 py-3 mt-4",onClick:Vs,disabled:h||!De.fullName||!re||!B,children:h?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx(Dt,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Processing..."})]}):s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx(Qt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Submit Application"})]})})]})]})})]})]})},gB=()=>{Br();const e=t=>{console.log("Credit booking created with ID:",t)};return s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Credit Booking Application"}),s.jsx(xB,{onBookingCreated:e})]})},Nh={ECOCASH_HISTORY:ot.ECOCASH_TRANSACTION_HISTORY,INNBUCKS_HISTORY:`${oe}/wallets/innbucks/history/`,OMARI_HISTORY:`${oe}/wallets/omari/history/`},yB=()=>{const e=Br(),{toast:t}=fn(),[n,r]=m.useState("all"),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState([]),[u,f]=m.useState(!1),[h,g]=m.useState("all"),[v,p]=m.useState(""),[w,x]=m.useState("all"),[y,b]=m.useState(0),[j,N]=m.useState(!0),P=D=>{switch(D.toLowerCase()){case"completed":case"success":case"successful":return"default";case"failed":case"error":return"destructive";case"timeout":case"expired":return"secondary";case"pending":case"pending_subscriber":case"processing":return"outline";default:return"secondary"}},C=D=>{switch(D.toLowerCase()){case"completed":case"success":case"successful":return"";case"failed":case"error":return"";case"timeout":case"expired":return"";case"pending":case"pending_subscriber":case"processing":return"";default:return""}},S=D=>new Date(D).toLocaleString(),O=D=>{if(!D)return"N/A";if(D.startsWith("263")){const _=D.slice(3);return`+263 ${_.slice(0,2)} ${_.slice(2,5)} ${_.slice(5)}`}return D},k=(D,_)=>{const T=parseFloat(D);return _==="USD"?`$${T.toFixed(2)}`:`${_} ${T.toFixed(2)}`},F=async(D,_=!1)=>{var T,L;if(!u){f(!0);try{const U=sessionStorage.getItem("token");if(!U){t({title:"Error",description:"Please log in to view payment history",variant:"destructive"});return}const z=new URLSearchParams({limit:"10",offset:(_?0:y*10).toString()});h&&h!=="all"&&z.append("status",h),v&&z.append("search",v),w!=="all"&&z.append("date_filter",w);let G="";switch(D){case"ecocash":G=Nh.ECOCASH_HISTORY;break;case"innbucks":G=Nh.INNBUCKS_HISTORY;break;case"omari":G=Nh.OMARI_HISTORY;break}console.log(`Loading ${D} transactions from:`,`${G}?${z}`);const ye=await Be.get(`${G}?${z}`,{headers:{Authorization:`Token ${U}`}});if(console.log(`${D} API response:`,ye.data),ye.data.success){const Ce=ye.data.transactions;switch(D){case"ecocash":i(_?Ce:[...a,...Ce]);break;case"innbucks":l(_?Ce:[...o,...Ce]);break;case"omari":d(_?Ce:[...c,...Ce]);break}N(Ce.length===10),b(_?1:y+1)}else t({title:"Error",description:ye.data.message||"Failed to load transactions",variant:"destructive"})}catch(U){console.error(`Error loading ${D} transactions:`,U),t({title:"Error",description:((L=(T=U.response)==null?void 0:T.data)==null?void 0:L.message)||`An error occurred while loading ${D} transactions`,variant:"destructive"})}finally{f(!1)}}},B=async(D=!0)=>{await Promise.all([F("ecocash",D),F("innbucks",D),F("omari",D)])},ee=()=>[...a.map(_=>({..._,paymentMethod:"EcoCash"})),...o.map(_=>({..._,paymentMethod:"InnBucks"})),...c.map(_=>({..._,paymentMethod:"O Mari"}))].filter(_=>{const T=h==="all"||_.status===h,L=!v||_.reference_code.toLowerCase().includes(v.toLowerCase())||_.amount.includes(v)||_.currency_code.toLowerCase().includes(v.toLowerCase());return T&&L}).sort((_,T)=>new Date(T.created_at).getTime()-new Date(_.created_at).getTime()),re=()=>{b(0),B(!0)},J=()=>{const D=n==="all"?ee():n==="ecocash"?a:n==="innbucks"?o:c,_=[["Date","Reference","Amount","Currency","Status","Payment Method","Points Earned"],...D.map(z=>{var G;return[S(z.created_at),z.reference_code,z.amount,z.currency_code,z.status,z.paymentMethod||n.toUpperCase(),((G=z.loyalty_points_awarded)==null?void 0:G.toString())||"0"]})].map(z=>z.join(",")).join(`
`),T=new Blob([_],{type:"text/csv"}),L=URL.createObjectURL(T),U=document.createElement("a");U.href=L,U.download=`payment-history-${n}-${new Date().toISOString().split("T")[0]}.csv`,U.click(),URL.revokeObjectURL(L)};m.useEffect(()=>{B()},[h,w]),m.useEffect(()=>{const D=setTimeout(()=>{v!==""&&B(!0)},500);return()=>clearTimeout(D)},[v]);const q=(D,_)=>s.jsx(ae,{className:"mb-4",children:s.jsxs(me,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[_==="EcoCash"&&s.jsx(Xv,{className:"h-5 w-5 text-green-600"}),_==="InnBucks"&&s.jsx(Qt,{className:"h-5 w-5 text-blue-600"}),_==="O Mari"&&s.jsx(Kv,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"font-medium text-sm text-gray-600",children:_})]}),s.jsxs(it,{variant:P(D.status),children:[C(D.status)," ",D.status.toUpperCase()]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Amount:"})," ",k(D.amount,D.currency_code)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Reference:"})," ",D.reference_code]}),"client_correlator"in D&&D.client_correlator&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Client Correlator:"})," ",D.client_correlator]}),"ecocash_reference"in D&&D.ecocash_reference&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"EcoCash Reference:"})," ",D.ecocash_reference]}),"server_reference_code"in D&&D.server_reference_code&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Server Reference:"})," ",D.server_reference_code]}),"end_user_id"in D&&D.end_user_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",O(D.end_user_id)]}),"innbucks_code"in D&&D.innbucks_code&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"InnBucks Code:"})," ",D.innbucks_code]}),"innbucks_reference"in D&&D.innbucks_reference&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"InnBucks Ref:"})," ",D.innbucks_reference]}),"omari_reference"in D&&D.omari_reference&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"O Mari Ref:"})," ",D.omari_reference]}),"transaction_fee"in D&&D.transaction_fee&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Fee:"})," ",k(D.transaction_fee,D.currency_code)]}),"phone_number"in D&&D.phone_number&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",O(D.phone_number)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",S(D.created_at)]}),D.loyalty_points_awarded>0&&s.jsxs("div",{className:"text-green-600",children:[s.jsx("span",{className:"font-medium",children:"Points Earned:"})," +",D.loyalty_points_awarded]})]}),D.remarks&&s.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Remarks:"})," ",D.remarks]})]})},D.id);return s.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsxs($,{variant:"ghost",onClick:()=>e("/client/wallet"),className:"mr-4",children:[s.jsx(dT,{className:"h-4 w-4 mr-2"}),"Back to Wallet"]}),s.jsx("h1",{className:"text-2xl font-bold",children:"Payment History"})]}),s.jsx(ae,{className:"mb-6",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(dl,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx(je,{placeholder:"Search by reference, amount, or currency...",value:v,onChange:D=>p(D.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xT,{className:"h-4 w-4 text-gray-400"}),s.jsxs(Cn,{value:h,onValueChange:g,children:[s.jsx(yn,{className:"w-48",children:s.jsx(kn,{placeholder:"Filter by status"})}),s.jsxs(vn,{children:[s.jsx(Ve,{value:"all",children:"All Status"}),s.jsx(Ve,{value:"completed",children:"Completed"}),s.jsx(Ve,{value:"failed",children:"Failed"}),s.jsx(Ve,{value:"timeout",children:"Timeout"}),s.jsx(Ve,{value:"pending",children:"Pending"}),s.jsx(Ve,{value:"processing",children:"Processing"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mr,{className:"h-4 w-4 text-gray-400"}),s.jsxs(Cn,{value:w,onValueChange:x,children:[s.jsx(yn,{className:"w-40",children:s.jsx(kn,{placeholder:"Date range"})}),s.jsxs(vn,{children:[s.jsx(Ve,{value:"all",children:"All Time"}),s.jsx(Ve,{value:"today",children:"Today"}),s.jsx(Ve,{value:"week",children:"This Week"}),s.jsx(Ve,{value:"month",children:"This Month"})]})]})]}),s.jsxs($,{variant:"outline",size:"sm",onClick:re,disabled:u,children:[s.jsx(kl,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]}),s.jsxs($,{variant:"outline",size:"sm",onClick:J,children:[s.jsx(wN,{className:"h-4 w-4 mr-2"}),"Export"]})]})})}),s.jsxs(es,{value:n,onValueChange:r,className:"w-full",children:[s.jsxs(Fr,{className:"grid w-full grid-cols-4",children:[s.jsx(rt,{value:"all",children:"All Payments"}),s.jsx(rt,{value:"ecocash",children:"EcoCash"}),s.jsx(rt,{value:"innbucks",children:"InnBucks"}),s.jsx(rt,{value:"omari",children:"O Mari"})]}),s.jsx(st,{value:"all",className:"mt-6",children:s.jsx("div",{className:"space-y-4",children:ee().length===0?s.jsx(ae,{children:s.jsxs(me,{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"mb-4",children:s.jsx(Qt,{className:"h-12 w-12 mx-auto text-gray-300"})}),s.jsx("p",{className:"text-lg",children:"No transactions found"}),s.jsx("p",{className:"text-sm",children:"Your payment history will appear here"})]})}):ee().map(D=>q(D,D.paymentMethod))})}),s.jsx(st,{value:"ecocash",className:"mt-6",children:s.jsx("div",{className:"space-y-4",children:a.length===0?s.jsx(ae,{children:s.jsxs(me,{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"mb-4",children:s.jsx(Xv,{className:"h-12 w-12 mx-auto text-green-300"})}),s.jsx("p",{className:"text-lg",children:"No EcoCash transactions found"}),s.jsx("p",{className:"text-sm",children:"Your EcoCash payment history will appear here"})]})}):a.map(D=>q(D,"EcoCash"))})}),s.jsx(st,{value:"innbucks",className:"mt-6",children:s.jsx("div",{className:"space-y-4",children:o.length===0?s.jsx(ae,{children:s.jsxs(me,{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"mb-4",children:s.jsx(Qt,{className:"h-12 w-12 mx-auto text-blue-300"})}),s.jsx("p",{className:"text-lg",children:"No InnBucks transactions found"}),s.jsx("p",{className:"text-sm",children:"Your InnBucks payment history will appear here"})]})}):o.map(D=>q(D,"InnBucks"))})}),s.jsx(st,{value:"omari",className:"mt-6",children:s.jsx("div",{className:"space-y-4",children:c.length===0?s.jsx(ae,{children:s.jsxs(me,{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"mb-4",children:s.jsx(Kv,{className:"h-12 w-12 mx-auto text-purple-300"})}),s.jsx("p",{className:"text-lg",children:"No O Mari transactions found"}),s.jsx("p",{className:"text-sm",children:"Your O Mari payment history will appear here"})]})}):c.map(D=>q(D,"O Mari"))})})]}),j&&s.jsx("div",{className:"text-center mt-6",children:s.jsx($,{variant:"outline",onClick:()=>{n==="all"?B(!1):F(n,!1)},disabled:u,children:u?"Loading...":"Load More Transactions"})})]})},vB=()=>{const e=zs();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},bB=new wE,wB=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!0),a=()=>{t(null)};return s.jsx(NE,{client:bB,children:s.jsxs(yP,{children:[s.jsx(ZD,{}),s.jsx("div",{className:"flex flex-col min-h-screen",children:s.jsxs(uP,{children:[s.jsx(Pn,{path:"/",element:s.jsx(RF,{})}),s.jsx(Pn,{path:"/login",element:s.jsx(iL,{onLogin:()=>{}})}),s.jsx(Pn,{path:"/register",element:s.jsx(dL,{})}),s.jsx(Pn,{path:"/forgot-password",element:s.jsx(hB,{})}),s.jsx(Pn,{path:"/reset-password/:uid/:token",element:s.jsx(pB,{})}),s.jsx(Pn,{path:"/client/dashboard",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"client",onLogout:a}),s.jsx(CL,{})]})}),s.jsx(Pn,{path:"/client/wallet",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"client",onLogout:a}),s.jsx(V6,{})]})}),n&&s.jsx(Pn,{path:"/client/flights",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"client",onLogout:a}),s.jsx(q6,{})]})}),s.jsx(Pn,{path:"/client/booking-success",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"client",onLogout:a}),s.jsx(sB,{})]})}),s.jsx(Pn,{path:"/client/credit",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"client",onLogout:a}),s.jsx(gB,{})]})}),s.jsx(Pn,{path:"/client/redemptions",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"client",onLogout:a}),s.jsx(mB,{})]})}),s.jsx(Pn,{path:"/client/rewards",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"client",onLogout:a}),s.jsx(rB,{})]})}),s.jsx(Pn,{path:"/client/payment-history",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"client",onLogout:a}),s.jsx(yB,{})]})}),s.jsx(Pn,{path:"/admin/dashboard",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"admin",onLogout:a}),s.jsx(A6,{})]})}),s.jsx(Pn,{path:"/admin/users",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"admin",onLogout:a}),s.jsx(I6,{})]})}),s.jsx(Pn,{path:"/admin/redemptions",element:s.jsxs(s.Fragment,{children:[s.jsx(as,{userType:"admin",onLogout:a}),s.jsx(fB,{})]})}),s.jsx(Pn,{path:"/destinations",element:s.jsx(tk,{})}),s.jsx(Pn,{path:"/create-destination",element:s.jsx(ek,{})}),s.jsx(Pn,{path:"*",element:s.jsx(vB,{})})]})})]})})};Hj(document.getElementById("root")).render(s.jsx(wB,{}));
